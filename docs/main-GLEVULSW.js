var Cw=Object.defineProperty,Iw=Object.defineProperties;var Sw=Object.getOwnPropertyDescriptors;var gp=Object.getOwnPropertySymbols;var Tw=Object.prototype.hasOwnProperty,Mw=Object.prototype.propertyIsEnumerable;var mp=(e,t,n)=>t in e?Cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||={})Tw.call(t,n)&&mp(e,n,t[n]);if(gp)for(var n of gp(t))Mw.call(t,n)&&mp(e,n,t[n]);return e},G=(e,t)=>Iw(e,Sw(t));var Ue=null,Ks=!1,vu=1,Aw=null,He=Symbol("SIGNAL");function O(e){let t=Ue;return Ue=e,t}function Ys(){return Ue}var Xi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function eo(e){if(Ks)throw new Error("");if(Ue===null)return;Ue.consumerOnSignalRead(e);let t=Ue.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ue.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ue.producers,n!==void 0&&n.producer===e)){Ue.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ue&&(!r||xw(i,Ue)))return;let o=Wr(Ue),s={producer:e,consumer:Ue,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ue.producersTail=s,t!==void 0?t.nextProducer=s:Ue.producers=s,o&&bp(e,s)}function vp(){vu++}function yu(e){if(!(Wr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===vu)){if(!e.producerMustRecompute(e)&&!Qs(e)){mu(e);return}e.producerRecomputeValue(e),mu(e)}}function _u(e){if(e.consumers===void 0)return;let t=Ks;Ks=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Rw(r)}}finally{Ks=t}}function bu(){return Ue?.consumerAllowSignalWrites!==!1}function Rw(e){e.dirty=!0,_u(e),e.consumerMarkedDirty?.(e)}function mu(e){e.dirty=!1,e.lastCleanEpoch=vu}function to(e){return e&&yp(e),O(e)}function yp(e){e.producersTail=void 0,e.recomputing=!0}function Js(e,t){O(t),e&&_p(e)}function _p(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(Wr(e))do n=wu(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Qs(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(yu(n),r!==n.version))return!0}return!1}function no(e){if(Wr(e)){let t=e.producers;for(;t!==void 0;)t=wu(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function bp(e,t){let n=e.consumersTail,r=Wr(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)bp(i.producer,i)}function wu(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Wr(t)){let o=t.producers;for(;o!==void 0;)o=wu(o)}return n}function Wr(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Eu(e){Aw?.(e)}function xw(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Du(e,t){return Object.is(e,t)}function Xs(e,t){let n=Object.create(Nw);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(yu(n),eo(n),n.value===Zs)throw n.error;return n.value};return r[He]=n,Eu(n),r}var pu=Symbol("UNSET"),gu=Symbol("COMPUTING"),Zs=Symbol("ERRORED"),Nw=G(D({},Xi),{value:pu,dirty:!0,error:null,equal:Du,kind:"computed",producerMustRecompute(e){return e.value===pu||e.value===gu},producerRecomputeValue(e){if(e.value===gu)throw new Error("");let t=e.value;e.value=gu;let n=to(e),r,i=!1;try{r=e.computation(),O(null),i=t!==pu&&t!==Zs&&r!==Zs&&e.equal(t,r)}catch(o){r=Zs,e.error=o}finally{Js(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Ow(){throw new Error}var wp=Ow;function Ep(e){wp(e)}function Cu(e){wp=e}var kw=null;function Iu(e,t){let n=Object.create(ea);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Dp(n);return r[He]=n,Eu(n),[r,s=>ro(n,s),s=>Cp(n,s)]}function Dp(e){return eo(e),e.value}function ro(e,t){bu()||Ep(e),e.equal(e.value,t)||(e.value=t,Pw(e))}function Cp(e,t){bu()||Ep(e),ro(e,t(e.value))}var ea=G(D({},Xi),{equal:Du,value:void 0,kind:"signal"});function Pw(e){e.version++,vp(),_u(e),kw?.(e)}function Su(e){let t=O(null);try{return e()}finally{O(t)}}function V(e){return typeof e=="function"}function Kr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ta=Kr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function io(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Me=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(o){t=o instanceof ta?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ip(o)}catch(s){t=t??[],s instanceof ta?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ta(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Ip(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&io(n,t)}remove(t){let{_finalizers:n}=this;n&&io(n,t),t instanceof e&&t._removeParent(this)}};Me.EMPTY=(()=>{let e=new Me;return e.closed=!0,e})();var Tu=Me.EMPTY;function na(e){return e instanceof Me||e&&"closed"in e&&V(e.remove)&&V(e.add)&&V(e.unsubscribe)}function Ip(e){V(e)?e():e.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zr={setTimeout(e,t,...n){let{delegate:r}=Zr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Zr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ra(e){Zr.setTimeout(()=>{let{onUnhandledError:t}=wt;if(t)t(e);else throw e})}function Yn(){}var Sp=Mu("C",void 0,void 0);function Tp(e){return Mu("E",void 0,e)}function Mp(e){return Mu("N",e,void 0)}function Mu(e,t,n){return{kind:e,value:t,error:n}}var Jn=null;function Yr(e){if(wt.useDeprecatedSynchronousErrorHandling){let t=!Jn;if(t&&(Jn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Jn;if(Jn=null,n)throw r}}else e()}function Ap(e){wt.useDeprecatedSynchronousErrorHandling&&Jn&&(Jn.errorThrown=!0,Jn.error=e)}var Qn=class extends Me{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,na(t)&&t.add(this)):this.destination=jw}static create(t,n,r){return new Jr(t,n,r)}next(t){this.isStopped?Ru(Mp(t),this):this._next(t)}error(t){this.isStopped?Ru(Tp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ru(Sp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Fw=Function.prototype.bind;function Au(e,t){return Fw.call(e,t)}var xu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ia(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ia(r)}else ia(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ia(n)}}},Jr=class extends Qn{constructor(t,n,r){super();let i;if(V(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&wt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Au(t.next,o),error:t.error&&Au(t.error,o),complete:t.complete&&Au(t.complete,o)}):i=t}this.destination=new xu(i)}};function ia(e){wt.useDeprecatedSynchronousErrorHandling?Ap(e):ra(e)}function Lw(e){throw e}function Ru(e,t){let{onStoppedNotification:n}=wt;n&&Zr.setTimeout(()=>n(e,t))}var jw={closed:!0,next:Yn,error:Lw,complete:Yn};var Qr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(e){return e}function Nu(...e){return Ou(e)}function Ou(e){return e.length===0?Et:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var U=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Uw(n)?n:new Jr(n,r,i);return Yr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rp(r),new r((i,o)=>{let s=new Jr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Qr](){return this}pipe(...n){return Ou(n)(this)}toPromise(n){return n=Rp(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Rp(e){var t;return(t=e??wt.Promise)!==null&&t!==void 0?t:Promise}function Vw(e){return e&&V(e.next)&&V(e.error)&&V(e.complete)}function Uw(e){return e&&e instanceof Qn||Vw(e)&&na(e)}function Bw(e){return V(e?.lift)}function X(e){return t=>{if(Bw(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ee(e,t,n,r,i){return new ku(e,t,n,r,i)}var ku=class extends Qn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var xp=Kr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class e extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new oa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xp}next(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tu:(this.currentObservers=null,o.push(n),new Me(()=>{this.currentObservers=null,io(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new U;return n.source=this,n}}return e.create=(t,n)=>new oa(t,n),e})(),oa=class extends se{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Tu}};var Ae=class extends se{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Re=new U(e=>e.complete());function Np(e){return e&&V(e.schedule)}function Op(e){return e[e.length-1]}function sa(e){return V(Op(e))?e.pop():void 0}function Sn(e){return Np(Op(e))?e.pop():void 0}function er(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function aa(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function kp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xn(e){return this instanceof Xn?(this.v=e,this):new Xn(e)}function Pp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(v,m){o.push([f,g,v,m])>1||c(f,g)})},p&&(i[f]=p(i[f])))}function c(f,p){try{l(r[f](p))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof Xn?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Fp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof kp=="function"?kp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ca=e=>e&&typeof e.length=="number"&&typeof e!="function";function la(e){return V(e?.then)}function ua(e){return V(e[Qr])}function da(e){return Symbol.asyncIterator&&V(e?.[Symbol.asyncIterator])}function fa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $w(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ha=$w();function pa(e){return V(e?.[ha])}function ga(e){return Pp(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Xn(n.read());if(i)return yield Xn(void 0);yield yield Xn(r)}}finally{n.releaseLock()}})}function ma(e){return V(e?.getReader)}function ye(e){if(e instanceof U)return e;if(e!=null){if(ua(e))return Hw(e);if(ca(e))return qw(e);if(la(e))return zw(e);if(da(e))return Lp(e);if(pa(e))return Gw(e);if(ma(e))return Ww(e)}throw fa(e)}function Hw(e){return new U(t=>{let n=e[Qr]();if(V(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qw(e){return new U(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function zw(e){return new U(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ra)})}function Gw(e){return new U(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Lp(e){return new U(t=>{Kw(e,t).catch(n=>t.error(n))})}function Ww(e){return Lp(ga(e))}function Kw(e,t){var n,r,i,o;return aa(this,void 0,void 0,function*(){try{for(n=Fp(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ke(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function va(e,t=0){return X((n,r)=>{n.subscribe(ee(r,i=>Ke(r,e,()=>r.next(i),t),()=>Ke(r,e,()=>r.complete(),t),i=>Ke(r,e,()=>r.error(i),t)))})}function ya(e,t=0){return X((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function jp(e,t){return ye(e).pipe(ya(t),va(t))}function Vp(e,t){return ye(e).pipe(ya(t),va(t))}function Up(e,t){return new U(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Bp(e,t){return new U(n=>{let r;return Ke(n,t,()=>{r=e[ha](),Ke(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function _a(e,t){if(!e)throw new Error("Iterable cannot be null");return new U(n=>{Ke(n,t,()=>{let r=e[Symbol.asyncIterator]();Ke(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $p(e,t){return _a(ga(e),t)}function Hp(e,t){if(e!=null){if(ua(e))return jp(e,t);if(ca(e))return Up(e,t);if(la(e))return Vp(e,t);if(da(e))return _a(e,t);if(pa(e))return Bp(e,t);if(ma(e))return $p(e,t)}throw fa(e)}function Z(e,t){return t?Hp(e,t):ye(e)}function H(...e){let t=Sn(e);return Z(e,t)}function Pu(e,t){let n=V(e)?e:()=>e,r=i=>i.error(n());return new U(t?i=>t.schedule(r,0,i):r)}function ba(e){return!!e&&(e instanceof U||V(e.lift)&&V(e.subscribe))}var tr=Kr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function P(e,t){return X((n,r)=>{let i=0;n.subscribe(ee(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:Zw}=Array;function Yw(e,t){return Zw(t)?e(...t):e(t)}function wa(e){return P(t=>Yw(e,t))}var{isArray:Jw}=Array,{getPrototypeOf:Qw,prototype:Xw,keys:eE}=Object;function Ea(e){if(e.length===1){let t=e[0];if(Jw(t))return{args:t,keys:null};if(tE(t)){let n=eE(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function tE(e){return e&&typeof e=="object"&&Qw(e)===Xw}function Da(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Fu(...e){let t=Sn(e),n=sa(e),{args:r,keys:i}=Ea(e);if(r.length===0)return Z([],t);let o=new U(nE(r,t,i?s=>Da(i,s):Et));return n?o.pipe(wa(n)):o}function nE(e,t,n=Et){return r=>{qp(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)qp(t,()=>{let l=Z(e[c],t),u=!1;l.subscribe(ee(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qp(e,t,n){e?Ke(n,e,t):t()}function zp(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{o&&t.next(g),l++;let v=!1;ye(n(g,u++)).subscribe(ee(t,m=>{i?.(m),o?f(m):t.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let m=c.shift();s?Ke(t,s,()=>p(m)):p(m)}h()}catch(m){t.error(m)}}))};return e.subscribe(ee(t,f,()=>{d=!0,h()})),()=>{a?.()}}function qe(e,t,n=1/0){return V(t)?qe((r,i)=>P((o,s)=>t(r,o,i,s))(ye(e(r,i))),n):(typeof t=="number"&&(n=t),X((r,i)=>zp(r,i,e,n)))}function Gp(e=1/0){return qe(Et,e)}function Wp(){return Gp(1)}function Xr(...e){return Wp()(Z(e,Sn(e)))}function oo(e){return new U(t=>{ye(e()).subscribe(t)})}function Lu(...e){let t=sa(e),{args:n,keys:r}=Ea(e),i=new U(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ye(n[u]).subscribe(ee(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Da(r,a):a),o.complete())}))}});return t?i.pipe(wa(t)):i}var sn=new U(Yn);function Ze(e,t){return X((n,r)=>{let i=0;n.subscribe(ee(r,o=>e.call(t,o,i++)&&r.next(o)))})}function so(e){return X((t,n)=>{let r=null,i=!1,o;r=t.subscribe(ee(n,void 0,void 0,s=>{o=ye(e(s,so(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ei(e,t){return V(t)?qe(e,t,1):qe(e,1)}function Kp(e){return X((t,n)=>{let r=!1;t.subscribe(ee(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function ze(e){return e<=0?()=>Re:X((t,n)=>{let r=0;t.subscribe(ee(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Zp(e=rE){return X((t,n)=>{let r=!1;t.subscribe(ee(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function rE(){return new tr}function ao(e){return X((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function an(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ze((i,o)=>e(i,o,r)):Et,ze(1),n?Kp(t):Zp(()=>new tr))}function Ca(e){return e<=0?()=>Re:X((t,n)=>{let r=[];t.subscribe(ee(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ju(...e){let t=Sn(e);return X((n,r)=>{(t?Xr(e,n,t):Xr(e,n)).subscribe(r)})}function Be(e,t){return X((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ee(r,c=>{i?.unsubscribe();let l=0,u=o++;ye(e(c,u)).subscribe(i=ee(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function co(e){return X((t,n)=>{ye(e).subscribe(ee(n,()=>n.complete(),Yn)),!n.closed&&t.subscribe(n)})}function Bt(e,t,n){let r=V(e)||t||n?{next:e,error:t,complete:n}:e;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ee(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var Vu;function Ia(){return Vu}function $t(e){let t=Vu;return Vu=e,t}var Yp=Symbol("NotFound");function ti(e){return e===Yp||e?.name==="\u0275NotFound"}var Ra="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(t,n){super(un(t,n)),this.code=t}};function sE(e){return`NG0${Math.abs(e)}`}function un(e,t){return`${sE(e)}${t?": "+t:""}`}var go=globalThis;function te(e){for(let t in e)if(e[t]===te)return t;throw Error("")}function tg(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ln(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ln).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xa(e,t){return e?t?`${e} ${t}`:e:t||""}var aE=te({__forward_ref__:te});function Dt(e){return e.__forward_ref__=Dt,e.toString=function(){return ln(this())},e}function xe(e){return ed(e)?e():e}function ed(e){return typeof e=="function"&&e.hasOwnProperty(aE)&&e.__forward_ref__===Dt}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function at(e){return{providers:e.providers||[],imports:e.imports||[]}}function mo(e){return cE(e,Na)}function td(e){return mo(e)!==null}function cE(e,t){return e.hasOwnProperty(t)&&e[t]||null}function lE(e){let t=e?.[Na]??null;return t||null}function Bu(e){return e&&e.hasOwnProperty(Ta)?e[Ta]:null}var Na=te({\u0275prov:te}),Ta=te({\u0275inj:te}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nd(e){return e&&!!e.\u0275providers}var rd=te({\u0275cmp:te}),id=te({\u0275dir:te}),od=te({\u0275pipe:te}),sd=te({\u0275mod:te}),uo=te({\u0275fac:te}),ar=te({__NG_ELEMENT_ID__:te}),Jp=te({__NG_ENV_ID__:te});function ad(e){return Oa(e,"@NgModule"),e[sd]||null}function An(e){return Oa(e,"@Component"),e[rd]||null}function cd(e){return Oa(e,"@Directive"),e[id]||null}function ng(e){return Oa(e,"@Pipe"),e[od]||null}function Oa(e,t){if(e==null)throw new C(-919,!1)}function ri(e){return typeof e=="string"?e:e==null?"":String(e)}var rg=te({ngErrorCode:te}),uE=te({ngErrorMessage:te}),dE=te({ngTokenPath:te});function ld(e,t){return ig("",-200,t)}function ka(e,t){throw new C(-201,!1)}function ig(e,t,n){let r=new C(t,e);return r[rg]=t,r[uE]=e,n&&(r[dE]=n),r}function fE(e){return e[rg]}var $u;function og(){return $u}function Xe(e){let t=$u;return $u=e,t}function ud(e,t,n){let r=mo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;ka(e,"")}var hE={},nr=hE,pE="__NG_DI_FLAG__",Hu=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=rr(n)||0;try{return this.injector.get(t,r&8?null:nr,r)}catch(i){if(ti(i))return i;throw i}}};function gE(e,t=0){let n=Ia();if(n===void 0)throw new C(-203,!1);if(n===null)return ud(e,void 0,t);{let r=mE(t),i=n.retrieve(e,r);if(ti(i)){if(r.optional)return null;throw i}return i}}function x(e,t=0){return(og()||gE)(xe(e),t)}function y(e,t){return x(e,rr(t))}function rr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function mE(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function qu(e){let t=[];for(let n=0;n<e.length;n++){let r=xe(e[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=vE(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(x(i,o))}else t.push(x(r))}return t}function vE(e){return e[pE]}function ir(e,t){let n=e.hasOwnProperty(uo);return n?e[uo]:null}function Pa(e,t){e.forEach(n=>Array.isArray(n)?Pa(n,t):t(n))}function dd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function vo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function sg(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Fa(e,t,n){let r=ii(e,t);return r>=0?e[r|1]=n:(r=~r,sg(e,r,t,n)),r}function La(e,t){let n=ii(e,t);if(n>=0)return e[n|1]}function ii(e,t){return yE(e,t,1)}function yE(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Rn={},Ge=[],cr=new S(""),fd=new S("",-1),hd=new S(""),fo=class{get(t,n=nr){if(n===nr){let i=ig("",-201);throw i.name="\u0275NotFound",i}return n}};function Ct(e){return{\u0275providers:e}}function ag(e){return Ct([{provide:cr,multi:!0,useValue:e}])}function cg(...e){return{\u0275providers:pd(!0,e),\u0275fromNgModule:!0}}function pd(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Pa(t,s=>{let a=s;Ma(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&lg(i,o),n}function lg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];gd(i,o=>{t(o,r)})}}function Ma(e,t,n,r){if(e=xe(e),!e)return!1;let i=null,o=Bu(e),s=!o&&An(e);if(!o&&!s){let c=e.ngModule;if(o=Bu(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ma(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Pa(o.imports,u=>{Ma(u,t,n,r)&&(l||=[],l.push(u))}),l!==void 0&&lg(l,t)}if(!a){let l=ir(i)||(()=>new i);t({provide:i,useFactory:l,deps:Ge},i),t({provide:hd,useValue:i,multi:!0},i),t({provide:cr,useValue:()=>x(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;gd(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function gd(e,t){for(let n of e)nd(n)&&(n=n.\u0275providers),Array.isArray(n)?gd(n,t):t(n)}var _E=te({provide:String,useValue:te});function ug(e){return e!==null&&typeof e=="object"&&_E in e}function bE(e){return!!(e&&e.useExisting)}function wE(e){return!!(e&&e.useFactory)}function or(e){return typeof e=="function"}function dg(e){return!!e.useClass}var yo=new S(""),Sa={},Qp={},Uu;function _o(){return Uu===void 0&&(Uu=new fo),Uu}var ae=class{},sr=class extends ae{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Gu(t,s=>this.processProvider(s)),this.records.set(fd,ni(void 0,this)),i.has("environment")&&this.records.set(ae,ni(void 0,this));let o=this.records.get(yo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hd,Ge,{self:!0}))}retrieve(t,n){let r=rr(n)||0;try{return this.get(t,nr,r)}catch(i){if(ti(i))return i;throw i}}destroy(){lo(this),this._destroyed=!0;let t=O(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(t)}}onDestroy(t){return lo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){lo(this);let n=$t(this),r=Xe(void 0),i;try{return t()}finally{$t(n),Xe(r)}}get(t,n=nr,r){if(lo(this),t.hasOwnProperty(Jp))return t[Jp](this);let i=rr(r),o,s=$t(this),a=Xe(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=SE(t)&&mo(t);u&&this.injectableDefInScope(u)?l=ni(zu(t),Sa):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?_o():this.parent;return n=i&8&&n===nr?null:n,c.get(t,n)}catch(c){let l=fE(c);throw l===-200||l===-201?new C(l,null):c}finally{Xe(a),$t(s)}}resolveInjectorInitializers(){let t=O(null),n=$t(this),r=Xe(void 0),i;try{let o=this.get(cr,Ge,{self:!0});for(let s of o)s()}finally{$t(n),Xe(r),O(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(ln(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=xe(t);let n=or(t)?t:xe(t&&t.provide),r=DE(t);if(!or(t)&&t.multi===!0){let i=this.records.get(n);i||(i=ni(void 0,Sa,!0),i.factory=()=>qu(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=O(null);try{if(n.value===Qp)throw ld(ln(t));return n.value===Sa&&(n.value=Qp,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&IE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{O(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=xe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zu(e){let t=mo(e),n=t!==null?t.factory:ir(e);if(n!==null)return n;if(e instanceof S)throw new C(204,!1);if(e instanceof Function)return EE(e);throw new C(204,!1)}function EE(e){if(e.length>0)throw new C(204,!1);let n=lE(e);return n!==null?()=>n.factory(e):()=>new e}function DE(e){if(ug(e))return ni(void 0,e.useValue);{let t=md(e);return ni(t,Sa)}}function md(e,t,n){let r;if(or(e)){let i=xe(e);return ir(i)||zu(i)}else if(ug(e))r=()=>xe(e.useValue);else if(wE(e))r=()=>e.useFactory(...qu(e.deps||[]));else if(bE(e))r=(i,o)=>x(xe(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=xe(e&&(e.useClass||e.provide));if(CE(e))r=()=>new i(...qu(e.deps));else return ir(i)||zu(i)}return r}function lo(e){if(e.destroyed)throw new C(205,!1)}function ni(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function CE(e){return!!e.deps}function IE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function SE(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Gu(e,t){for(let n of e)Array.isArray(n)?Gu(n,t):n&&nd(n)?Gu(n.\u0275providers,t):t(n)}function Ie(e,t){let n;e instanceof sr?(lo(e),n=e):n=new Hu(e);let r,i=$t(n),o=Xe(void 0);try{return t()}finally{$t(i),Xe(o)}}function fg(){return og()!==void 0||Ia()!=null}var It=0,F=1,L=2,Ce=3,ct=4,lt=5,oi=6,si=7,ge=8,dn=9,qt=10,oe=11,ai=12,vd=13,lr=14,et=15,ur=16,dr=17,fr=18,fn=19,yd=20,cn=21,ja=22,bo=23,tt=24,hr=25,pr=26,Oe=27,hg=1,_d=6,xn=7,wo=8,Eo=9,me=10;function zt(e){return Array.isArray(e)&&typeof e[hg]=="object"}function St(e){return Array.isArray(e)&&e[hg]===!0}function bd(e){return(e.flags&4)!==0}function Nn(e){return e.componentOffset>-1}function Do(e){return(e.flags&1)===1}function Gt(e){return!!e.template}function ci(e){return(e[L]&512)!==0}function gr(e){return(e[L]&256)===256}var pg="svg",gg="math";function ut(e){for(;Array.isArray(e);)e=e[It];return e}function wd(e,t){return ut(t[e])}function Tt(e,t){return ut(t[e.index])}function Co(e,t){return e.data[t]}function dt(e,t){let n=t[e];return zt(n)?n:n[It]}function Va(e){return(e[L]&128)===128}function mg(e){return St(e[Ce])}function Wt(e,t){return t==null?null:e[t]}function Ed(e){e[dr]=0}function Dd(e){e[L]&1024||(e[L]|=1024,Va(e)&&li(e))}function vg(e,t){for(;e>0;)t=t[lr],e--;return t}function Io(e){return!!(e[L]&9216||e[tt]?.dirty)}function Ua(e){e[qt].changeDetectionScheduler?.notify(8),e[L]&64&&(e[L]|=1024),Io(e)&&li(e)}function li(e){e[qt].changeDetectionScheduler?.notify(0);let t=Tn(e);for(;t!==null&&!(t[L]&8192||(t[L]|=8192,!Va(t)));)t=Tn(t)}function Cd(e,t){if(gr(e))throw new C(911,!1);e[cn]===null&&(e[cn]=[]),e[cn].push(t)}function yg(e,t){if(e[cn]===null)return;let n=e[cn].indexOf(t);n!==-1&&e[cn].splice(n,1)}function Tn(e){let t=e[Ce];return St(t)?t[Ce]:t}function _g(e){return e[si]??=[]}function bg(e){return e.cleanup??=[]}var $={lFrame:Lg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wu=!1;function wg(){return $.lFrame.elementDepthCount}function Eg(){$.lFrame.elementDepthCount++}function Dg(){$.lFrame.elementDepthCount--}function Id(){return $.bindingsEnabled}function Cg(){return $.skipHydrationRootTNode!==null}function Ig(e){return $.skipHydrationRootTNode===e}function Sg(){$.skipHydrationRootTNode=null}function q(){return $.lFrame.lView}function ke(){return $.lFrame.tView}function ue(e){return $.lFrame.contextLView=e,e[ge]}function de(e){return $.lFrame.contextLView=null,e}function We(){let e=Sd();for(;e!==null&&e.type===64;)e=e.parent;return e}function Sd(){return $.lFrame.currentTNode}function Tg(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ui(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function Td(){return $.lFrame.isParent}function Mg(){$.lFrame.isParent=!1}function Md(){return Wu}function Ad(e){let t=Wu;return Wu=e,t}function Ag(){let e=$.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Rg(){return $.lFrame.bindingIndex}function xg(e){return $.lFrame.bindingIndex=e}function mr(){return $.lFrame.bindingIndex++}function Ba(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ng(){return $.lFrame.inI18n}function Og(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,$a(t)}function kg(){return $.lFrame.currentDirectiveIndex}function $a(e){$.lFrame.currentDirectiveIndex=e}function Pg(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Rd(e){$.lFrame.currentQueryIndex=e}function TE(e){let t=e[F];return t.type===2?t.declTNode:t.type===1?e[lt]:null}function xd(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=TE(o),i===null||(o=o[lr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=$.lFrame=Fg();return r.currentTNode=t,r.lView=e,!0}function Ha(e){let t=Fg(),n=e[F];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fg(){let e=$.lFrame,t=e===null?null:e.child;return t===null?Lg(e):t}function Lg(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function jg(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Nd=jg;function qa(){let e=jg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vg(e){return($.lFrame.contextLView=vg(e,$.lFrame.contextLView))[ge]}function Kt(){return $.lFrame.selectedIndex}function On(e){$.lFrame.selectedIndex=e}function za(){let e=$.lFrame;return Co(e.tView,e.selectedIndex)}function Ug(){return $.lFrame.currentNamespace}var Bg=!0;function Ga(){return Bg}function Wa(e){Bg=e}function Ku(e,t=null,n=null,r){let i=Od(e,t,n,r);return i.resolveInjectorInitializers(),i}function Od(e,t=null,n=null,r,i=new Set){let o=[n||Ge,cg(e)];return r=r||(typeof e=="object"?void 0:ln(e)),new sr(o,t||_o(),r||null,i)}var Ye=class e{static THROW_IF_NOT_FOUND=nr;static NULL=new fo;static create(t,n){if(Array.isArray(t))return Ku({name:""},n,t,"");{let r=t.name??"";return Ku({name:r},t.parent,t.providers,r)}}static \u0275prov=T({token:e,providedIn:"any",factory:()=>x(fd)});static __NG_ELEMENT_ID__=-1},ve=new S(""),ft=(()=>{class e{static __NG_ELEMENT_ID__=ME;static __NG_ENV_ID__=n=>n}return e})(),Zu=class extends ft{_lView;constructor(t){super(),this._lView=t}get destroyed(){return gr(this._lView)}onDestroy(t){let n=this._lView;return Cd(n,t),()=>yg(n,t)}};function ME(){return new Zu(q())}var $g=!1,Hg=new S(""),hn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ae(!1);debugTaskTracker=y(Hg,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new U(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),Yu=class extends se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,fg()&&(this.destroyRef=y(ft,{optional:!0})??void 0,this.pendingTasks=y(hn,{optional:!0})??void 0)}emit(t){let n=O(null);try{super.next(t)}finally{O(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Me&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_e=Yu;function Aa(...e){}function kd(e){let t,n;function r(){e=Aa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function qg(e){return queueMicrotask(()=>e()),()=>{e=Aa}}var Pd="isAngularZone",ho=Pd+"_ID",AE=0,Ne=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$g}=t;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,NE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Pd)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,RE,Aa,Aa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},RE={};function Fd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function xE(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){kd(()=>{e.callbackScheduled=!1,Ju(e),e.isCheckStableRunning=!0,Fd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ju(e)}function NE(e){let t=()=>{xE(e)},n=AE++;e._inner=e._inner.fork({name:"angular",properties:{[Pd]:!0,[ho]:n,[ho+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(OE(c))return r.invokeTask(o,s,a,c);try{return Xp(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),eg(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Xp(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!kE(c)&&t(),eg(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ju(e),Fd(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ju(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Xp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function eg(e){e._nesting--,Fd(e)}var po=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e;onMicrotaskEmpty=new _e;onStable=new _e;onError=new _e;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function OE(e){return zg(e,"__ignore_ng_zone__")}function kE(e){return zg(e,"__scheduler_tick__")}function zg(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Ht=class{_console=console;handleError(t){this._console.error("ERROR",t)}},nt=new S("",{factory:()=>{let e=y(Ne),t=y(ae),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(Ht),n.handleError(r))})}}}),Gg={provide:cr,useValue:()=>{let e=y(Ht,{optional:!0})},multi:!0},PE=new S("",{factory:()=>{let e=y(ve).defaultView;if(!e)return;let t=y(nt),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),y(ft).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function Ld(){return Ct([ag(()=>{y(PE)})])}function Y(e,t){let[n,r,i]=Iu(e,t?.equal),o=n,s=o[He];return o.set=r,o.update=i,o.asReadonly=Wg.bind(o),o}function Wg(){let e=this[He];if(e.readonlyFn===void 0){let t=()=>this();t[He]=e,e.readonlyFn=t}return e.readonlyFn}var Ka=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=FE}return e})();function FE(){return new Ka(q(),We())}var Mn=class{},So=new S("",{factory:()=>!0});var jd=new S(""),Za=(()=>{class e{internalPendingTasks=y(hn);scheduler=y(Mn);errorHandler=y(nt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),Vd=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new Qu})}return e})(),Qu=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Xu=class{[He];constructor(t){this[He]=t}destroy(){this[He].destroy()}};function we(e){return Su(e)}function Po(e){return{toString:e}.toString()}function zE(e){return typeof e=="function"}function Dm(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var tc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},pn=(()=>{let e=()=>Cm;return e.ngInherit=!0,e})();function Cm(e){return e.type.prototype.ngOnChanges&&(e.setInput=WE),GE}function GE(){let e=Sm(this),t=e?.current;if(t){let n=e.previous;if(n===Rn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function WE(e,t,n,r,i){let o=this.declaredInputs[r],s=Sm(e)||KE(e,{previous:Rn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new tc(l&&l.currentValue,n,c===Rn),Dm(e,t,i,n)}var Im="__ngSimpleChanges__";function Sm(e){return e[Im]||null}function KE(e,t){return e[Im]=t}var Kg=[];var ne=function(e,t=null,n){for(let r=0;r<Kg.length;r++){let i=Kg[r];i(e,t,n)}},K=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(K||{});function ZE(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Cm(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Tm(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Qa(e,t,n){Mm(e,t,3,n)}function Xa(e,t,n,r){(e[L]&3)===n&&Mm(e,t,n,r)}function Ud(e,t){let n=e[L];(n&3)===t&&(n&=16383,n+=1,e[L]=n)}function Mm(e,t,n,r){let i=r!==void 0?e[dr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[dr]+=65536),(a<o||o==-1)&&(YE(e,n,t,c),e[dr]=(e[dr]&4294901760)+c+2),c++}function Zg(e,t){ne(K.LifecycleHookStart,e,t);let n=O(null);try{t.call(e)}finally{O(n),ne(K.LifecycleHookEnd,e,t)}}function YE(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[L]>>14<e[dr]>>16&&(e[L]&3)===t&&(e[L]+=16384,Zg(a,o)):Zg(a,o)}var fi=-1,yr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function JE(e){return(e.flags&8)!==0}function QE(e){return(e.flags&16)!==0}function XE(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];eD(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Am(e){return e===3||e===4||e===6}function eD(e){return e.charCodeAt(0)===64}function Ao(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Yg(e,n,i,null,t[++r]):Yg(e,n,i,null,null))}}return e}function Yg(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Rm(e){return e!==fi}function nc(e){return e&32767}function tD(e){return e>>16}function rc(e,t){let n=tD(e),r=t;for(;n>0;)r=r[lr],n--;return r}var Jd=!0;function Jg(e){let t=Jd;return Jd=e,t}var nD=256,xm=nD-1,Nm=5,rD=0,Zt={};function iD(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ar)&&(r=n[ar]),r==null&&(r=n[ar]=rD++);let i=r&xm,o=1<<i;t.data[e+(i>>Nm)]|=o}function ic(e,t){let n=Om(e,t);if(n!==-1)return n;let r=t[F];r.firstCreatePass&&(e.injectorIndex=t.length,Bd(r.data,e),Bd(t,null),Bd(r.blueprint,null));let i=bf(e,t),o=e.injectorIndex;if(Rm(i)){let s=nc(i),a=rc(i,t),c=a[F].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Bd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Om(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function bf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=jm(i),r===null)return fi;if(n++,i=i[lr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return fi}function Qd(e,t,n){iD(e,t,n)}function oD(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Am(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function km(e,t,n){if(n&8||e!==void 0)return e;ka(t,"NodeInjector")}function Pm(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[dn],o=Xe(void 0);try{return i?i.get(t,r,n&8):ud(t,r,n&8)}finally{Xe(o)}}return km(r,t,n)}function Fm(e,t,n,r=0,i){if(e!==null){if(t[L]&2048&&!(r&2)){let s=uD(e,t,n,r,Zt);if(s!==Zt)return s}let o=Lm(e,t,n,r,Zt);if(o!==Zt)return o}return Pm(t,n,r,i)}function Lm(e,t,n,r,i){let o=cD(n);if(typeof o=="function"){if(!xd(t,e,r))return r&1?km(i,n,r):Pm(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ka(n);else return s}finally{Nd()}}else if(typeof o=="number"){let s=null,a=Om(e,t),c=fi,l=r&1?t[et][lt]:null;for((a===-1||r&4)&&(c=a===-1?bf(e,t):t[a+8],c===fi||!Xg(r,!1)?a=-1:(s=t[F],a=nc(c),t=rc(c,t)));a!==-1;){let u=t[F];if(Qg(o,a,u.data)){let d=sD(a,t,n,s,r,l);if(d!==Zt)return d}c=t[a+8],c!==fi&&Xg(r,t[F].data[a+8]===l)&&Qg(o,a,t)?(s=u,a=nc(c),t=rc(c,t)):a=-1}}return i}function sD(e,t,n,r,i,o){let s=t[F],a=s.data[e+8],c=r==null?Nn(a)&&Jd:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=aD(a,s,n,c,l);return u!==null?oc(t,s,u,a,i):Zt}function aD(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=s[c];if(f&&Gt(f)&&f.type===n)return c}return null}function oc(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof yr){let a=o;if(a.resolving)throw ld("");let c=Jg(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Xe(a.injectImpl):null,h=xd(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&ZE(n,s[n],t)}finally{d!==null&&Xe(d),Jg(c),a.resolving=!1,Nd()}}return o}function cD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ar)?e[ar]:void 0;return typeof t=="number"?t>=0?t&xm:lD:t}function Qg(e,t,n){let r=1<<e;return!!(n[t+(e>>Nm)]&r)}function Xg(e,t){return!(e&2)&&!(e&1&&t)}var vr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Fm(this._tNode,this._lView,t,rr(r),n)}};function lD(){return new vr(We(),q())}function gn(e){return Po(()=>{let t=e.prototype.constructor,n=t[uo]||Xd(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[uo]||Xd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xd(e){return ed(e)?()=>{let t=Xd(xe(e));return t&&t()}:ir(e)}function uD(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[L]&2048&&!ci(s);){let a=Lm(o,s,n,r|2,Zt);if(a!==Zt)return a;let c=o.parent;if(!c){let l=s[yd];if(l){let u=l.get(n,Zt,r);if(u!==Zt)return u}c=jm(s),s=s[lr]}o=c}return i}function jm(e){let t=e[F],n=t.type;return n===2?t.declTNode:n===1?e[lt]:null}function Fo(e){return oD(We(),e)}function dD(){return yc(We(),q())}function yc(e,t){return new Jt(Tt(e,t))}var Jt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=dD}return e})();function Vm(e){return(e.flags&128)===128}var wf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(wf||{}),Um=new Map,fD=0;function hD(){return fD++}function pD(e){Um.set(e[fn],e)}function ef(e){Um.delete(e[fn])}var em="__ngContext__";function hi(e,t){zt(t)?(e[em]=t[fn],pD(t)):e[em]=t}function Bm(e){return Hm(e[ai])}function $m(e){return Hm(e[ct])}function Hm(e){for(;e!==null&&!St(e);)e=e[ct];return e}var gD;function Ef(e){gD=e}var _c=new S("",{factory:()=>mD}),mD="ng";var bc=new S(""),Lo=new S("",{providedIn:"platform",factory:()=>"unknown"});var wc=new S("",{factory:()=>y(ve).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qm="r";var zm="di";var Gm=!1,Wm=new S("",{factory:()=>Gm});var vD=(e,t,n,r)=>{};function yD(e,t,n,r){vD(e,t,n,r)}function Df(e){return(e.flags&32)===32}var _D=()=>null;function Km(e,t,n=!1){return _D(e,t,n)}function Zm(e,t){let n=e.contentQueries;if(n!==null){let r=O(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Rd(o),a.contentQueries(2,t[s],s)}}}finally{O(r)}}}function tf(e,t,n){Rd(0);let r=O(null);try{t(e,n)}finally{O(r)}}function Ym(e,t,n){if(bd(t)){let r=O(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{O(r)}}}var Rt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Rt||{});var Ya;function bD(){if(Ya===void 0&&(Ya=null,go.trustedTypes))try{Ya=go.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ya}function tm(e){return bD()?.createScriptURL(e)||e}var sc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ra})`}};function jo(e){return e instanceof sc?e.changingThisBreaksApplicationSecurity:e}function Cf(e,t){let n=Jm(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ra})`)}return n===t}function Jm(e){return e instanceof sc&&e.getTypeName()||null}var wD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qm(e){return e=String(e),e.match(wD)?e:"unsafe:"+e}function ED(e,t){return e.createText(t)}function DD(e,t,n){e.setValue(t,n)}function Xm(e,t,n){return e.createElement(t,n)}function ac(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ev(e,t,n){e.appendChild(t,n)}function nm(e,t,n,r,i){r!==null?ac(e,t,n,r,i):ev(e,t,n)}function tv(e,t,n,r){e.removeChild(null,t,n,r)}function CD(e,t,n){e.setAttribute(t,"style",n)}function ID(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&XE(e,t,r),i!==null&&ID(e,t,i),o!==null&&CD(e,t,o)}var Ec=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Ec||{});function rv(e){let t=ov();return t?t.sanitize(Ec.URL,e)||"":Cf(e,"URL")?jo(e):Qm(ri(e))}function iv(e){let t=ov();if(t)return tm(t.sanitize(Ec.RESOURCE_URL,e)||"");if(Cf(e,"ResourceURL"))return tm(jo(e));throw new C(904,!1)}var SD=new Set(["embed","frame","iframe","media","script"]),TD=new Set(["base","link","script"]);function MD(e,t){return t==="src"&&SD.has(e)||t==="href"&&TD.has(e)||t==="xlink:href"&&e==="script"?iv:rv}function If(e,t,n){return MD(t,n)(e)}function ov(){let e=q();return e&&e[qt].sanitizer}function sv(e){return e instanceof Function?e():e}function AD(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var av="ng-template";function RD(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&AD(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Sf(e){return e.type===4&&e.value!==av}function xD(e,t,n){let r=e.type===4&&!n?av:e.value;return t===r}function ND(e,t,n){let r=4,i=e.attrs,o=i!==null?PD(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Mt(r)&&!Mt(c))return!1;if(s&&Mt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!xD(e,c,n)||c===""&&t.length===1){if(Mt(r))return!1;s=!0}}else if(r&8){if(i===null||!RD(e,i,c,n)){if(Mt(r))return!1;s=!0}}else{let l=t[++a],u=OD(c,i,Sf(e),n);if(u===-1){if(Mt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Mt(r))return!1;s=!0}}}}return Mt(r)||s}function Mt(e){return(e&1)===0}function OD(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FD(t,e)}function kD(e,t,n=!1){for(let r=0;r<t.length;r++)if(ND(e,t[r],n))return!0;return!1}function PD(e){for(let t=0;t<e.length;t++){let n=e[t];if(Am(n))return t}return e.length}function FD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function rm(e,t){return e?":not("+t.trim()+")":t}function LD(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mt(s)&&(t+=rm(o,i),i=""),r=s,o=o||!Mt(r);n++}return i!==""&&(t+=rm(o,i)),t}function jD(e){return e.map(LD).join(",")}function VD(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Mt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Je={};function Tf(e,t,n,r,i,o,s,a,c,l,u){let d=Oe+r,h=d+i,f=UD(d,h),p=typeof l=="function"?l():l;return f[F]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function UD(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Je);return n}function BD(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Tf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Mf(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[It]=i,d[L]=r|4|128|8|64|1024,(l!==null||e&&e[L]&2048)&&(d[L]|=2048),Ed(d),d[Ce]=d[lr]=e,d[ge]=n,d[qt]=s||e&&e[qt],d[oe]=a||e&&e[oe],d[dn]=c||e&&e[dn]||null,d[lt]=o,d[fn]=hD(),d[oi]=u,d[yd]=l,d[et]=t.type==2?e[et]:d,d}function $D(e,t,n){let r=Tt(t,e),i=BD(n),o=e[qt].rendererFactory,s=Af(e,Mf(e,i,null,cv(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function cv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function lv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Af(e,t){return e[ai]?e[vd][ct]=t:e[ai]=t,e[vd]=t,t}function M(e=1){uv(ke(),q(),Kt()+e,!1)}function uv(e,t,n,r){if(!r)if((t[L]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Qa(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Xa(t,o,0,n)}On(n)}var Dc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Dc||{});function nf(e,t,n,r){let i=O(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Dc.SignalBased)!==0&&(c=t[o][He]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Dm(t,c,o,r)}finally{O(i)}}var Yt=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Yt||{}),HD;function Rf(e,t){return HD(e,t)}var _r=new Set,Cc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Cc||{}),mn=new S(""),im=new Set;function Pn(e){im.has(e)||(im.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var xf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),dv=[0,1,2,3],fv=(()=>{class e{ngZone=y(Ne);scheduler=y(Mn);errorHandler=y(Ht,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(mn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ne(K.AfterRenderHooksStart),this.executing=!0;for(let r of dv)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ne(K.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[hr]??=[]).push(n),li(r),r[L]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Cc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),cc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[hr];t&&(this.view[hr]=t.filter(n=>n!==this))}};function Vo(e,t){let n=t?.injector??y(Ye);return Pn("NgAfterNextRender"),zD(e,n,t,!0)}function qD(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function zD(e,t,n,r){let i=t.get(xf);i.impl??=t.get(fv);let o=t.get(mn,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(ft):null,a=t.get(Ka,null,{optional:!0}),c=new cc(i.impl,qD(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var hv=new S("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:y(ae)})});function pv(e,t,n){let r=e.get(hv);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function GD(e,t){let n=e.get(hv);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function WD(e,t){for(let[n,r]of t)pv(e,r.animateFns)}function om(e,t,n,r){let i=e?.[pr]?.enter;t!==null&&i&&i.has(n.index)&&WD(r,i)}function di(e,t,n,r,i,o,s,a){if(i!=null){let c,l=!1;St(i)?c=i:zt(i)&&(l=!0,i=i[It]);let u=ut(i);e===0&&r!==null?(om(a,r,o,n),s==null?ev(t,r,u):ac(t,r,u,s||null,!0)):e===1&&r!==null?(om(a,r,o,n),ac(t,r,u,s||null,!0)):e===2?sm(a,o,n,d=>{tv(t,u,l,d)}):e===3&&sm(a,o,n,()=>{t.destroyNode(u)}),c!=null&&sC(t,e,n,c,o,r,s)}}function KD(e,t){gv(e,t),t[It]=null,t[lt]=null}function ZD(e,t,n,r,i,o){r[It]=i,r[lt]=t,Sc(e,r,n,1,i,o)}function gv(e,t){t[qt].changeDetectionScheduler?.notify(9),Sc(e,t,t[oe],2,null,null)}function YD(e){let t=e[ai];if(!t)return $d(e[F],e);for(;t;){let n=null;if(zt(t))n=t[ai];else{let r=t[me];r&&(n=r)}if(!n){for(;t&&!t[ct]&&t!==e;)zt(t)&&$d(t[F],t),t=t[Ce];t===null&&(t=e),zt(t)&&$d(t[F],t),n=t&&t[ct]}t=n}}function Nf(e,t){let n=e[Eo],r=n.indexOf(t);n.splice(r,1)}function Ic(e,t){if(gr(t))return;let n=t[oe];n.destroyNode&&Sc(e,t,n,3,null,null),YD(t)}function $d(e,t){if(gr(t))return;let n=O(null);try{t[L]&=-129,t[L]|=256,t[tt]&&no(t[tt]),XD(e,t),QD(e,t),t[F].type===1&&t[oe].destroy();let r=t[ur];if(r!==null&&St(t[Ce])){r!==t[Ce]&&Nf(r,t);let i=t[fr];i!==null&&i.detachView(e)}ef(t)}finally{O(n)}}function sm(e,t,n,r){let i=e?.[pr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&_r.add(e[fn]),pv(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),JD(e,r)}else e&&_r.delete(e[fn]),r(!1)},i)}function JD(e,t){let n=e[pr]?.running;if(n){n.then(()=>{e[pr].running=void 0,_r.delete(e[fn]),t(!0)});return}t(!1)}function QD(e,t){let n=e.cleanup,r=t[si];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[si]=null);let i=t[cn];if(i!==null){t[cn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[bo];if(o!==null){t[bo]=null;for(let s of o)s.destroy()}}function XD(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof yr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ne(K.LifecycleHookStart,a,c);try{c.call(a)}finally{ne(K.LifecycleHookEnd,a,c)}}else{ne(K.LifecycleHookStart,i,o);try{o.call(i)}finally{ne(K.LifecycleHookEnd,i,o)}}}}}function eC(e,t,n){return tC(e,t.parent,n)}function tC(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[It];if(Nn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Rt.None||i===Rt.Emulated)return null}return Tt(r,n)}function nC(e,t,n){return iC(e,t,n)}function rC(e,t,n){return e.type&40?Tt(e,n):null}var iC=rC,am;function Of(e,t,n,r){let i=eC(e,r,t),o=t[oe],s=r.parent||t[lt],a=nC(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nm(o,i,n[c],a,!1);else nm(o,i,n,a,!1);am!==void 0&&am(o,r,t,n,i)}function To(e,t){if(t!==null){let n=t.type;if(n&3)return Tt(t,e);if(n&4)return rf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return To(e,r);{let i=e[t.index];return St(i)?rf(-1,i):ut(i)}}else{if(n&128)return To(e,t.next);if(n&32)return Rf(t,e)()||ut(e[t.index]);{let r=mv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Tn(e[et]);return To(i,r)}else return To(e,t.next)}}}return null}function mv(e,t){if(t!==null){let r=e[et][lt],i=t.projection;return r.projection[i]}return null}function rf(e,t){let n=me+e+1;if(n<t.length){let r=t[n],i=r[F].firstChild;if(i!==null)return To(r,i)}return t[xn]}function kf(e,t,n,r,i,o,s){for(;n!=null;){let a=r[dn];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&hi(ut(c),r),n.flags|=2),!Df(n))if(l&8)kf(e,t,n.child,r,i,o,!1),di(t,e,a,i,c,n,o,r);else if(l&32){let u=Rf(n,r),d;for(;d=u();)di(t,e,a,i,d,n,o,r);di(t,e,a,i,c,n,o,r)}else l&16?oC(e,t,r,n,i,o):di(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Sc(e,t,n,r,i,o){kf(n,r,e.firstChild,t,i,o,!1)}function oC(e,t,n,r,i,o){let s=n[et],c=s[lt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];di(t,e,n[dn],i,u,r,o,n)}else{let l=c,u=s[Ce];Vm(r)&&(l.flags|=128),kf(e,t,l,u,i,o,!0)}}function sC(e,t,n,r,i,o,s){let a=r[xn],c=ut(r);a!==c&&di(t,e,n,o,a,i,s);for(let l=me;l<r.length;l++){let u=r[l];Sc(u[F],u,e,t,o,a)}}function aC(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Yt.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yt.Important),e.setStyle(n,r,i,o))}}function vv(e,t,n,r,i){let o=Kt(),s=r&2;try{On(-1),s&&t.length>Oe&&uv(e,t,Oe,!1);let a=s?K.TemplateUpdateStart:K.TemplateCreateStart;ne(a,i,n),n(r,i)}finally{On(o);let a=s?K.TemplateUpdateEnd:K.TemplateCreateEnd;ne(a,i,n)}}function Pf(e,t,n){pC(e,t,n),(n.flags&64)===64&&gC(e,t,n)}function Ff(e,t,n=Tt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function cC(e,t,n,r){let o=r.get(Wm,Gm)||n===Rt.ShadowDom||n===Rt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return lC(s),s}function lC(e){uC(e)}var uC=()=>null;function dC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function yv(e,t,n,r,i,o){let s=t[F];if(Lf(e,s,t,n,r)){Nn(e)&&hC(t,e.index);return}e.type&3&&(n=dC(n)),fC(e,t,n,r,i,o)}function fC(e,t,n,r,i,o){if(e.type&3){let s=Tt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function hC(e,t){let n=dt(t,e);n[L]&16||(n[L]|=64)}function pC(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Nn(n)&&$D(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ic(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=oc(t,e,s,n);if(hi(c,t),o!==null&&_C(t,s-r,c,a,n,o),Gt(a)){let l=dt(n.index,t);l[ge]=oc(t,e,s,n)}}}function gC(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=kg();try{On(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];$a(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mC(c,l)}}finally{On(-1),$a(s)}}function mC(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function _v(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];kD(t,o.selectors,!1)&&(r??=[],Gt(o)?r.unshift(o):r.push(o))}return r}function vC(e,t,n,r,i,o){let s=Tt(e,t);yC(t[oe],s,o,e.value,n,r,i)}function yC(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?ri(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function _C(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];nf(r,n,c,l)}}function bC(e,t,n,r,i){let o=Oe+n,s=t[F],a=i(s,t,e,r,n);t[o]=a,ui(e,!0);let c=e.type===2;return c?(nv(t[oe],a,e),(wg()===0||Do(e))&&hi(a,t),Eg()):hi(a,t),Ga()&&(!c||!Df(e))&&Of(s,t,a,e),e}function wC(e){let t=e;return Td()?Mg():(t=t.parent,ui(t,!1)),t}function EC(e,t){let n=e[dn];if(!n)return;let r;try{r=n.get(nt,null)}catch{r=null}r?.(t)}function Lf(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];nf(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];nf(u,l,r,i),a=!0}return a}function DC(e,t){let n=dt(t,e),r=n[F];CC(r,n);let i=n[It];i!==null&&n[oi]===null&&(n[oi]=Km(i,n[dn])),ne(K.ComponentStart);try{jf(r,n,n[ge])}finally{ne(K.ComponentEnd,n[ge])}}function CC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function jf(e,t,n){Ha(t);try{let r=e.viewQuery;r!==null&&tf(1,r,n);let i=e.template;i!==null&&vv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[fr]?.finishViewCreation(e),e.staticContentQueries&&Zm(e,t),e.staticViewQueries&&tf(2,e.viewQuery,n);let o=e.components;o!==null&&IC(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[L]&=-5,qa()}}function IC(e,t){for(let n=0;n<t.length;n++)DC(e,t[n])}function Tc(e,t,n,r){let i=O(null);try{let o=t.tView,a=e[L]&4096?4096:16,c=Mf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[ur]=l;let u=e[fr];return u!==null&&(c[fr]=u.createEmbeddedView(o)),jf(o,c,n),c}finally{O(i)}}function Ro(e,t){return!t||t.firstChild===null||Vm(e)}function xo(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(ut(o)),St(o)&&bv(o,r);let s=n.type;if(s&8)xo(e,t,n.child,r);else if(s&32){let a=Rf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=mv(t,n);if(Array.isArray(a))r.push(...a);else{let c=Tn(t[et]);xo(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bv(e,t){for(let n=me;n<e.length;n++){let r=e[n],i=r[F].firstChild;i!==null&&xo(r[F],r,i,t)}e[xn]!==e[It]&&t.push(e[xn])}function wv(e){if(e[hr]!==null){for(let t of e[hr])t.impl.addSequence(t);e[hr].length=0}}var Ev=[];function SC(e){return e[tt]??TC(e)}function TC(e){let t=Ev.pop()??Object.create(AC);return t.lView=e,t}function MC(e){e.lView[tt]!==e&&(e.lView=null,Ev.push(e))}var AC=G(D({},Xi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{li(e.lView)},consumerOnSignalRead(){this.lView[tt]=this}});function RC(e){let t=e[tt]??Object.create(xC);return t.lView=e,t}var xC=G(D({},Xi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Tn(e.lView);for(;t&&!Dv(t[F]);)t=Tn(t);t&&Dd(t)},consumerOnSignalRead(){this.lView[tt]=this}});function Dv(e){return e.type!==2}function Cv(e){if(e[bo]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[bo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[L]&8192)}}var NC=100;function Iv(e,t=0){let r=e[qt].rendererFactory,i=!1;i||r.begin?.();try{OC(e,t)}finally{i||r.end?.()}}function OC(e,t){let n=Md();try{Ad(!0),of(e,t);let r=0;for(;Io(e);){if(r===NC)throw new C(103,!1);r++,of(e,1)}}finally{Ad(n)}}function kC(e,t,n,r){if(gr(t))return;let i=t[L],o=!1,s=!1;Ha(t);let a=!0,c=null,l=null;o||(Dv(e)?(l=SC(t),c=to(l)):Ys()===null?(a=!1,l=RC(t),c=to(l)):t[tt]&&(no(t[tt]),t[tt]=null));try{Ed(t),xg(e.bindingStartIndex),n!==null&&vv(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Qa(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Xa(t,f,0,null),Ud(t,0)}if(s||PC(t),Cv(t),Sv(t,0),e.contentQueries!==null&&Zm(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&Qa(t,f)}else{let f=e.contentHooks;f!==null&&Xa(t,f,1),Ud(t,1)}LC(e,t);let d=e.components;d!==null&&Mv(t,d,0);let h=e.viewQuery;if(h!==null&&tf(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&Qa(t,f)}else{let f=e.viewHooks;f!==null&&Xa(t,f,2),Ud(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ja]){for(let f of t[ja])f();t[ja]=null}o||(wv(t),t[L]&=-73)}catch(u){throw o||li(t),u}finally{l!==null&&(Js(l,c),a&&MC(l)),qa()}}function Sv(e,t){for(let n=Bm(e);n!==null;n=$m(n))for(let r=me;r<n.length;r++){let i=n[r];Tv(i,t)}}function PC(e){for(let t=Bm(e);t!==null;t=$m(t)){if(!(t[L]&2))continue;let n=t[Eo];for(let r=0;r<n.length;r++){let i=n[r];Dd(i)}}}function FC(e,t,n){ne(K.ComponentStart);let r=dt(t,e);try{Tv(r,n)}finally{ne(K.ComponentEnd,r[ge])}}function Tv(e,t){Va(e)&&of(e,t)}function of(e,t){let r=e[F],i=e[L],o=e[tt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qs(o)),s||=!1,o&&(o.dirty=!1),e[L]&=-9217,s)kC(r,e,r.template,e[ge]);else if(i&8192){let a=O(null);try{Cv(e),Sv(e,1);let c=r.components;c!==null&&Mv(e,c,1),wv(e)}finally{O(a)}}}function Mv(e,t,n){for(let r=0;r<t.length;r++)FC(e,t[r],n)}function LC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)On(~i);else{let o=i,s=n[++r],a=n[++r];Og(s,o);let c=t[o];ne(K.HostBindingsUpdateStart,c);try{a(2,c)}finally{ne(K.HostBindingsUpdateEnd,c)}}}}finally{On(-1)}}function Vf(e,t){let n=Md()?64:1088;for(e[qt].changeDetectionScheduler?.notify(t);e;){e[L]|=n;let r=Tn(e);if(ci(e)&&!r)return e;e=r}return null}function Av(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Rv(e,t){let n=me+t;if(n<e.length)return e[n]}function Mc(e,t,n,r=!0){let i=t[F];if(jC(i,t,e,n),r){let s=rf(n,e),a=t[oe],c=a.parentNode(e[xn]);c!==null&&ZD(i,e[lt],a,t,c,s)}let o=t[oi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xv(e,t){let n=No(e,t);return n!==void 0&&Ic(n[F],n),n}function No(e,t){if(e.length<=me)return;let n=me+t,r=e[n];if(r){let i=r[ur];i!==null&&i!==e&&Nf(i,r),t>0&&(e[n-1][ct]=r[ct]);let o=vo(e,me+t);KD(r[F],r);let s=o[fr];s!==null&&s.detachView(o[F]),r[Ce]=null,r[ct]=null,r[L]&=-129}return r}function jC(e,t,n,r){let i=me+r,o=n.length;r>0&&(n[i-1][ct]=t),r<o-me?(t[ct]=n[i],dd(n,me+r,t)):(n.push(t),t[ct]=null),t[Ce]=n;let s=t[ur];s!==null&&n!==s&&Nv(s,t);let a=t[fr];a!==null&&a.insertView(e),Ua(t),t[L]|=128}function Nv(e,t){let n=e[Eo],r=t[Ce];if(zt(r))e[L]|=2;else{let i=r[Ce][et];t[et]!==i&&(e[L]|=2)}n===null?e[Eo]=[t]:n.push(t)}var kn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[F];return xo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ge]}set context(t){this._lView[ge]=t}get destroyed(){return gr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ce];if(St(t)){let n=t[wo],r=n?n.indexOf(this):-1;r>-1&&(No(t,r),vo(n,r))}this._attachedToViewContainer=!1}Ic(this._lView[F],this._lView)}onDestroy(t){Cd(this._lView,t)}markForCheck(){Vf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){Ua(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,Iv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ci(this._lView),n=this._lView[ur];n!==null&&!t&&Nf(n,this._lView),gv(this._lView[F],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t;let n=ci(this._lView),r=this._lView[ur];r!==null&&!n&&Nv(r,this._lView),Ua(this._lView)}};var Ac=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=VC;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Tc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new kn(o)}}return e})();function VC(){return UC(We(),q())}function UC(e,t){return e.type&4?new Ac(t,e,yc(e,t)):null}function Rc(e,t,n,r,i){let o=e.data[t];if(o===null)o=BC(e,t,n,r,i),Ng()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Tg();o.injectorIndex=s===null?-1:s.injectorIndex}return ui(o,!0),o}function BC(e,t,n,r,i){let o=Sd(),s=Td(),a=s?o:o&&o.parent,c=e.data[t]=HC(e,a,n,t,r,i);return $C(e,c,o,s),c}function $C(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function HC(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Cg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qC(e){let t=e[_d]??[],r=e[Ce][oe],i=[];for(let o of t)o.data[zm]!==void 0?i.push(o):zC(o,r);e[_d]=i}function zC(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[qm];for(;n<i;){let o=r.nextSibling;tv(t,r,!1),r=o,n++}}}var GC=()=>null,WC=()=>null;function sf(e,t){return GC(e,t)}function Ov(e,t,n){return WC(e,t,n)}var kv=class{},xc=class{},af=class{resolveComponentFactory(t){throw new C(917,!1)}},Uo=class{static NULL=new af},br=class{},vn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>KC()}return e})();function KC(){let e=q(),t=We(),n=dt(t.index,e);return(zt(n)?n:e)[oe]}var Pv=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>null})}return e})();var ec={},cf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,ec,r);return i!==ec||n===ec?i:this.parentInjector.get(t,n,r)}};function cm(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=xa(i,a);else if(o==2){let c=a,l=t[++s];r=xa(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function z(e,t=0){let n=q();if(n===null)return x(e,t);let r=We();return Fm(r,n,xe(e),t)}function Fv(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}JC(e,t,n,a,o,c,l)}o!==null&&r!==null&&ZC(n,r,o)}function ZC(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new C(-301,!1);r.push(t[i],o)}}function YC(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function JC(e,t,n,r,i,o,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&Gt(f)&&(c=f,YC(e,n,h)),Qd(ic(n,t),e,f.type)}r0(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=lv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Ao(n.mergedAttrs,f.hostAttrs),XC(e,n,t,d,f),n0(d,f,i),s!==null&&s.has(f)){let[g,v]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}QC(e,n,o)}function QC(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))lm(0,t,i,r),lm(1,t,i,r),dm(t,r,!1);else{let o=n.get(i);um(0,t,o,r),um(1,t,o,r),dm(t,r,!0)}}}function lm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Lv(t,o)}}function um(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Lv(t,s)}}function Lv(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function dm(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Sf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function XC(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=ir(i.type,!0)),s=new yr(o,Gt(i),z,null);e.blueprint[r]=s,n[r]=s,e0(e,t,r,lv(e,n,i.hostVars,Je),i)}function e0(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;t0(s)!=a&&s.push(a),s.push(n,r,o)}}function t0(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function n0(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Gt(t)&&(n[""]=e)}}function r0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function jv(e,t,n,r,i,o,s,a){let c=t[F],l=c.consts,u=Wt(l,s),d=Rc(c,e,n,r,u);return o&&Fv(c,t,d,Wt(l,a),i),d.mergedAttrs=Ao(d.mergedAttrs,d.attrs),d.attrs!==null&&cm(d,d.attrs,!1),d.mergedAttrs!==null&&cm(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function Vv(e,t){Tm(e,t),bd(t)&&e.queries.elementEnd(t)}function i0(e,t,n){return e[t]=n}function xt(e,t,n){if(n===Je)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function o0(e,t,n,r){let i=xt(e,t,n);return xt(e,t+1,r)||i}function Hd(e,t,n){return function r(i){let o=Nn(e)?dt(e.index,t):t;Vf(o,5);let s=t[ge],a=fm(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=fm(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function fm(e,t,n,r){let i=O(null);try{return ne(K.OutputStart,t,n),n(r)!==!1}catch(o){return EC(e,o),!1}finally{ne(K.OutputEnd,t,n),O(i)}}function s0(e,t,n,r,i,o,s,a){let c=Do(e),l=!1,u=null;if(!r&&c&&(u=c0(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Tt(e,n),h=r?r(d):d;yD(n,h,o,a);let f=i.listen(h,o,a);if(!a0(o)){let p=r?g=>r(ut(g[e.index])):e.index;Uv(p,t,n,o,a,f,!1)}}return l}function a0(e){return e.startsWith("animation")||e.startsWith("transition")}function c0(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[si],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Uv(e,t,n,r,i,o,s){let a=t.firstCreatePass?bg(t):null,c=_g(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function hm(e,t,n,r,i,o){let s=t[n],a=t[F],l=a.data[n].outputs[r],d=s[l].subscribe(o);Uv(e.index,a,t,i,o,d,!0)}var lf=Symbol("BINDING");var lc=class extends Uo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=An(t);return new pi(n,this.ngModule)}};function l0(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Dc.SignalBased)!==0};return i&&(o.transform=i),o})}function u0(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function d0(e,t,n){let r=t instanceof ae?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new cf(n,r):n}function f0(e){let t=e.get(br,null);if(t===null)throw new C(407,!1);let n=e.get(Pv,null),r=e.get(Mn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function h0(e,t){let n=Bv(e);return Xm(t,n,n==="svg"?pg:n==="math"?gg:null)}function Bv(e){return(e.selectors[0][0]||"div").toLowerCase()}var pi=class extends xc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=l0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=u0(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=jD(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){ne(K.DynamicComponentStart);let a=O(null);try{let c=this.componentDef,l=p0(r,c,s,o),u=d0(c,i||this.ngModule,t),d=f0(u),h=d.rendererFactory.createRenderer(null,c),f=r?cC(h,r,c.encapsulation,u):h0(c,h),p=s?.some(pm)||o?.some(m=>typeof m!="function"&&m.bindings.some(pm)),g=Mf(null,l,null,512|cv(c),null,null,d,h,u,null,Km(f,u,!0));g[Oe]=f,Ha(g);let v=null;try{let m=jv(Oe,g,2,"#host",()=>l.directiveRegistry,!0,0);nv(h,f,m),hi(f,g),Pf(l,g,m),Ym(l,m,g),Vv(l,m),n!==void 0&&m0(m,this.ngContentSelectors,n),v=dt(m.index,g),g[ge]=v[ge],jf(l,g,null)}catch(m){throw v!==null&&ef(v),ef(g),m}finally{ne(K.DynamicComponentEnd),qa()}return new uc(this.componentType,g,!!p)}finally{O(a)}}};function p0(e,t,n,r){let i=e?["ng-version","21.1.2"]:VD(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[lf].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[lf].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=cd(d);c.push(h)}return Tf(0,null,g0(o,s),1,a,c,null,null,null,[i],null)}function g0(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function pm(e){let t=e[lf].kind;return t==="input"||t==="twoWay"}var uc=class extends kv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Co(n[F],Oe),this.location=yc(this._tNode,n),this.instance=dt(this._tNode.index,n)[ge],this.hostView=this.changeDetectorRef=new kn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Lf(r,i[F],i,t,n);this.previousInputValues.set(t,n);let s=dt(r.index,i);Vf(s,1)}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function m0(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class e{static __NG_ELEMENT_ID__=v0}return e})();function v0(){let e=We();return _0(e,q())}var y0=mi,$v=class extends y0{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return yc(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){let t=bf(this._hostTNode,this._hostLView);if(Rm(t)){let n=rc(t,this._hostLView),r=nc(t),i=n[F].data[r+8];return new vr(i,n)}else return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=gm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-me}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=sf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ro(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!zE(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?t:new pi(An(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(c?d:this.parentInjector).get(ae,null);m&&(o=m)}let h=An(u.componentType??{}),f=sf(this._lContainer,h?.id??null),p=f?.firstChild??null,g=u.create(d,i,p,o,s,a);return this.insertImpl(g.hostView,l,Ro(this._hostTNode,f)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(mg(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Ce],l=new $v(c,c[lt],c[Ce]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Mc(s,i,o,r),t.attachToViewContainerRef(),dd(qd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=gm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=No(this._lContainer,n);r&&(vo(qd(this._lContainer),n),Ic(r[F],r))}detach(t){let n=this._adjustIndex(t,-1),r=No(this._lContainer,n);return r&&vo(qd(this._lContainer),n)!=null?new kn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function gm(e){return e[wo]}function qd(e){return e[wo]||(e[wo]=[])}function _0(e,t){let n,r=t[e.index];return St(r)?n=r:(n=Av(r,t,null,e),t[e.index]=n,Af(t,n)),w0(n,t,e,r),new $v(n,e,t)}function b0(e,t){let n=e[oe],r=n.createComment(""),i=Tt(t,e),o=n.parentNode(i);return ac(n,o,r,n.nextSibling(i),!1),r}var w0=C0,E0=()=>!1;function D0(e,t,n){return E0(e,t,n)}function C0(e,t,n,r){if(e[xn])return;let i;n.type&8?i=ut(r):i=b0(t,n),e[xn]=i}var wr=class{},Nc=class{};var dc=class extends wr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new lc(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=ad(t);this._bootstrapComponents=sv(o.bootstrap),this._r3Injector=Od(t,n,[{provide:wr,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver},...r],ln(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},fc=class extends Nc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new dc(this.moduleType,t,[])}};var Oo=class extends wr{injector;componentFactoryResolver=new lc(this);instance=null;constructor(t){super();let n=new sr([...t.providers,{provide:wr,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],t.parent||_o(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Bo(e,t,n=null){return new Oo({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var I0=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=pd(!1,n.type),i=r.length>0?Bo([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(x(ae))})}return e})();function Pe(e){return Po(()=>{let t=Hv(e),n=G(D({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(I0).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rt.Emulated,styles:e.styles||Ge,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Pn("NgStandalone"),qv(n);let r=e.dependencies;return n.directiveDefs=mm(r,S0),n.pipeDefs=mm(r,ng),n.id=A0(n),n})}function S0(e){return An(e)||cd(e)}function Nt(e){return Po(()=>({type:e.type,bootstrap:e.bootstrap||Ge,declarations:e.declarations||Ge,imports:e.imports||Ge,exports:e.exports||Ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function T0(e,t){if(e==null)return Rn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Dc.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function M0(e){if(e==null)return Rn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function fe(e){return Po(()=>{let t=Hv(e);return qv(t),t})}function Hv(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Rn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ge,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:T0(e.inputs,t),outputs:M0(e.outputs),debugInfo:null}}function qv(e){e.features?.forEach(t=>t(e))}function mm(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function A0(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function R0(e){return Object.getPrototypeOf(e.prototype).constructor}function ht(e){let t=R0(e.type),n=!0,r=[e];for(;t;){let i;if(Gt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new C(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=zd(e.inputs),s.declaredInputs=zd(e.declaredInputs),s.outputs=zd(e.outputs);let a=i.hostBindings;a&&P0(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&O0(e,c),l&&k0(e,l),x0(e,i),tg(e.outputs,i.outputs),Gt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ht&&(n=!1)}}t=Object.getPrototypeOf(t)}N0(r)}function x0(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function N0(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ao(i.hostAttrs,n=Ao(n,i.hostAttrs))}}function zd(e){return e===Rn?{}:e===Ge?[]:e}function O0(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function k0(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function P0(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function zv(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Ao(e.mergedAttrs,e.attrs);let u=e.tView=Tf(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),ui(e,!1);let c=L0(n,t,e,r);Ga()&&Of(n,t,c,e),hi(c,t);let l=Av(c,t,c,e);t[r+Oe]=l,Af(t,l),D0(l,e,t)}function F0(e,t,n,r,i,o,s,a,c,l,u){let d=n+Oe,h;return t.firstCreatePass?(h=Rc(t,d,4,s||null,a||null),Id()&&Fv(t,e,h,Wt(t.consts,l),_v),Tm(t,h)):h=t.data[d],zv(h,e,t,n,r,i,o,c),Do(h)&&Pf(t,e,h),l!=null&&Ff(e,h,u),h}function hc(e,t,n,r,i,o,s,a,c,l,u){let d=n+Oe,h;if(t.firstCreatePass){if(h=Rc(t,d,4,s||null,a||null),l!=null){let f=Wt(t.consts,l);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return zv(h,e,t,n,r,i,o,c),l!=null&&Ff(e,h,u),h}function Oc(e,t,n,r,i,o,s,a){let c=q(),l=ke(),u=Wt(l.consts,o);return F0(c,l,e,t,n,r,i,u,void 0,s,a),Oc}var L0=j0;function j0(e,t,n,r){return Wa(!0),t[oe].createComment("")}var Uf=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Gv(e){return typeof e=="function"&&e[He]!==void 0}function Bf(e){return Gv(e)&&typeof e.set=="function"}var $f=new S("");function Fn(e){return!!e&&typeof e.then=="function"}function Hf(e){return!!e&&typeof e.subscribe=="function"}var qf=new S("");function kc(e){return Ct([{provide:qf,multi:!0,useValue:e}])}var zf=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=y(qf,{optional:!0})??[];injector=y(Ye);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ie(this.injector,i);if(Fn(o))n.push(o);else if(Hf(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pc=new S("");function Wv(){Cu(()=>{let e="";throw new C(600,e)})}function Kv(e){return e.isBoundToModule}var V0=10;var Ot=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(nt);afterRenderManager=y(xf);zonelessEnabled=y(So);rootEffectScheduler=y(Vd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new se;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y(hn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(P(n=>!n))}constructor(){y(mn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=y(ae);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ye.NULL){return this._injector.get(Ne).run(()=>{ne(K.BootstrapComponentStart);let s=n instanceof xc;if(!this._injector.get(zf).done){let p="";throw new C(405,p)}let c;s?c=n:c=this._injector.get(Uo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Kv(c)?void 0:this._injector.get(wr),u=r||c.selector,d=c.create(i,[],u,l),h=d.location.nativeElement,f=d.injector.get($f,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Mo(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),ne(K.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ne(K.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Cc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ne(K.ChangeDetectionEnd),new C(101,!1);let n=O(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,O(n),this.afterTick.next(),ne(K.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(br,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<V0;){ne(K.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ne(K.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Io(i))continue;let o=r&&!this.zonelessEnabled?0:1;Iv(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Io(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Mo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Pc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Mo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function vi(e,t,n,r){let i=q(),o=mr();if(xt(i,o,t)){let s=ke(),a=za();vC(a,i,e,t,n,r)}return vi}var b1=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var uf=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function Gd(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function U0(e,t,n,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){O(r);let l=t.length-1;for(O(null);s<=a&&s<=l;){let u=e.at(s),d=t[s],h=Gd(s,u,s,d,n);if(h!==0){h<0&&e.updateValue(s,d),s++;continue}let f=e.at(a),p=t[l],g=Gd(a,f,l,p,n);if(g!==0){g<0&&e.updateValue(a,p),a--,l--;continue}let v=n(s,u),m=n(a,f),R=n(s,d);if(Object.is(R,m)){let I=n(l,p);Object.is(I,v)?(e.swap(s,a),e.updateValue(a,p),l--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(i??=new pc,o??=ym(e,s,a,n),df(e,i,s,R))e.updateValue(s,d),s++,a++;else if(o.has(R))i.set(v,e.detach(s)),a--;else{let I=e.create(s,t[s]);e.attach(s,I),s++,a++}}for(;s<=l;)vm(e,i,n,s,t[s]),s++}else if(t!=null){O(r);let l=t[Symbol.iterator]();O(null);let u=l.next();for(;!u.done&&s<=a;){let d=e.at(s),h=u.value,f=Gd(s,d,s,h,n);if(f!==0)f<0&&e.updateValue(s,h),s++,u=l.next();else{i??=new pc,o??=ym(e,s,a,n);let p=n(s,h);if(df(e,i,s,p))e.updateValue(s,h),s++,a++,u=l.next();else if(!o.has(p))e.attach(s,e.create(s,h)),s++,a++,u=l.next();else{let g=n(s,d);i.set(g,e.detach(s)),a--}}}for(;!u.done;)vm(e,i,n,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}function df(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function vm(e,t,n,r,i){if(df(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function ym(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var pc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Fe(e,t,n,r,i,o,s,a){Pn("NgControlFlow");let c=q(),l=ke(),u=Wt(l.consts,o);return hc(c,l,e,t,n,r,i,u,256,s,a),Gf}function Gf(e,t,n,r,i,o,s,a){Pn("NgControlFlow");let c=q(),l=ke(),u=Wt(l.consts,o);return hc(c,l,e,t,n,r,i,u,512,s,a),Gf}function Le(e,t){Pn("NgControlFlow");let n=q(),r=mr(),i=n[r]!==Je?n[r]:-1,o=i!==-1?gc(n,Oe+i):void 0,s=0;if(xt(n,r,e)){let a=O(null);try{if(o!==void 0&&xv(o,s),e!==-1){let c=Oe+e,l=gc(n,c),u=gf(n[F],c),d=Ov(l,u,n),h=Tc(n,u,t,{dehydratedView:d});Mc(l,h,s,Ro(u,d))}}finally{O(a)}}else if(o!==void 0){let a=Rv(o,s);a!==void 0&&(a[ge]=t)}}var ff=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-me}};var hf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function yn(e,t,n,r,i,o,s,a,c,l,u,d,h){Pn("NgControlFlow");let f=q(),p=ke(),g=c!==void 0,v=q(),m=a?s.bind(v[et][ge]):s,R=new hf(g,m);v[Oe+e]=R,hc(f,p,e+1,t,n,r,i,Wt(p.consts,o),256),g&&hc(f,p,e+2,c,l,u,d,Wt(p.consts,h),512)}var pf=class extends uf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-me}at(t){return this.getLView(t)[ge].$implicit}attach(t,n){let r=n[oi];this.needsIndexUpdate||=t!==this.length,Mc(this.lContainer,n,t,Ro(this.templateTNode,r)),B0(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,$0(this.lContainer,t),H0(this.lContainer,t)}create(t,n){let r=sf(this.lContainer,this.templateTNode.tView.ssrId);return Tc(this.hostLView,this.templateTNode,new ff(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Ic(t[F],t)}updateValue(t,n){this.getLView(t)[ge].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ge].$index=t}getLView(t){return q0(this.lContainer,t)}};function _n(e){let t=O(null),n=Kt();try{let r=q(),i=r[F],o=r[n],s=n+1,a=gc(r,s);if(o.liveCollection===void 0){let l=gf(i,s);o.liveCollection=new pf(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(U0(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){let l=mr(),u=c.length===0;if(xt(r,l,u)){let d=n+2,h=gc(r,d);if(u){let f=gf(i,d),p=Ov(h,f,r),g=Tc(r,f,void 0,{dehydratedView:p});Mc(h,g,0,Ro(f,p))}else i.firstUpdatePass&&qC(h),xv(h,0)}}}finally{O(t)}}function gc(e,t){return e[t]}function B0(e,t){if(e.length<=me)return;let n=me+t,r=e[n],i=r?r[pr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[dn];GD(o,i),_r.delete(r[fn]),i.detachedLeaveAnimationFns=void 0}}function $0(e,t){if(e.length<=me)return;let n=me+t,r=e[n],i=r?r[pr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function H0(e,t){return No(e,t)}function q0(e,t){return Rv(e,t)}function gf(e,t){return Co(e,t)}function pt(e,t,n){let r=q(),i=mr();if(xt(r,i,t)){let o=ke(),s=za();yv(s,r,e,t,r[oe],n)}return pt}function mf(e,t,n,r,i){Lf(t,e,n,i?"class":"style",r)}function b(e,t,n,r){let i=q(),o=i[F],s=e+Oe,a=o.firstCreatePass?jv(s,i,2,t,_v,Id(),n,r):o.data[s];if(bC(a,i,e,t,z0),Do(a)){let c=i[F];Pf(c,i,a),Ym(c,a,i)}return r!=null&&Ff(i,a),b}function _(){let e=ke(),t=We(),n=wC(t);return e.firstCreatePass&&Vv(e,n),Ig(n)&&Sg(),Dg(),n.classesWithoutHost!=null&&JE(n)&&mf(e,n,q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&QE(n)&&mf(e,n,q(),n.stylesWithoutHost,!1),_}function yi(e,t,n,r){return b(e,t,n,r),_(),yi}var z0=(e,t,n,r,i)=>(Wa(!0),Xm(t[oe],r,Ug()));function kt(){return q()}var $o="en-US";var G0=$o;function Zv(e){typeof e=="string"&&(G0=e.toLowerCase().replace(/_/g,"-"))}function he(e,t,n){let r=q(),i=ke(),o=We();return Yv(i,r,r[oe],o,e,t,n),he}function Yv(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Hd(r,t,o),s0(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=Hd(r,t,o),hm(r,t,h,f,i,c)}if(l&&l.length)for(let d of l)c??=Hd(r,t,o),hm(r,t,d,i,i,c)}}function J(e=1){return Vg(e)}function Ja(e,t){return e<<17|t<<2}function Er(e){return e>>17&32767}function W0(e){return(e&2)==2}function K0(e,t){return e&131071|t<<17}function vf(e){return e|2}function gi(e){return(e&131068)>>2}function Wd(e,t){return e&-131069|t<<2}function Z0(e){return(e&1)===1}function yf(e){return e|1}function Y0(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Er(s),c=gi(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ii(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Er(e[a+1]);e[r+1]=Ja(h,a),h!==0&&(e[h+1]=Wd(e[h+1],r)),e[a+1]=K0(e[a+1],r)}else e[r+1]=Ja(a,0),a!==0&&(e[a+1]=Wd(e[a+1],r)),a=r;else e[r+1]=Ja(c,0),a===0?a=r:e[c+1]=Wd(e[c+1],r),c=r;l&&(e[r+1]=vf(e[r+1])),_m(e,u,r,!0),_m(e,u,r,!1),J0(t,u,e,r,o),s=Ja(a,c),o?t.classBindings=s:t.styleBindings=s}function J0(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ii(o,t)>=0&&(n[r+1]=yf(n[r+1]))}function _m(e,t,n,r){let i=e[n+1],o=t===null,s=r?Er(i):gi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];Q0(c,t)&&(a=!0,e[s+1]=r?yf(l):vf(l)),s=r?Er(l):gi(l)}a&&(e[n+1]=r?vf(i):yf(i))}function Q0(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ii(e,t)>=0:!1}var At={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function X0(e){return e.substring(At.key,At.keyEnd)}function eI(e){return tI(e),Jv(e,Qv(e,0,At.textEnd))}function Jv(e,t){let n=At.textEnd;return n===t?-1:(t=At.keyEnd=nI(e,At.key=t,n),Qv(e,t,n))}function tI(e){At.key=0,At.keyEnd=0,At.value=0,At.valueEnd=0,At.textEnd=e.length}function Qv(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function nI(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Ho(e,t){return iI(e,t,null,!0),Ho}function Wf(e){oI(dI,rI,e,!0)}function rI(e,t){for(let n=eI(t);n>=0;n=Jv(t,n))Fa(e,X0(t),!0)}function iI(e,t,n,r){let i=q(),o=ke(),s=Ba(2);if(o.firstUpdatePass&&ey(o,e,s,r),t!==Je&&xt(i,s,t)){let a=o.data[Kt()];ty(o,a,i,i[oe],e,i[s+1]=hI(t,n),r,s)}}function oI(e,t,n,r){let i=ke(),o=Ba(2);i.firstUpdatePass&&ey(i,null,o,r);let s=q();if(n!==Je&&xt(s,o,n)){let a=i.data[Kt()];if(ny(a,r)&&!Xv(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=xa(c,n||"")),mf(i,a,s,n,r)}else fI(i,a,s,s[oe],s[o+1],s[o+1]=uI(e,t,n),r,o)}}function Xv(e,t){return t>=e.expandoStartIndex}function ey(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Kt()],s=Xv(e,n);ny(o,r)&&t===null&&!s&&(t=!1),t=sI(i,o,t,r),Y0(i,o,t,n,s,r)}}function sI(e,t,n,r){let i=Pg(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Kd(null,e,t,n,r),n=ko(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Kd(i,e,t,n,r),o===null){let c=aI(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Kd(null,e,t,c[1],r),c=ko(c,t.attrs,r),cI(e,t,r,c))}else o=lI(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function aI(e,t,n){let r=n?t.classBindings:t.styleBindings;if(gi(r)!==0)return e[Er(r)]}function cI(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Er(i)]=r}function lI(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=ko(r,s,n)}return ko(r,t.attrs,n)}function Kd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=ko(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ko(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Fa(e,s,n?!0:t[++o]))}return e===void 0?null:e}function uI(e,t,n){if(n==null||n==="")return Ge;let r=[],i=jo(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(i instanceof Set)for(let o of i)e(r,o,!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function dI(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Fa(e,r,n)}function fI(e,t,n,r,i,o,s,a){i===Je&&(i=Ge);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,p=null,g;u===d?(c+=2,l+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,g=f),p!==null&&ty(e,t,n,r,p,g,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function ty(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Z0(l)?bm(c,t,n,i,gi(l),s):void 0;if(!mc(u)){mc(o)||W0(l)&&(o=bm(c,null,n,i,a,s));let d=wd(Kt(),n);aC(r,s,d,i,o)}}function bm(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Je&&(h=d?Ge:void 0);let f=d?La(h,r):u===r?h:void 0;if(l&&!mc(f)&&(f=La(c,r)),mc(f)&&(a=f,s))return a;let p=e[i+1];i=s?Er(p):gi(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=La(c,r))}return a}function mc(e){return e!==void 0}function hI(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ln(jo(e)))),e}function ny(e,t){return(e.flags&(t?8:16))!==0}function w(e,t=""){let n=q(),r=ke(),i=e+Oe,o=r.firstCreatePass?Rc(r,i,1,t,null):r.data[i],s=pI(r,n,o,t);n[i]=s,Ga()&&Of(r,n,s,o),ui(o,!1)}var pI=(e,t,n,r)=>(Wa(!0),ED(t[oe],r));function gI(e,t,n,r=""){return xt(e,mr(),n)?t+ri(n)+r:Je}function mI(e,t,n,r,i,o=""){let s=Rg(),a=o0(e,s,n,i);return Ba(2),a?t+ri(n)+r+ri(i)+o:Je}function ce(e){return Qe("",e),ce}function Qe(e,t,n){let r=q(),i=gI(r,e,t,n);return i!==Je&&ry(r,Kt(),i),Qe}function _i(e,t,n,r,i){let o=q(),s=mI(o,e,t,n,r,i);return s!==Je&&ry(o,Kt(),s),_i}function ry(e,t,n){let r=wd(t,e);DD(e[oe],r,n)}function Pt(e,t,n){Bf(t)&&(t=t());let r=q(),i=mr();if(xt(r,i,t)){let o=ke(),s=za();yv(s,r,e,t,r[oe],n)}return Pt}function Qt(e,t){let n=Bf(e);return n&&e.set(t),n}function Ft(e,t){let n=q(),r=ke(),i=We();return Yv(r,n,n[oe],i,e,t),Ft}function wm(e,t,n){let r=ke();r.firstCreatePass&&iy(t,r.data,r.blueprint,Gt(e),n)}function iy(e,t,n,r,i){if(e=xe(e),Array.isArray(e))for(let o=0;o<e.length;o++)iy(e[o],t,n,r,i);else{let o=ke(),s=q(),a=We(),c=or(e)?e:xe(e.provide),l=md(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(or(e)||!e.multi){let f=new yr(l,i,z,null),p=Yd(c,t,i?u:u+h,d);p===-1?(Qd(ic(a,s),o,c),Zd(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Yd(c,t,u+h,d),p=Yd(c,t,u,u+h),g=f>=0&&n[f],v=p>=0&&n[p];if(i&&!v||!i&&!g){Qd(ic(a,s),o,c);let m=_I(i?yI:vI,n.length,i,r,l,e);!i&&v&&(n[p].providerFactory=m),Zd(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)}else{let m=oy(n[i?p:f],l,!i&&r);Zd(o,e,f>-1?f:p,m)}!i&&r&&v&&n[p].componentProviders++}}}function Zd(e,t,n,r){let i=or(t),o=dg(t);if(i||o){let c=(o?xe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function oy(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Yd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function vI(e,t,n,r,i){return _f(this.multi,[])}function yI(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=oc(r,r[F],this.providerFactory.index,i);s=c.slice(0,a),_f(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],_f(o,s);return s}function _f(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function _I(e,t,n,r,i,o){let s=new yr(e,n,z,null);return s.multi=[],s.index=t,s.componentProviders=0,oy(s,i,r&&!n),s}function Ln(e,t){return n=>{n.providersResolver=(r,i)=>wm(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>wm(r,i?i(t):t,!0))}}function jn(e,t,n){return wI(q(),Ag(),e,t,n)}function bI(e,t){let n=e[t];return n===Je?void 0:n}function wI(e,t,n,r,i,o){let s=t+n;return xt(e,s,i)?i0(e,s+1,o?r.call(o,i):r(i)):bI(e,s+1)}var vc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Kf=(()=>{class e{compileModuleSync(n){return new fc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ad(n),o=sv(i.declarations).reduce((s,a)=>{let c=An(a);return c&&s.push(new pi(c)),s},[]);return new vc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sy=(()=>{class e{applicationErrorHandler=y(nt);appRef=y(Ot);taskService=y(hn);ngZone=y(Ne);zonelessEnabled=y(So);tracing=y(mn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ho):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(jd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?qg:kd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ho+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ay(){return[{provide:Mn,useExisting:sy},{provide:Ne,useClass:po},{provide:So,useValue:!0}]}function EI(){return typeof $localize<"u"&&$localize.locale||$o}var Fc=new S("",{factory:()=>y(Fc,{optional:!0,skipSelf:!0})||EI()});function Dr(e,t){return Xs(e,t?.equal)}var ly=Symbol("InputSignalNode#UNSET"),HI=G(D({},ea),{transformFn:void 0,applyValueToInputSignal(e,t){ro(e,t)}});function uy(e,t){let n=Object.create(HI);n.value=e,n.transformFn=t?.transform;function r(){if(eo(n),n.value===ly){let i=null;throw new C(-950,i)}return n.value}return r[He]=n,r}var jc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Fo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function cy(e,t){return uy(e,t)}function qI(e){return uy(ly,e)}var dy=(cy.required=qI,cy);var Zf=new S(""),zI=new S("");function qo(e){return!e.moduleRef}function GI(e){let t=qo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Ne);return n.run(()=>{qo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(nt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),qo(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Zf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Zf);s.add(o),e.moduleRef.onDestroy(()=>{Mo(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return KI(r,n,()=>{let o=t.get(hn),s=o.add(),a=t.get(zf);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Fc,$o);if(Zv(c||$o),!t.get(zI,!0))return qo(e)?t.get(Ot):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(qo(e)){let u=t.get(Ot);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return WI?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(s)})})})}var WI;function KI(e,t,n){try{let r=n();return Fn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Lc=null;function ZI(e=[],t){return Ye.create({name:t,providers:[{provide:yo,useValue:"platform"},{provide:Zf,useValue:new Set([()=>Lc=null])},...e]})}function YI(e=[]){if(Lc)return Lc;let t=ZI(e);return Lc=t,Wv(),JI(t),t}function JI(e){let t=e.get(bc,null);Ie(e,()=>{t?.forEach(n=>n())})}function fy(){return!1}var QI=1e4;var U2=QI-1e3;var Ir=(()=>{class e{static __NG_ELEMENT_ID__=XI}return e})();function XI(e){return eS(We(),q(),(e&16)===16)}function eS(e,t,n){if(Nn(e)&&!n){let r=dt(e.index,t);return new kn(r,r)}else if(e.type&175){let r=t[et];return new kn(r,t)}return null}function hy(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;ne(K.BootstrapApplicationStart);try{let o=i?.injector??YI(r),s=[ay(),Gg,...n||[]],a=new Oo({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return GI({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{ne(K.BootstrapApplicationEnd)}}function Sr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var py=null;function gt(){return py}function Yf(e){py??=e}var zo=class{},bi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(gy),providedIn:"platform"})}return e})();var gy=(()=>{class e extends bi{_location;_history;_doc=y(ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gt().getBaseHref(this._doc)}onPopState(n){let r=gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function yy(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function my(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Vn(e){return e&&e[0]!=="?"?`?${e}`:e}var wi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(nS),providedIn:"root"})}return e})(),tS=new S(""),nS=(()=>{class e extends wi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Vn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(x(bi),x(tS,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ei=(()=>{class e{_subject=new se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=oS(my(vy(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vn(r))}normalize(n){return e.stripTrailingSlash(iS(this._basePath,vy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Vn;static joinWithSlash=yy;static stripTrailingSlash=my;static \u0275fac=function(r){return new(r||e)(x(wi))};static \u0275prov=T({token:e,factory:()=>rS(),providedIn:"root"})}return e})();function rS(){return new Ei(x(wi))}function iS(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function vy(e){return e.replace(/\/index.html$/,"")}function oS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Jf=(()=>{class e{_viewContainer;_context=new Vc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){_y(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){_y(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(z(mi),z(Ac))};static \u0275dir=fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Vc=class{$implicit=null;ngIf=null};function _y(e,t){if(e&&!e.createEmbeddedView)throw new C(2020,!1)}var Xt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Nt({type:e});static \u0275inj=at({})}return e})();function Go(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Tr=class{};var by="browser";var Wo=class{_doc;constructor(t){this._doc=t}manager},Uc=(()=>{class e extends Wo{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(x(ve))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Hc=new S(""),th=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Uc));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Uc);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(x(Hc),x(Ne))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Qf="ng-app-id";function Ey(e){for(let t of e)t.remove()}function Dy(e,t){let n=t.createElement("style");return n.textContent=e,n}function aS(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Qf}="${t}"],link[${Qf}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Qf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function eh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var nh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,aS(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Dy);r?.forEach(i=>this.addUsage(i,this.external,eh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Ey(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ey(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Dy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,eh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(x(ve),x(_c),x(wc,8),x(Lo))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Xf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rh=/%COMP%/g;var Iy="%COMP%",cS=`_nghost-${Iy}`,lS=`_ngcontent-${Iy}`,uS=!0,dS=new S("",{factory:()=>uS});function fS(e){return lS.replace(rh,e)}function hS(e){return cS.replace(rh,e)}function Sy(e,t){return t.map(n=>n.replace(rh,e))}var ih=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Ko(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof $c?i.applyToHost(n):i instanceof Zo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Rt.Emulated:o=new $c(c,l,r,this.appId,u,s,a,d);break;case Rt.ShadowDom:return new Bc(c,n,r,s,a,this.nonce,d,l);case Rt.ExperimentalIsolatedShadowDom:return new Bc(c,n,r,s,a,this.nonce,d);default:o=new Zo(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(x(th),x(nh),x(_c),x(dS),x(ve),x(Ne),x(wc),x(mn,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Ko=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Xf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Cy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Cy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Xf[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Xf[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Yt.DashCase|Yt.Important)?t.style.setProperty(n,r,i&Yt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Yt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=gt().getGlobalEventTarget(this.doc,t),!t))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Cy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Bc=class extends Ko{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,s,a,c){super(t,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Sy(r.id,l);for(let d of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=eh(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Zo=class extends Ko{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Sy(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&_r.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$c=class extends Zo{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=fS(l),this.hostAttr=hS(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var qc=class e extends zo{supportsDOMEvents=!0;static makeCurrent(){Yf(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=pS();return n==null?null:gS(n)}resetBaseElement(){Yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Go(document.cookie,t)}},Yo=null;function pS(){return Yo=Yo||document.head.querySelector("base"),Yo?Yo.getAttribute("href"):null}function gS(e){return new URL(e,document.baseURI).pathname}var mS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Ty=["alt","control","meta","shift"],vS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},My=(()=>{class e extends Wo{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ty.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=vS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ty.forEach(s=>{if(s!==i){let a=yS[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(x(ve))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();async function oh(e,t,n){let r=D({rootComponent:e},_S(t,n));return hy(r)}function _S(e,t){return{platformRef:t?.platformRef,appProviders:[...CS,...e?.providers??[]],platformProviders:DS}}function bS(){qc.makeCurrent()}function wS(){return new Ht}function ES(){return Ef(document),document}var DS=[{provide:Lo,useValue:by},{provide:bc,useValue:bS,multi:!0},{provide:ve,useFactory:ES}];var CS=[{provide:yo,useValue:"root"},{provide:Ht,useFactory:wS},{provide:Hc,useClass:Uc,multi:!0},{provide:Hc,useClass:My,multi:!0},ih,nh,th,{provide:br,useExisting:ih},{provide:Tr,useClass:mS},[]];var Mr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Gc=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Wc=class{encodeKey(t){return Ay(t)}encodeValue(t){return Ay(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function IS(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var SS=/%(\d[a-f0-9])/gi,TS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ay(e){return encodeURIComponent(e).replace(SS,(t,n)=>TS[n]??t)}function zc(e){return`${e}`}var Un=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Wc,t.fromString){if(t.fromObject)throw new C(2805,!1);this.map=IS(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(zc):[zc(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(zc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(zc(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function MS(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ry(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function xy(e){return typeof Blob<"u"&&e instanceof Blob}function Ny(e){return typeof FormData<"u"&&e instanceof FormData}function AS(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Oy="Content-Type",ky="Accept",Py="text/plain",Fy="application/json",RS=`${Fy}, ${Py}, */*`,Jo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(MS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new C(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Mr,this.context??=new Gc,!this.params)this.params=new Un,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ry(this.body)||xy(this.body)||Ny(this.body)||AS(this.body)?this.body:this.body instanceof Un?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ny(this.body)?null:xy(this.body)?this.body.type||null:Ry(this.body)?null:typeof this.body=="string"?Py:this.body instanceof Un?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Fy:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,f=t.referrerPolicy||this.referrerPolicy,p=t.transferCache??this.transferCache,g=t.timeout??this.timeout,v=t.body!==void 0?t.body:this.body,m=t.withCredentials??this.withCredentials,R=t.reportProgress??this.reportProgress,I=t.headers||this.headers,E=t.params||this.params,B=t.context??this.context;return t.setHeaders!==void 0&&(I=Object.keys(t.setHeaders).reduce((Ve,W)=>Ve.set(W,t.setHeaders[W]),I)),t.setParams&&(E=Object.keys(t.setParams).reduce((Ve,W)=>Ve.set(W,t.setParams[W]),E)),new e(n,r,v,{params:E,headers:I,context:B,reportProgress:R,responseType:i,withCredentials:m,transferCache:p,keepalive:o,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},Di=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Di||{}),Ci=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new Mr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Kc=class e extends Ci{constructor(t={}){super(t)}type=Di.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Zc=class e extends Ci{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Di.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Qo=class extends Ci{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},xS=200,NS=204;var OS=new S("");var kS=/^\)\]\}',?\n/;var ah=(()=>{class e{xhrFactory;tracingService=y(mn,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return H(null).pipe(Be(()=>new U(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,m)=>s.setRequestHeader(v,m.join(","))),n.headers.has(ky)||s.setRequestHeader(ky,RS),!n.headers.has(Oy)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(Oy,v)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",m=new Mr(s.getAllResponseHeaders()),R=s.responseURL||n.url;return c=new Kc({headers:m,status:s.status,statusText:v,url:R}),c},u=this.maybePropagateTrace(()=>{let{headers:v,status:m,statusText:R,url:I}=l(),E=null;m!==NS&&(E=typeof s.response>"u"?s.responseText:s.response),m===0&&(m=E?xS:0);let B=m>=200&&m<300;if(n.responseType==="json"&&typeof E=="string"){let Ve=E;E=E.replace(kS,"");try{E=E!==""?JSON.parse(E):null}catch(W){E=Ve,B&&(B=!1,E={error:W,text:E})}}B?(o.next(new Zc({body:E,headers:v,status:m,statusText:R,url:I||void 0})),o.complete()):o.error(new Qo({error:E,headers:v,status:m,statusText:R,url:I||void 0}))}),d=this.maybePropagateTrace(v=>{let{url:m}=l(),R=new Qo({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(R)}),h=d;n.timeout&&(h=this.maybePropagateTrace(v=>{let{url:m}=l(),R=new Qo({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:m||void 0});o.error(R)}));let f=!1,p=this.maybePropagateTrace(v=>{f||(o.next(l()),f=!0);let m={type:Di.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),n.responseType==="text"&&s.responseText&&(m.partialText=s.responseText),o.next(m)}),g=this.maybePropagateTrace(v=>{let m={type:Di.UploadProgress,loaded:v.loaded};v.lengthComputable&&(m.total=v.total),o.next(m)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Di.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(x(Tr))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function PS(e,t){return t(e)}function FS(e,t,n){return(r,i)=>Ie(n,()=>t(r,o=>e(o,i)))}var Ly=new S("",{factory:()=>[]}),LS=new S(""),jy=new S("",{factory:()=>!0});var ch=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=x(ah),i},providedIn:"root"})}return e})();var Yc=(()=>{class e{backend;injector;chain=null;pendingTasks=y(Za);contributeToStability=y(jy);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ly),...this.injector.get(LS,[])]));this.chain=r.reduceRight((i,o)=>FS(i,o,this.injector),PS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ao(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(x(ch),x(ae))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=x(Yc),i},providedIn:"root"})}return e})();function sh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var jS=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Jo)o=n;else{let c;i.headers instanceof Mr?c=i.headers:c=new Mr(i.headers);let l;i.params&&(i.params instanceof Un?l=i.params:l=new Un({fromObject:i.params})),o=new Jo(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=H(o).pipe(ei(c=>this.handler.handle(c)));if(n instanceof Jo||i.observe==="events")return s;let a=s.pipe(Ze(c=>c instanceof Zc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(P(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(P(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(P(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));default:return a.pipe(P(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Un().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,sh(i,r))}post(n,r,i={}){return this.request("POST",n,sh(i,r))}put(n,r,i={}){return this.request("PUT",n,sh(i,r))}static \u0275fac=function(r){return new(r||e)(x(lh))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var VS=new S("",{factory:()=>!0}),US="XSRF-TOKEN",BS=new S("",{factory:()=>US}),$S="X-XSRF-TOKEN",HS=new S("",{factory:()=>$S}),qS=(()=>{class e{cookieName=y(BS);doc=y(ve);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Go(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vy=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=x(qS),i},providedIn:"root"})}return e})();function zS(e,t){if(!y(VS)||e.method==="GET"||e.method==="HEAD")return t(e);try{let i=y(bi).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return t(e)}catch{return t(e)}let n=y(Vy).getToken(),r=y(HS);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function uh(...e){let t=[jS,Yc,{provide:lh,useExisting:Yc},{provide:ch,useFactory:()=>y(OS,{optional:!0})??y(ah)},{provide:Ly,useValue:zS,multi:!0}];for(let n of e)t.push(...n.\u0275providers);return Ct(t)}var Uy=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(x(ve))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var j="primary",us=Symbol("RouteTitle"),gh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xr(e){return new gh(e)}function dh(e,t,n){for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function Yy(e,t,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let c={},l=e.slice(0,r.length);return dh(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let a={};return!dh(o,e.slice(0,o.length),a)||!dh(s,e.slice(e.length-s.length),a)?null:{consumed:e,posParams:a}}function nl(e){return new Promise((t,n)=>{e.pipe(an()).subscribe({next:r=>t(r),error:r=>n(r)})})}function WS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!en(e[n],t[n]))return!1;return!0}function en(e,t){let n=e?mh(e):void 0,r=t?mh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Jy(e[i],t[i]))return!1;return!0}function mh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Jy(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function KS(e){return e.length>0?e[e.length-1]:null}function kr(e){return ba(e)?e:Fn(e)?Z(Promise.resolve(e)):H(e)}function Qy(e){return ba(e)?nl(e):Promise.resolve(e)}var ZS={exact:e_,subset:t_},Xy={exact:YS,subset:JS,ignored:()=>!0};function By(e,t,n){return ZS[n.paths](e.root,t.root,n.matrixParams)&&Xy[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function YS(e,t){return en(e,t)}function e_(e,t,n){if(!Ar(e.segments,t.segments)||!Xc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!e_(e.children[r],t.children[r],n))return!1;return!0}function JS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Jy(e[n],t[n]))}function t_(e,t,n){return n_(e,t,t.segments,n)}function n_(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Ar(i,n)||t.hasChildren()||!Xc(i,n,r))}else if(e.segments.length===n.length){if(!Ar(e.segments,n)||!Xc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!t_(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ar(e.segments,i)||!Xc(e.segments,i,r)||!e.children[j]?!1:n_(e.children[j],t,o,r)}}function Xc(e,t,n){return t.every((r,i)=>Xy[n](e[i].parameters,r.parameters))}var jt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Q([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xr(this.queryParams),this._queryParamMap}toString(){return eT.serialize(this)}},Q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return el(this)}},Bn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=xr(this.parameters),this._parameterMap}toString(){return i_(this)}};function QS(e,t){return Ar(e,t)&&e.every((n,r)=>en(n.parameters,t[r].parameters))}function Ar(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function XS(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}var ds=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new $n,providedIn:"root"})}return e})(),$n=class{parse(t){let n=new yh(t);return new jt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Xo(t.root,!0)}`,r=rT(t.queryParams),i=typeof t.fragment=="string"?`#${tT(t.fragment)}`:"";return`${n}${r}${i}`}},eT=new $n;function el(e){return e.segments.map(t=>i_(t)).join("/")}function Xo(e,t){if(!e.hasChildren())return el(e);if(t){let n=e.children[j]?Xo(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${Xo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=XS(e,(r,i)=>i===j?[Xo(e.children[j],!1)]:[`${i}:${Xo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[j]!=null?`${el(e)}/${n[0]}`:`${el(e)}/(${n.join("//")})`}}function r_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(e){return r_(e).replace(/%3B/gi,";")}function tT(e){return encodeURI(e)}function vh(e){return r_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tl(e){return decodeURIComponent(e)}function $y(e){return tl(e.replace(/\+/g,"%20"))}function i_(e){return`${vh(e.path)}${nT(e.parameters)}`}function nT(e){return Object.entries(e).map(([t,n])=>`;${vh(t)}=${vh(n)}`).join("")}function rT(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Jc(n)}=${Jc(i)}`).join("&"):`${Jc(n)}=${Jc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var iT=/^[^\/()?;#]+/;function fh(e){let t=e.match(iT);return t?t[0]:""}var oT=/^[^\/()?;=#]+/;function sT(e){let t=e.match(oT);return t?t[0]:""}var aT=/^[^=?&#]+/;function cT(e){let t=e.match(aT);return t?t[0]:""}var lT=/^[^&#]+/;function uT(e){let t=e.match(lT);return t?t[0]:""}var yh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new Q(t,n)),r}parseSegment(){let t=fh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new Bn(tl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=sT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fh(this.remaining);i&&(r=i,this.capture(r))}t[tl(n)]=tl(r)}parseQueryParam(t){let n=cT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=uT(this.remaining);s&&(r=s,this.capture(r))}let i=$y(n),o=$y(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);let s=this.parseChildren();n[o??j]=Object.keys(s).length===1&&s[j]?s[j]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}};function o_(e){return e.segments.length>0?new Q([],{[j]:e}):e}function s_(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=s_(i);if(r===j&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Q(e.segments,t);return dT(n)}function dT(e){if(e.numberOfChildren===1&&e.children[j]){let t=e.children[j];return new Q(e.segments.concat(t.segments),t.children)}return e}function Hn(e){return e instanceof jt}function a_(e,t,n=null,r=null,i=new $n){let o=c_(e);return l_(o,t,n,r,i)}function c_(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=o_(r);return t??i}function l_(e,t,n,r,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return hh(o,o,o,n,r,i);let s=fT(t);if(s.toRoot())return hh(o,o,new Q([],{}),n,r,i);let a=hT(s,o,e),c=a.processChildren?ts(a.segmentGroup,a.index,s.commands):d_(a.segmentGroup,a.index,s.commands);return hh(o,a.segmentGroup,c,n,r,i)}function rl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function is(e){return typeof e=="object"&&e!=null&&e.outlets}function Hy(e,t,n){e||="\u0275";let r=new jt;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function hh(e,t,n,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>Hy(l,d,o)):Hy(l,u,o);let a;e===t?a=n:a=u_(e,t,n);let c=o_(s_(a));return new jt(c,s,i)}function u_(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=u_(o,t,n)}),new Q(e.segments,r)}var il=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&rl(r[0]))throw new C(4003,!1);let i=r.find(is);if(i&&i!==KS(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new il(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new il(n,t,r)}var Si=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function hT(e,t,n){if(e.isAbsolute)return new Si(t,!0,0);if(!n)return new Si(t,!1,NaN);if(n.parent===null)return new Si(n,!0,0);let r=rl(e.commands[0])?0:1,i=n.segments.length-1+r;return pT(n,i,e.numberOfDoubleDots)}function pT(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Si(r,!1,i-o)}function gT(e){return is(e[0])?e[0].outlets:{[j]:e}}function d_(e,t,n){if(e??=new Q([],{}),e.segments.length===0&&e.hasChildren())return ts(e,t,n);let r=mT(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Q(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new Q(e.segments.slice(r.pathIndex),e.children),ts(o,0,i)}else return r.match&&i.length===0?new Q(e.segments,{}):r.match&&!e.hasChildren()?_h(e,t,n):r.match?ts(e,0,i):_h(e,t,n)}function ts(e,t,n){if(n.length===0)return new Q(e.segments,{});{let r=gT(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&e.numberOfChildren===1&&e.children[j].segments.length===0){let o=ts(e.children[j],t,n);return new Q(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=d_(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(e.segments,i)}}function mT(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(is(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!zy(c,l,s))return o;r+=2}else{if(!zy(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _h(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(is(o)){let c=vT(o.outlets);return new Q(r,c)}if(i===0&&rl(n[0])){let c=e.segments[t];r.push(new Bn(c.path,qy(n[0]))),i++;continue}let s=is(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&rl(a)?(r.push(new Bn(s,qy(a))),i+=2):(r.push(new Bn(s,{})),i++)}return new Q(r,{})}function vT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=_h(new Q([],{}),0,r))}),t}function qy(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function zy(e,t,n){return e==n.path&&en(t,n.parameters)}var ns="imperative",Se=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Se||{}),it=class{id;url;constructor(t,n){this.id=t,this.url=n}},Nr=class extends it{type=Se.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends it{urlAfterRedirects;type=Se.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$e=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})($e||{}),os=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(os||{}),mt=class extends it{reason;code;type=Se.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function f_(e){return e instanceof mt&&(e.code===$e.Redirect||e.code===$e.SupersededByNewNavigation)}var wn=class extends it{reason;code;type=Se.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Or=class extends it{error;target;type=Se.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mi=class extends it{urlAfterRedirects;state;type=Se.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ol=class extends it{urlAfterRedirects;state;type=Se.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sl=class extends it{urlAfterRedirects;state;shouldActivate;type=Se.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},al=class extends it{urlAfterRedirects;state;type=Se.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cl=class extends it{urlAfterRedirects;state;type=Se.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ll=class{route;type=Se.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ul=class{route;type=Se.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dl=class{snapshot;type=Se.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{snapshot;type=Se.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hl=class{snapshot;type=Se.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pl=class{snapshot;type=Se.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ai=class{},Ri=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function yT(e){return!(e instanceof Ai)&&!(e instanceof Ri)}var gl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Oi(this.rootInjector)}},Oi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(x(ae))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ml=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=bh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=bh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=wh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return wh(t,this._root).map(n=>n.value)}};function bh(e,t){if(e===t.value)return t;for(let n of t.children){let r=bh(e,n);if(r)return r}return null}function wh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=wh(e,n);if(r.length)return r.unshift(t),r}return[]}var rt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ii(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ss=class extends ml{snapshot;constructor(t,n){super(t),this.snapshot=n,Ah(this,t)}toString(){return this.snapshot.toString()}};function h_(e,t){let n=_T(e,t),r=new Ae([new Bn("",{})]),i=new Ae({}),o=new Ae({}),s=new Ae({}),a=new Ae(""),c=new ot(r,i,s,a,o,j,e,n.root);return c.snapshot=n.root,new ss(new rt(c,[]),n)}function _T(e,t){let n={},r={},i={},s=new Rr([],n,i,"",r,j,e,null,{},t);return new as("",new rt(s,[]))}var ot=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(P(l=>l[us]))??H(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(P(t=>xr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(P(t=>xr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vl(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:D(D({},t.params),e.params),data:D(D({},t.data),e.data),resolve:D(D(D(D({},e.data),t.data),i?.data),e._resolvedData)}:r={params:D({},e.params),data:D({},e.data),resolve:D(D({},e.data),e._resolvedData??{})},i&&g_(i)&&(r.resolve[us]=i.title),r}var Rr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[us]}constructor(t,n,r,i,o,s,a,c,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l,this._environmentInjector=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},as=class extends ml{url;constructor(t,n){super(n),this.url=t,Ah(this,n)}toString(){return p_(this._root)}};function Ah(e,t){t.value._routerState=e,t.children.forEach(n=>Ah(e,n))}function p_(e){let t=e.children.length>0?` { ${e.children.map(p_).join(", ")} } `:"";return`${e.value}${t}`}function ph(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,en(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),en(t.params,n.params)||e.paramsSubject.next(n.params),WS(t.url,n.url)||e.urlSubject.next(n.url),en(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Eh(e,t){let n=en(e.params,t.params)&&QS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Eh(e.parent,t.parent))}function g_(e){return typeof e.title=="string"||e.title===null}var m_=new S(""),fs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=j;activateEvents=new _e;deactivateEvents=new _e;attachEvents=new _e;detachEvents=new _e;routerOutletData=dy();parentContexts=y(Oi);location=y(mi);changeDetector=y(Ir);inputBinder=y(wl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Dh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pn]})}return e})(),Dh=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===ot?this.route:t===Oi?this.childContexts:t===m_?this.outletData:this.parent.get(t,n)}},wl=new S("");var Rh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Pe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&yi(0,"router-outlet")},dependencies:[fs],encapsulation:2})}return e})();function xh(e){let t=e.children&&e.children.map(xh),n=t?G(D({},e),{children:t}):D({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=Rh),n}function bT(e,t,n){let r=cs(e,t._root,n?n._root:void 0);return new ss(r,t)}function cs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=wT(e,t,n);return new rt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>cs(e,a)),s}}let r=ET(t.value),i=t.children.map(o=>cs(e,o));return new rt(r,i)}}function wT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return cs(e,r,i);return cs(e,r)})}function ET(e){return new ot(new Ae(e.url),new Ae(e.params),new Ae(e.queryParams),new Ae(e.fragment),new Ae(e.data),e.outlet,e.component,e)}var xi=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},v_="ngNavigationCancelingError";function yl(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Hn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=y_(!1,$e.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function y_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[v_]=!0,n.cancellationCode=t,n}function DT(e){return __(e)&&Hn(e.url)}function __(e){return!!e&&e[v_]}var Ch=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ph(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ii(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ii(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ii(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ii(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new pl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new fl(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(ph(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ph(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},_l=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ti=class{component;route;constructor(t,n){this.component=t,this.route=n}};function CT(e,t,n){let r=e._root,i=t?t._root:null;return es(r,i,n,[r.value])}function IT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ki(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!td(e)?e:t.get(e):r}function es(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ii(t);return e.children.forEach(s=>{ST(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rs(a,n.getContext(s),i)),i}function ST(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=TT(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new _l(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?es(e,t,a?a.children:null,r,i):es(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ti(a.outlet.component,s))}else s&&rs(t,a,i),i.canActivateChecks.push(new _l(r)),o.component?es(e,null,a?a.children:null,r,i):es(e,null,n,r,i);return i}function TT(e,t,n){if(typeof n=="function")return Ie(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!Ar(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ar(e.url,t.url)||!en(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eh(e,t)||!en(e.queryParams,t.queryParams);default:return!Eh(e,t)}}function rs(e,t,n){let r=Ii(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?rs(s,t.children.getContext(o),n):rs(s,null,n):rs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ti(t.outlet.component,i)):n.canDeactivateChecks.push(new Ti(null,i)):n.canDeactivateChecks.push(new Ti(null,i))}function hs(e){return typeof e=="function"}function MT(e){return typeof e=="boolean"}function AT(e){return e&&hs(e.canLoad)}function RT(e){return e&&hs(e.canActivate)}function xT(e){return e&&hs(e.canActivateChild)}function NT(e){return e&&hs(e.canDeactivate)}function OT(e){return e&&hs(e.canMatch)}function b_(e){return e instanceof tr||e?.name==="EmptyError"}var Qc=Symbol("INITIAL_VALUE");function Ni(){return Be(e=>Fu(e.map(t=>t.pipe(ze(1),ju(Qc)))).pipe(P(t=>{for(let n of t)if(n!==!0){if(n===Qc)return Qc;if(n===!1||kT(n))return n}return!0}),Ze(t=>t!==Qc),ze(1)))}function kT(e){return Hn(e)||e instanceof xi}function w_(e){return e.aborted?H(void 0).pipe(ze(1)):new U(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function E_(e){return co(w_(e))}function PT(e){return qe(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=t;return o.length===0&&i.length===0?H(G(D({},t),{guardsResult:!0})):FT(o,n,r).pipe(qe(s=>s&&MT(s)?LT(n,i,e):H(s)),P(s=>G(D({},t),{guardsResult:s})))})}function FT(e,t,n){return Z(e).pipe(qe(r=>$T(r.component,r.route,n,t)),an(r=>r!==!0,!0))}function LT(e,t,n){return Z(t).pipe(ei(r=>Xr(VT(r.route.parent,n),jT(r.route,n),BT(e,r.path),UT(e,r.route))),an(r=>r!==!0,!0))}function jT(e,t){return e!==null&&t&&t(new hl(e)),H(!0)}function VT(e,t){return e!==null&&t&&t(new dl(e)),H(!0)}function UT(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return H(!0);let r=n.map(i=>oo(()=>{let o=t._environmentInjector,s=ki(i,o),a=RT(s)?s.canActivate(t,e):Ie(o,()=>s(t,e));return kr(a).pipe(an())}));return H(r).pipe(Ni())}function BT(e,t){let n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(o=>IT(o)).filter(o=>o!==null).map(o=>oo(()=>{let s=o.guards.map(a=>{let c=o.node._environmentInjector,l=ki(a,c),u=xT(l)?l.canActivateChild(n,e):Ie(c,()=>l(n,e));return kr(u).pipe(an())});return H(s).pipe(Ni())}));return H(i).pipe(Ni())}function $T(e,t,n,r){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=t._environmentInjector,c=ki(s,a),l=NT(c)?c.canDeactivate(e,t,n,r):Ie(a,()=>c(e,t,n,r));return kr(l).pipe(an())});return H(o).pipe(Ni())}function HT(e,t,n,r,i){let o=t.canLoad;if(o===void 0||o.length===0)return H(!0);let s=o.map(a=>{let c=ki(a,e),l=AT(c)?c.canLoad(t,n):Ie(e,()=>c(t,n)),u=kr(l);return i?u.pipe(E_(i)):u});return H(s).pipe(Ni(),D_(r))}function D_(e){return Nu(Bt(t=>{if(typeof t!="boolean")throw yl(e,t)}),P(t=>t===!0))}function qT(e,t,n,r,i){let o=t.canMatch;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let c=ki(a,e),l=OT(c)?c.canMatch(t,n):Ie(e,()=>c(t,n));return kr(l).pipe(E_(i))});return H(s).pipe(Ni(),D_(r))}var bn=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},ls=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function zT(e){throw new C(4e3,!1)}function GT(e){throw y_(!1,$e.GuardRejected)}var Ih=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[j])throw zT(`${t.redirectTo}`);i=i.children[j]}}async applyRedirectCommands(t,n,r,i,o){let s=await WT(n,i,o);if(s instanceof jt)throw new ls(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new ls(a);return a}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new jt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Q(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function WT(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d,paramMap:h,queryParamMap:f}=t;return nl(kr(Ie(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d,paramMap:h,queryParamMap:f}))))}function KT(e,t){return e.providers&&!e._injector&&(e._injector=Bo(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Lt(e){return e.outlet||j}function ZT(e,t){let n=e.filter(r=>Lt(r)===t);return n.push(...e.filter(r=>Lt(r)!==t)),n}var Sh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YT(e,t,n,r,i,o){let s=C_(e,t,n);return s.matched?(r=KT(t,r),qT(r,t,n,i,o).pipe(P(a=>a===!0?s:D({},Sh)))):H(s)}function C_(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?D({},Sh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Yy)(n,e,t);if(!i)return D({},Sh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Gy(e,t,n,r){return n.length>0&&XT(e,n,r)?{segmentGroup:new Q(t,QT(r,new Q(n,e.children))),slicedSegments:[]}:n.length===0&&eM(e,n,r)?{segmentGroup:new Q(e.segments,JT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Q(e.segments,e.children),slicedSegments:n}}function JT(e,t,n,r){let i={};for(let o of n)if(El(e,t,o)&&!r[Lt(o)]){let s=new Q([],{});i[Lt(o)]=s}return D(D({},r),i)}function QT(e,t){let n={};n[j]=t;for(let r of e)if(r.path===""&&Lt(r)!==j){let i=new Q([],{});n[Lt(r)]=i}return n}function XT(e,t,n){return n.some(r=>El(e,t,r)&&Lt(r)!==j)}function eM(e,t,n){return n.some(r=>El(e,t,r))}function El(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function tM(e,t,n){return t.length===0&&!e.children[n]}var Th=class{};async function nM(e,t,n,r,i,o,s="emptyOnly",a){return new Mh(e,t,n,r,i,s,o,a).recognize()}var rM=31,Mh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Ih(this.urlSerializer,this.urlTree)}noMatchError(t){return new C(4002,`'${t.segmentGroup}'`)}async recognize(){let t=Gy(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),i=new rt(r,n),o=new as("",i),s=a_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(t){let n=new Rr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,j,n),rootSnapshot:n}}catch(r){if(r instanceof ls)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bn?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,o);let s=await this.processSegment(t,n,r,r.segments,i,!0,o);return s instanceof rt?[s]:[]}async processChildren(t,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=ZT(n,c),d=await this.processSegmentGroup(t,u,l,c,i);s.push(...d)}let a=I_(s);return iM(a),a}async processSegment(t,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a)}catch(l){if(l instanceof bn||b_(l))continue;throw l}if(tM(r,i,o))return new Th;throw new bn(r)}async processSegmentAgainstRoute(t,n,r,i,o,s,a,c){if(Lt(r)!==s&&(s===j||!El(i,o,r)))throw new bn(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c);throw new bn(i)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=C_(n,i,o);if(!c)throw new bn(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rM&&(this.allowRedirects=!1));let f=new Rr(o,l,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Wy(i),Lt(i),i.component??i._loadedComponent??null,i,Ky(i),t),p=vl(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t),v=await this.applyRedirects.lineralizeSegments(i,g);return this.processSegment(t,r,n,v.concat(h),s,!1,a)}async matchSegmentAgainstRoute(t,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await nl(YT(n,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new bn(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:u,consumedSegments:d,remainingSegments:h}=a,f=new Rr(d,u,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Wy(r),Lt(r),r.component??r._loadedComponent??null,r,Ky(r),t),p=vl(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=Gy(n,d,h,c);if(v.length===0&&g.hasChildren()){let I=await this.processChildren(l,c,g,f);return new rt(f,I)}if(c.length===0&&v.length===0)return new rt(f,[]);let m=Lt(r)===o,R=await this.processSegment(l,c,g,v,m?j:o,!0,f);return new rt(f,R instanceof rt?[R]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await nl(HT(t,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw GT(n)}return{routes:[],injector:t}}};function iM(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}function oM(e){let t=e.value.routeConfig;return t&&t.path===""}function I_(e){let t=[],n=new Set;for(let r of e){if(!oM(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=I_(r.children);t.push(new rt(r.value,i))}return t.filter(r=>!n.has(r))}function Wy(e){return e.data||{}}function Ky(e){return e.resolve||{}}function sM(e,t,n,r,i,o,s){return qe(async a=>{let{state:c,tree:l}=await nM(e,t,n,r,a.extractedUrl,i,o,s);return G(D({},a),{targetSnapshot:c,urlAfterRedirects:l})})}function aM(e){return qe(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return H(t);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let c of S_(a))o.add(c);let s=0;return Z(o).pipe(ei(a=>i.has(a)?cM(a,n,e):(a.data=vl(a,a.parent,e).resolve,H(void 0))),Bt(()=>s++),Ca(1),qe(a=>s===o.size?H(t):Re))})}function S_(e){let t=e.children.map(n=>S_(n)).flat();return[e,...t]}function cM(e,t,n){let r=e.routeConfig,i=e._resolve;return r?.title!==void 0&&!g_(r)&&(i[us]=r.title),oo(()=>(e.data=vl(e,e.parent,n).resolve,lM(i,e,t).pipe(P(o=>(e._resolvedData=o,e.data=D(D({},e.data),o),null)))))}function lM(e,t,n){let r=mh(e);if(r.length===0)return H({});let i={};return Z(r).pipe(qe(o=>uM(e[o],t,n).pipe(an(),Bt(s=>{if(s instanceof xi)throw yl(new $n,s);i[o]=s}))),Ca(1),P(()=>i),so(o=>b_(o)?Re:Pu(o)))}function uM(e,t,n){let r=t._environmentInjector,i=ki(e,r),o=i.resolve?i.resolve(t,n):Ie(r,()=>i(t,n));return kr(o)}function Zy(e){return Be(t=>{let n=e(t);return n?Z(n).pipe(P(()=>t)):H(t)})}var Nh=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[us]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(T_),providedIn:"root"})}return e})(),T_=(()=>{class e extends Nh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(x(Uy))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pi=new S("",{factory:()=>({})}),ps=new S(""),M_=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Kf);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Qy(Ie(n,()=>r.loadComponent())),s=await x_(R_(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await A_(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function A_(e,t,n,r){let i=await Qy(Ie(n,()=>e.loadChildren())),o=await x_(R_(i)),s;o instanceof Nc||Array.isArray(o)?s=o:s=await t.compileModuleAsync(o),r&&r(e);let a,c,l=!1,u;return Array.isArray(s)?(c=s,l=!0):(a=s.create(n).injector,u=s,c=a.get(ps,[],{optional:!0,self:!0}).flat()),{routes:c.map(xh),injector:a,factory:u}}function dM(e){return e&&typeof e=="object"&&"default"in e}function R_(e){return dM(e)?e.default:e}async function x_(e){return e}var Dl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(fM),providedIn:"root"})}return e})(),fM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),N_=new S("");var hM=()=>{},O_=new S(""),k_=(()=>{class e{currentNavigation=Y(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Y(null);events=new se;transitionAbortWithErrorSubject=new se;configLoader=y(M_);environmentInjector=y(ae);destroyRef=y(ft);urlSerializer=y(ds);rootContexts=y(Oi);location=y(Ei);inputBindingEnabled=y(wl,{optional:!0})!==null;titleStrategy=y(Nh);options=y(Pi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Dl);createViewTransition=y(N_,{optional:!0});navigationErrorHandler=y(O_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ll(i)),r=i=>this.events.next(new ul(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;we(()=>{this.transitions?.next(G(D({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Ae(null),this.transitions.pipe(Ze(r=>r!==null),Be(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return H(r).pipe(Be(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$e.SupersededByNewNavigation),Re;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?G(D({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload")return this.events.next(new wn(a.id,this.urlSerializer.serialize(a.rawUrl),"",os.IgnoredSameUrlNavigation)),a.resolve(!1),Re;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return H(a).pipe(Be(d=>(this.events.next(new Nr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Re:Promise.resolve(d))),sM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Bt(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=d.urlAfterRedirects,f));let h=new Mi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=a,v=new Nr(d,this.urlSerializer.serialize(h),f,p);this.events.next(v);let m=h_(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=G(D({},a),{targetSnapshot:m,urlAfterRedirects:h,extras:G(D({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=h,R)),H(r)}else return this.events.next(new wn(a.id,this.urlSerializer.serialize(a.extractedUrl),"",os.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Re}),P(a=>{let c=new ol(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=G(D({},a),{guards:CT(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),PT(a=>this.events.next(a)),Be(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw yl(this.urlSerializer,a.guardsResult);let c=new sl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!s())return Re;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",$e.GuardRejected),Re;if(a.guards.canActivateChecks.length===0)return H(a);let l=new al(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return Re;let u=!1;return H(a).pipe(aM(this.paramsInheritanceStrategy),Bt({next:()=>{u=!0;let d=new cl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)},complete:()=>{u||this.cancelNavigationTransition(a,"",$e.NoDataFromResolver)}}))}),Zy(a=>{let c=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let h=u._environmentInjector;d.push(this.configLoader.loadComponent(h,u.routeConfig).then(f=>{u.component=f}))}for(let h of u.children)d.push(...c(h));return d},l=c(a.targetSnapshot.root);return l.length===0?H(a):Z(Promise.all(l).then(()=>a))}),Zy(()=>this.afterPreactivation()),Be(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?Z(l).pipe(P(()=>r)):H(r)}),ze(1),P(a=>{let c=bT(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=G(D({},a),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new Ai),s()&&(new Ch(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=hM,l)),this.lastSuccessfulNavigation.set(we(this.currentNavigation)),this.events.next(new tn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),co(w_(o.signal).pipe(Ze(()=>!i&&!r.targetRouterState),Bt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",$e.Aborted)}))),Bt({complete:()=>{i=!0}}),co(this.transitionAbortWithErrorSubject.pipe(Bt(a=>{throw a}))),ao(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",$e.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),so(a=>{if(i=!0,this.destroyed)return r.resolve(!1),Re;if(__(a))this.events.next(new mt(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),DT(a)?this.events.next(new Ri(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=Ie(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof xi){let{message:u,cancellationCode:d}=yl(this.urlSerializer,l);this.events.next(new mt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Ri(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Re}))}))}cancelNavigationTransition(n,r,i){let o=new mt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=we(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pM(e){return e!==ns}var P_=new S("");var F_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(gM),providedIn:"root"})}return e})(),bl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},gM=(()=>{class e extends bl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=gn(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Oh=(()=>{class e{urlSerializer=y(ds);options=y(Pi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Ei);urlHandlingStrategy=y(Dl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof jt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=h_(null,y(ae));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(mM),providedIn:"root"})}return e})(),mM=(()=>{class e extends Oh{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Nr?this.updateStateMemento():n instanceof wn?this.commitTransition(r):n instanceof Mi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ai?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof mt&&!f_(n)?this.restoreHistory(r):n instanceof Or?this.restoreHistory(r,!0):n instanceof tn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=D(D({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=D(D({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=gn(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kh(e,t){e.events.pipe(Ze(n=>n instanceof tn||n instanceof mt||n instanceof Or||n instanceof wn),P(n=>n instanceof tn||n instanceof wn?0:(n instanceof mt?n.code===$e.Redirect||n.code===$e.SupersededByNewNavigation:!1)?2:1),Ze(n=>n!==2),ze(1)).subscribe(()=>{t()})}var L_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},En=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Uf);stateManager=y(Oh);options=y(Pi,{optional:!0})||{};pendingTasks=y(hn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(k_);urlSerializer=y(ds);location=y(Ei);urlHandlingStrategy=y(Dl);injector=y(ae);_events=new se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(F_);injectorCleanup=y(P_,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(ps,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(wl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=we(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mt&&r.code!==$e.Redirect&&r.code!==$e.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tn)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Ri){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=D({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pM(i.source)},s);this.scheduleNavigation(a,ns,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ns,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=D({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(nt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return we(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(xh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=c_(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return l_(d,n,u,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Hn(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ns,null,r)}navigate(n,r={skipLocationChange:!1}){return vM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(un(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=D({},L_):r===!1?i=D({},j_):i=r,Hn(n))return By(this.currentUrlTree,n,i);let o=this.parseUrl(n);return By(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return kh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new C(4008,!1)}var nn=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Y(null);get href(){return we(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new se;applicationErrorHandler=y(nt);options=y(Pi,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(y(new jc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(n=>{n instanceof tn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Hn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Hn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(z(En),z(ot),Fo("tabindex"),z(vn),z(Jt),z(wi))};static \u0275dir=fe({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&he("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vi("href",i.reactiveHref(),If)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sr],replaceUrl:[2,"replaceUrl","replaceUrl",Sr],routerLink:"routerLink"},features:[pn]})}return e})();var bM=new S("");function Ph(e,...t){return Ct([{provide:ps,multi:!0,useValue:e},[],{provide:ot,useFactory:wM},{provide:Pc,multi:!0,useFactory:EM},t.map(n=>n.\u0275providers)])}function wM(){return y(En).routerState.root}function EM(){let e=y(Ye);return t=>{let n=e.get(Ot);if(t!==n.components[0])return;let r=e.get(En),i=e.get(DM);e.get(CM)===1&&r.initialNavigation(),e.get(IM,null,{optional:!0})?.setUpPreloading(),e.get(bM,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DM=new S("",{factory:()=>new se}),CM=new S("",{factory:()=>1});var IM=new S("");var Cl=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-home"]],decls:8,vars:0,consts:[[1,"welcome-container"],[1,"welcome-content"],["routerLink","/menu",1,"btn","btn-primary","btn-start"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"div",1)(2,"h1"),w(3,"INVENTARIO ADEX"),_(),b(4,"p"),w(5,"Sistema de Gesti\xF3n del \xC1rea de Soporte Inform\xE1tico"),_(),b(6,"button",2),w(7," Start "),_()()())},dependencies:[nn],styles:[".welcome-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#0055a4}.welcome-content[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:2rem}h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;opacity:.9}.btn-start[_ngcontent-%COMP%]{padding:1rem 3rem;font-size:1.5rem;background:#fff;color:#0055a4}.btn-start[_ngcontent-%COMP%]:hover{background:#004080;color:#fff}"]})};var Il=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-menu"]],decls:21,vars:0,consts:[[1,"menu-container"],[1,"header"],["routerLink","/",1,"btn","btn-secondary"],[1,"menu-options"],["routerLink","/equipos",1,"menu-card"],[1,"card-icon"],["routerLink","/ambientes",1,"menu-card"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"header",1)(2,"h1"),w(3,"Men\xFA Principal"),_(),b(4,"a",2),w(5,"Volver"),_()(),b(6,"div",3)(7,"a",4)(8,"div",5),w(9,"\u{1F5A5}\uFE0F"),_(),b(10,"h2"),w(11,"Equipos"),_(),b(12,"p"),w(13,"Ver y gestionar equipos"),_()(),b(14,"a",6)(15,"div",5),w(16,"\u{1F3E2}"),_(),b(17,"h2"),w(18,"Ambientes"),_(),b(19,"p"),w(20,"Ver y gestionar ambientes"),_()()()())},dependencies:[nn],styles:[".menu-container[_ngcontent-%COMP%]{padding:2rem;min-height:100vh;background:#f5f5f5}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0;color:#333}.menu-options[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}.menu-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;text-decoration:none;color:#333;transition:transform .2s,box-shadow .2s;min-width:250px}.menu-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.card-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#667eea}p[_ngcontent-%COMP%]{margin:0;color:#666}"]})};var V_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Fi=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},gs=class extends Fi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Li=class extends Fi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},ji=class extends Fi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Sl=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(Sl||{});var ms=class{constructor(t,{headers:n={},customFetch:r,region:i=Sl.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=V_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return aa(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(h["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(h["Content-Type"]="application/json",g=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?g=JSON.stringify(l):g=l;let v=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);let m=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:v}).catch(B=>{throw new gs(B)}),R=m.headers.get("x-relay-error");if(R&&R==="true")throw new Li(m);if(!m.ok)throw new ji(m);let I=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return I==="application/json"?E=yield m.json():I==="application/octet-stream"||I==="application/pdf"?E=yield m.blob():I==="text/event-stream"?E=m:I==="multipart/form-data"?E=yield m.formData():E=yield m.text(),{data:E,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof ji||a instanceof Li?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var $_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},SM=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var f;let m=await o.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=m:a=JSON.parse(m))}let g=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),v=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await o.text();try{s=JSON.parse(g),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&g===""?(l=204,u="No Content"):s={message:g}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&n.shouldThrowOnError)throw new $_(s)}return{error:s,data:a,count:c,status:l,statusText:u}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c="",l="",u=o?.cause;if(u){var d,h,f,p;let m=(d=u?.message)!==null&&d!==void 0?d:"",R=(h=u?.code)!==null&&h!==void 0?h:"";a=`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(p=u?.name)!==null&&p!==void 0?p:"Error"}: ${m}`,R&&(a+=` (${R})`),u?.stack&&(a+=`
${u.stack}`)}else{var g;a=(g=o?.stack)!==null&&g!==void 0?g:""}let v=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(l="",c="Request was aborted (timeout or manual cancellation)",v>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${v} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(u?.name==="HeadersOverflowError"||u?.code==="UND_ERR_HEADERS_OVERFLOW")&&(l="",c="HTTP headers exceeded server limits (typically 16KB)",v>this.urlLengthLimit&&(c+=`. Your request URL is ${v} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:c,code:l},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},TM=class extends SM{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},U_=new RegExp("[,()]"),Vi=class extends TM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&U_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&U_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},MM=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new Vi({method:i,url:a,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let i="POST",{url:o,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),n||s.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new Vi({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){let u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Vi({method:s,url:a,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Vi({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;let n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Vi({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function AM(e,t){if(vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RM(e){var t=AM(e,"string");return vs(t)=="symbol"?t:t+""}function xM(e,t,n){return(t=RM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(n),!0).forEach(function(r){xM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var H_=class q_{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=s;let a=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,l)=>{let u=new AbortController,d=setTimeout(()=>u.abort(),o),h=l?.signal;if(h){if(h.aborted)return clearTimeout(d),a(c,l);let f=()=>{clearTimeout(d),u.abort()};return h.addEventListener("abort",f,{once:!0}),a(c,Tl(Tl({},l),{},{signal:u.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",f)})}return a(c,Tl(Tl({},l),{},{signal:u.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new MM(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new q_(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l,u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=r&&Object.values(n).some(u);d?(a="POST",l=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(a="POST",l=n);let h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new Vi({method:a,url:c,headers:h,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};var Fh=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Lh=Fh;var z_="2.94.0";var G_=`realtime-js/${z_}`,W_="1.0.0",jh="2.0.0",Vh=jh;var ys=1e4,K_=1e3,Z_=100,qn=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(qn||{}),Ee=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Ee||{}),vt=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(vt||{}),Uh=(function(e){return e.websocket="websocket",e})(Uh||{}),Pr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Pr||{});var Ml=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,l.length),p.setUint8(g++,d.length),p.setUint8(g++,n),Array.from(c,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(a,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(s,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(l,m=>p.setUint8(g++,m.charCodeAt(0))),Array.from(d,m=>p.setUint8(g++,m.charCodeAt(0)));var v=new Uint8Array(f.byteLength+r.byteLength);return v.set(new Uint8Array(f),0),v.set(new Uint8Array(r),f.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+o));c=c+o;let d=r.decode(t.slice(c,c+s));c=c+s;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var Ui=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var re=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(re||{}),$h=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=NM(s,e,t,i),o),{}):{}},NM=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?Y_(o,s):Bh(s)},Y_=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return FM(t,n)}switch(e){case re.bool:return OM(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return kM(t);case re.json:case re.jsonb:return PM(t);case re.timestamp:return LM(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Bh(t);default:return Bh(t)}},Bh=e=>e,OM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kM=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},FM=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Y_(t,a))}return e},LM=e=>typeof e=="string"?e.replace(" ","T"):e,Al=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Bi=class{constructor(t,n,r={},i=ys){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var _s=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),p=u.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var bs=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(bs||{}),Dn=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(Dn||{});var ws=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bi(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Ui(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new _s(this),this.broadcastEndpointURL=Al(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[bs.PRESENCE]&&this.bindings[bs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Dn.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(Dn.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,m=[];for(let R=0;R<v;R++){let I=g[R],{filter:{event:E,schema:B,table:Ve,filter:W}}=I,ie=f&&f[R];if(ie&&ie.event===E&&e.isFilterValueEqual(ie.schema,B)&&e.isFilterValueEqual(ie.table,Ve)&&e.isFilterValueEqual(ie.filter,W))m.push(Object.assign(Object.assign({},I),{id:ie.id}));else{this.unsubscribe(),this.state=Ee.errored,t?.(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Dn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ee.errored,t?.(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ee.joined&&t===bs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;let l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Bi(this,vt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bi(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Z_){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=vt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,v;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,g,v,m,R,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,B=(p=f.filter)===null||p===void 0?void 0:p.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(B==="*"||B?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let E=(R=(m=f?.filter)===null||m===void 0?void 0:m.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return E==="*"||E===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:v,commit_timestamp:m,type:R,errors:I}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:m,eventType:R,new:{},old:{},errors:I}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$h(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$h(t.columns,t.old_record)),n}};var Hh=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VM=[1e3,2e3,5e3,1e4],UM=1e4,BM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Es=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ys,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hh,this.ref=0,this.reconnectTimer=null,this.vsn=Vh,this.logger=Hh,this.conn=null,this.sendBuffer=[],this.serializer=new Ml,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Uh.websocket}`,this.httpEndpoint=Al(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Lh.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return Pr.Connecting;case qn.open:return Pr.Open;case qn.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new ws(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(K_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qn.open||this.conn.readyState===qn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([BM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:G_};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(vt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ui(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,c,l,u,d,h,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ys,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Rl.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:Hh,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Vh,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:p=>VM[p-1]||UM,this.vsn){case W_:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case jh:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Ds=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $M(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function HM(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function qM(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){let a=$M(e.baseUrl,r,i),c=await HM(e.auth),l=await t(a,{method:n,headers:D(D(D({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!l.ok){let f=d?h:void 0,p=f?.error;throw new Ds(p?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:l.status,headers:l.headers,data:h}}}}function xl(e){return e.join("")}var zM=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:xl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xl(e.namespace)}`}),!0}catch(t){if(t instanceof Ds&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ds&&n.status===409)return;throw n}}};function $i(e){return e.join("")}var GM=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$i(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ds&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ds&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},J_=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=qM({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new zM(this.client,t),this.tableOps=new GM(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var Ol=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function kl(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Nl=class extends Ol{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tb=class extends Ol{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};var WM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),KM=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qh=e=>{if(Array.isArray(e))return e.map(n=>qh(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=qh(r)}),t},ZM=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function YM(e,t){if(Is(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JM(e){var t=YM(e,"string");return Is(t)=="symbol"?t:t+""}function QM(e,t,n){return(t=JM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(n),!0).forEach(function(r){QM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var X_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},XM=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";t(new Nl(X_(s),o,a,r))}).catch(()=>{if(r==="vectors"){let s=o+"";t(new Nl(i.statusText||`HTTP ${o} error`,o,s,r))}else{let s=o+"";t(new Nl(i.statusText||`HTTP ${o} error`,o,s,r))}});else{let s=o+"";t(new Nl(i.statusText||`HTTP ${o} error`,o,s,r))}}else t(new tb(X_(e),e,r))},eA=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?k(k({},i),n):(KM(r)?(i.headers=k({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),k(k({},i),n))};async function Cs(e,t,n,r,i,o,s){return new Promise((a,c)=>{e(n,eA(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;if(s==="vectors"){let u=l.headers.get("content-type");if(l.headers.get("content-length")==="0"||l.status===204)return{};if(!u||!u.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>XM(l,c,r,s))})}function nb(e="storage"){return{get:async(t,n,r,i)=>Cs(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>Cs(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>Cs(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>Cs(t,"HEAD",n,k(k({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>Cs(t,"DELETE",n,i,o,r,e)}}var tA=nb("storage"),{get:Ss,post:Vt,put:zh,head:nA,remove:Gh}=tA,st=nb("vectors"),Hi=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=WM(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(kl(n))return{data:null,error:n};throw n}}},rA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kl(t))return{data:null,error:t};throw t}}},rb;rb=Symbol.toStringTag;var iA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rb]="BlobDownloadBuilder",this.promise=null}asStream(){return new rA(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kl(t))return{data:null,error:t};throw t}}},oA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},sA=class extends Hi{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o,s=k(k({},eb),r),a=k(k({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=k(k({},a),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=await(e=="PUT"?zh:Vt)(i.fetch,`${i.url}/object/${u}`,o,k({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",t),i.handleOperation(async()=>{let c,l=k({upsert:eb.upsert},r),u=k(k({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{path:o,fullPath:(await zh(i.fetch,a.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),i=k({},n.headers);t?.upsert&&(i["x-upsert"]="true");let o=await Vt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ol("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Vt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Vt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Vt(r.fetch,`${r.url}/object/sign/${i}`,k({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{let i=await Vt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(s=>k(k({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>Ss(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new iA(s,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);return t.handleOperation(async()=>qh(await Ss(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await nA(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kl(r)&&r instanceof tb){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let o=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Gh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{let i=k(k(k({},oA),t),{},{prefix:e||""});return await Vt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{let r=k({},e);return await Vt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},aA="2.94.0",Ts={"X-Client-Info":`storage-js/${aA}`},cA=class extends Hi{constructor(e,t={},n,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));let o=i.href.replace(/\/$/,""),s=k(k({},Ts),t);super(o,s,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=t.listBucketOptionsToQueryString(e);return await Ss(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ss(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Vt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await zh(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Vt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Gh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},lA=class extends Hi{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=k(k({},Ts),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Vt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ss(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Gh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!ZM(e))throw new Ol("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new J_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},uA=class extends Hi{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=k(k({},Ts),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await st.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await st.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},dA=class extends Hi{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=k(k({},Ts),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},fA=class extends Hi{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=k(k({},Ts),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},hA=class extends fA{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new pA(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},pA=class extends uA{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,k(k({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,k(k({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new gA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},gA=class extends dA{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,k(k({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,k(k({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,k(k({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,k(k({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,k(k({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},ib=class extends cA{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new sA(this.url,this.headers,e,this.fetch)}get vectors(){return new hA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lA(this.url+"/iceberg",this.headers,this.fetch)}};var Pl="2.94.0";var Fr=30*1e3,Fl=3,Ll=Fl*Fr,ob="http://localhost:9999",sb="supabase.auth.token";var ab={"X-Client-Info":`gotrue-js/${Pl}`};var Ms="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lb=600*1e3;var zn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var jl=class extends zn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function ub(e){return A(e)&&e.name==="AuthApiError"}var yt=class extends zn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Ut=class extends zn{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},je=class extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ul(e){return A(e)&&e.name==="AuthSessionMissingError"}var Cn=class extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Lr=class extends Ut{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},jr=class extends Ut{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function db(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}var As=class extends Ut{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Vl=class extends Ut{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var qi=class extends Ut{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Bl(e){return A(e)&&e.name==="AuthRetryableFetchError"}var Rs=class extends Ut{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Vr=class extends Ut{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fb=` 	
\r=`.split(""),mA=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fb.length;t+=1)e[fb[t].charCodeAt(0)]=-2;for(let t=0;t<$l.length;t+=1)e[$l[t].charCodeAt(0)]=t;return e})();function hb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n($l[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n($l[r]),t.queuedBits-=6}}function pb(e,t,n){let r=mA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kh(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{_A(s,r,n)};for(let s=0;s<e.length;s+=1)pb(e.charCodeAt(s),i,o);return t.join("")}function vA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vA(r,t)}}function _A(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Gn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)pb(e.charCodeAt(i),n,r);return new Uint8Array(t)}function gb(e){let t=[];return yA(e,n=>t.push(n)),new Uint8Array(t)}function In(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>hb(i,n,r)),hb(null,n,r),t.join("")}function mb(e){return Math.round(Date.now()/1e3)+e}function vb(){return Symbol("auth-callback")}var De=()=>typeof window<"u"&&typeof document<"u",Ur={tested:!1,writable:!1},Hl=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function yb(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var ql=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_b=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Br=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Wn=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Te=async(e,t)=>{await e.removeItem(t)},xs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};xs.promiseConstructor=Promise;function Ns(e){let t=e.split(".");if(t.length!==3)throw new Vr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!cb.test(t[r]))throw new Vr("JWT not in base64url format");return{header:JSON.parse(Kh(t[0])),payload:JSON.parse(Kh(t[1])),signature:Gn(t[2]),raw:{header:t[0],payload:t[1]}}}async function bb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wb(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function bA(e){return("0"+e.toString(16)).substr(-2)}function wA(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,bA).join("")}async function EA(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function DA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await EA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(e,t,n=!1){let r=wA(),i=r;n&&(i+="/PASSWORD_RECOVERY"),await Br(e,`${t}-code-verifier`,i);let o=await DA(r);return[o,r===o?"plain":"s256"]}var CA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Eb(e){let t=e.headers.get(Ms);if(!t||!t.match(CA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Db(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Cb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var IA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hr(e){if(!IA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zl(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ib(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Zh(e){return JSON.parse(JSON.stringify(e))}var qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SA=[502,503,504];async function Sb(e){var t;if(!_b(e))throw new qi(qr(e),0);if(SA.includes(e.status))throw new qi(qr(e),e.status);let n;try{n=await e.json()}catch(o){throw new yt(qr(o),o)}let r,i=Eb(e);if(i&&i.getTime()>=Wh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Rs(qr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new je}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Rs(qr(n),e.status,n.weak_password.reasons);throw new jl(qr(n),e.status||500,r)}var TA=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function N(e,t,n,r){var i;let o=Object.assign({},r?.headers);o[Ms]||(o[Ms]=Wh["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await MA(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function MA(e,t,n,r,i,o){let s=TA(t,r,i,o),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new qi(qr(c),0)}if(a.ok||await Sb(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await Sb(c)}}function _t(e){var t;let n=null;AA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=mb(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Yh(e){let t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Tb(e){return{data:e,error:null}}function Mb(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=er(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Jh(e){return e}function AA(e){return e.access_token&&e.refresh_token&&e.expires_in}var Gl=["global","local","others"];var zi=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ql(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Gl[0]){if(Gl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gl.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:rn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=er(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Mb,redirectTo:n?.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rn})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Jh});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){Hr(t);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rn})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Hr(t);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:rn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Hr(t);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:rn})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Hr(t.userId);try{let{data:n,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Hr(t.userId),Hr(t.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await N(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Jh});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await N(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await N(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await N(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await N(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}};function Qh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var zr={debug:!!(globalThis&&Hl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Os=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Wl=class extends Os{};async function Xh(e,t,n){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wl(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zr.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ab(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ep(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Rb(e){return parseInt(e,16)}function xb(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Nb(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=ep(e.address),p=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,m=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),c&&(m+=`
Request ID: ${c}`),l){let R=`
Resources:`;for(let I of l){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);R+=`
- ${I}`}m+=R}return`${v}
${m}`}var le=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},Gr=class extends le{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function Ob({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(tp(s)){if(o.rp.id!==s)return new le({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function kb({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(tp(r)){if(n.rpId!==r)return new le({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var np=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},RA=new np;function Fb(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=er(e,["challenge","user","excludeCredentials"]),o=Gn(t).buffer,s=Object.assign(Object.assign({},n),{id:Gn(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Gn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Lb(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=er(e,["challenge","allowCredentials"]),i=Gn(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Gn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function jb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:In(new Uint8Array(e.response.attestationObject)),clientDataJSON:In(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:In(new Uint8Array(i.authenticatorData)),clientDataJSON:In(new Uint8Array(i.clientDataJSON)),signature:In(new Uint8Array(i.signature)),userHandle:i.userHandle?In(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Pb(){var e,t;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xA(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gr("Browser returned unexpected credential type",t)}:{data:null,error:new Gr("Empty credential response",t)}}catch(t){return{data:null,error:Ob({error:t,options:e})}}}async function NA(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gr("Browser returned unexpected credential type",t)}:{data:null,error:new Gr("Empty credential response",t)}}catch(t){return{data:null,error:kb({error:t,options:e})}}}var OA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kl(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=Kl(a,s):r[o]=Kl(s)}else r[o]=s}return r}function PA(e,t){return Kl(OA,e,t||{})}function FA(e,t){return Kl(kA,e,t||{})}var Zl=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var s;try{let{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};let l=i??RA.createNewAbortSignal();if(a.webauthn.type==="create"){let{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){let d=r;if(d)u.name=`${u.id}:${d}`;else{let f=(await this.client.getUser()).data.user,p=((s=f?.user_metadata)===null||s===void 0?void 0:s.name)||f?.email||f?.id||"User";u.name=`${u.id}:${p}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{let u=PA(a.webauthn.credential_options.publicKey,o?.create),{data:d,error:h}=await xA({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{let u=FA(a.webauthn.credential_options.publicKey,o?.request),{data:d,error:h}=await NA(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new yt("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new zn("rpId is required for WebAuthn authentication")};try{if(!Pb())return{data:null,error:new yt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return A(s)?{data:null,error:s}:{data:null,error:new yt("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new zn("rpId is required for WebAuthn registration")};try{if(!Pb())return{data:null,error:new yt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return A(s)?{data:null,error:s}:{data:null,error:new yt("Unexpected error in register",s)}}}};Ab();var LA={url:ob,storageKey:sb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ab,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ub(e,t,n){return await n()}var Gi={},jA=(()=>{class e{get jwks(){var n,r;return(r=(n=Gi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Gi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},LA),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&De()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zi({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ql(s.fetch),this.lock=s.lock||Ub,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&De()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Xh:this.lock=Ub,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Hl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qh(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Pl}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(De()&&(r=yb(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),De()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),db(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new yt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{let s=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:_t}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,i,o;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;this.flowType==="pkce"&&([p,g]=await $r(this.storage,this.storageKey)),s=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:_t})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_t})}else throw new Lr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await Te(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Yh})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Yh})}else throw new Lr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Cn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,s,a,c,l,u,d,h,f;let p,g;if("message"in n)p=n.message,g=n.signature;else{let{chain:v,wallet:m,statement:R,options:I}=n,E;if(De())if(typeof m=="object")E=m;else{let on=window;if("ethereum"in on&&typeof on.ethereum=="object"&&"request"in on.ethereum&&typeof on.ethereum.request=="function")E=on.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=m}let B=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),Ve=await E.request({method:"eth_requestAccounts"}).then(on=>on).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ve||Ve.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let W=ep(Ve[0]),ie=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ie){let on=await E.request({method:"eth_chainId"});ie=Rb(on)}let Dw={domain:B.host,address:W,statement:R,uri:B.href,version:"1",chainId:ie,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=I?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Nb(Dw),g=await E.request({method:"personal_sign",params:[xb(p),W]})}try{let{data:v,error:m}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_t});if(m)throw m;if(!v||!v.session||!v.user){let R=new Cn;return this._returnResult({data:{user:null,session:null},error:R})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:m})}catch(v){if(A(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(n){var r,i,o,s,a,c,l,u,d,h,f,p;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:m,wallet:R,statement:I,options:E}=n,B;if(De())if(typeof R=="object")B=R;else{let W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))B=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=R}let Ve=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){let W=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:Ve.host,uri:Ve.href}),I?{statement:I}:null)),ie;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")ie=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)ie=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)g=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),v=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${Ve.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${Ve.href}`,`Issued At: ${(o=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);let W=await B.signMessage(new TextEncoder().encode(g),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=W}}try{let{data:m,error:R}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:In(v)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_t});if(R)throw R;if(!m||!m.session||!m.user){let I=new Cn;return this._returnResult({data:{user:null,session:null},error:I})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:R})}catch(m){if(A(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(n){let r=await Wn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Vl;let{data:s,error:a}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:_t});if(await Te(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Cn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:_t}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new Cn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=await $r(this.storage,this.storageKey));let{error:h}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Lr("You must provide either an email or phone number.")}catch(c){if(await Te(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:_t});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await $r(this.storage,this.storageKey));let u=await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Tb});return!((s=u.data)===null||s===void 0)&&s.url&&De()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await Te(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new je;let{error:o}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=await N(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=await N(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Lr("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<Ll:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=await Wn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=zl()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=Ib(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:rn}):await this._useSession(async r=>{var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new je}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:rn})})}catch(r){if(A(r))return Ul(r)&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new je;let a=o.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=await $r(this.storage,this.storageKey));let{data:u,error:d}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:rn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await Te(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new je;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Ns(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(n.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new je;let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!De())throw new jr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new jr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new As("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new As("No code detected.");let{data:I,error:E}=await this._exchangeCodeForSession(n.code);if(E)throw E;let B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new jr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let p=f-d;p*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:v,error:m}=await this._getUser(s);if(m)throw m;let R={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:n.type},error:null})}catch(i){if(A(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s&&!Ul(s))return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(ub(c)&&(c.status===404||c.status===401||c.status===403)||Ul(c)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await Te(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=vb(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await $r(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Te(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return De()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(A(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,h=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_t}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Cn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(o){if(await Te(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await wb(async o=>(o>0&&await bb(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:_t})),(o,s)=>{let a=200*Math.pow(2,o);return s&&Bl(s)&&Date.now()+a-i<Fr})}catch(i){if(this._debug(r,"error",i),A(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),De()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await Wn(this.storage,this.storageKey);if(o&&this.userStorage){let a=await Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await Br(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:zl()}else if(o&&!o.user&&!o.user){let a=await Wn(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await Te(this.storage,this.storageKey+"-user"),await Br(this.storage,this.storageKey,o)):o.user=zl()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ll;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Ll}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),Bl(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new xs;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new je;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),A(s)){let a={data:null,error:s};return Bl(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Te(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Br(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=Zh(o);await Br(this.storage,this.storageKey,s)}else{let o=Zh(r);await Br(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Te(this.storage,this.storageKey),await Te(this.storage,this.storageKey+"-code-verifier"),await Te(this.storage,this.storageKey+"-user"),this.userStorage&&await Te(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&De()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Fr}ms, refresh threshold is ${Fl} ticks`),o<=Fl&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Os)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await $r(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await N(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?jb(n.webauthn.credential_response):Vb(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=await N(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await N(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Fb(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Lb(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,i,o,s;if(n)try{let{payload:p}=Ns(n),g=null;p.aal&&(g=p.aal);let v=g,{data:{user:m},error:R}=await this.getUser(n);if(R)return this._returnResult({data:null,error:R});((i=(r=m?.factors)===null||r===void 0?void 0:r.filter(B=>B.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(v="aal2");let E=p.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:E},error:null}}catch(p){if(A(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:l}=Ns(a.access_token),u=null;l.aal&&(u=l.aal);let d=u;((s=(o=a.user.factors)===null||o===void 0?void 0:o.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await N(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new je})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new je});let a=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new je});let a=await N(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&De()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await N(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new je})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await N(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new je})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+lb>o)return i;let{data:s,error:a}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(c=>c.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:c,payload:l}}=Ns(i);r?.allowExpired||Db(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=Cb(o.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,gb(`${c}.${l}`)))throw new Vr("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),rp=jA;var VA=rp,ip=VA;var UA="2.94.0",ks="";typeof Deno<"u"?ks="deno":typeof document<"u"?ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ks="react-native":ks="node";var BA={"X-Client-Info":`supabase-js-${ks}/${UA}`},$A={headers:BA},HA={schema:"public"},qA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zA={};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function GA(e,t){if(Ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WA(e){var t=GA(e,"string");return Ps(t)=="symbol"?t:t+""}function KA(e,t,n){return(t=WA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(n),!0).forEach(function(r){KA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ZA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YA=()=>Headers,JA=(e,t,n)=>{let r=ZA(n),i=YA();return async(o,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,pe(pe({},s),{},{headers:l}))}};function QA(e){return e.endsWith("/")?e:e+"/"}function XA(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,h={db:pe(pe({},c),i),auth:pe(pe({},l),o),realtime:pe(pe({},u),s),storage:{},global:pe(pe(pe({},d),a),{},{headers:pe(pe({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function eR(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tR=class extends ip{constructor(e){super(e)}},nR=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;let o=eR(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:HA,realtime:zA,auth:pe(pe({},qA),{},{storageKey:s}),global:$A},c=XA(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=JA(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new H_(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new ib(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ms(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tR({url:this.authUrl.href,headers:pe(pe({},h),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Es(this.realtimeUrl.href,pe(pe({},e),{},{params:pe(pe({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},$b=(e,t,n)=>new nR(e,t,n);function rR(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}rR()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var iR="https://uzkxigqcipcempyyayww.supabase.co",oR="sb_publishable_fsrePnC0uaE5kO5Ji7q_mg_CBnUkRhf",bt=$b(iR,oR);var Wi=class e{tableName="equipo";getAll(){return Z(bt.from(this.tableName).select("*").order("id",{ascending:!0})).pipe(P(t=>{if(t.error)throw new Error(t.error.message);return t.data}))}getById(t){return Z(bt.from(this.tableName).select("*").eq("id",t).single()).pipe(P(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}create(t){return Z(bt.from(this.tableName).insert([t]).select().single()).pipe(P(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}update(t,n){return Z(bt.from(this.tableName).update(n).eq("id",t).select().single()).pipe(P(r=>{if(r.error)throw new Error(r.error.message);return r.data}))}delete(t){return Z(bt.from(this.tableName).delete().eq("id",t)).pipe(P(n=>{if(n.error)throw new Error(n.error.message)}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var op=e=>["/equipos",e],Hb=(e,t)=>t.id;function sR(e,t){e&1&&(b(0,"div",4),w(1,"Cargando equipos..."),_())}function aR(e,t){if(e&1&&(b(0,"div",5),w(1),_()),e&2){let n=J();M(),ce(n.error())}}function cR(e,t){if(e&1){let n=kt();b(0,"tr")(1,"td"),w(2),_(),b(3,"td"),w(4),_(),b(5,"td"),w(6),_(),b(7,"td"),w(8),_(),b(9,"td"),w(10),_(),b(11,"td"),w(12),_(),b(13,"td",11)(14,"a",12),w(15," Editar "),_(),b(16,"button",13),he("click",function(){let i=ue(n).$implicit,o=J(2);return de(o.deleteEquipo(i.id))}),w(17," Eliminar "),_()()()}if(e&2){let n=t.$implicit;M(2),ce(n.id),M(2),ce(n.nombre),M(2),ce(n.marca),M(2),ce(n.modelo),M(2),ce(n.estado),M(2),ce(n.ambientecodigo||"Sin asignar"),M(2),pt("routerLink",jn(7,op,n.id))}}function lR(e,t){e&1&&(b(0,"tr")(1,"td",14),w(2,"No hay equipos"),_()())}function uR(e,t){if(e&1&&(b(0,"p",22),w(1),_()),e&2){let n=J().$implicit;M(),Qe(" \u{1F4CD} ",n.ambientecodigo," ")}}function dR(e,t){if(e&1){let n=kt();b(0,"div",9)(1,"div",15)(2,"span",16),w(3),_(),b(4,"span",17),w(5),_()(),b(6,"div",18)(7,"h3"),w(8),_(),b(9,"p",19),w(10),_(),Oc(11,uR,2,1,"p",20),_(),b(12,"div",21)(13,"a",12),w(14," Editar "),_(),b(15,"button",13),he("click",function(){let i=ue(n).$implicit,o=J(2);return de(o.deleteEquipo(i.id))}),w(16," Eliminar "),_()()()}if(e&2){let n=t.$implicit;M(3),Qe("#",n.id),M(),Wf(n.estado==null?null:n.estado.toLowerCase()),M(),ce(n.estado),M(),pt("routerLink",jn(10,op,n.id)),M(2),ce(n.nombre),M(2),_i("",n.marca," - ",n.modelo),M(),pt("ngIf",n.ambientecodigo),M(2),pt("routerLink",jn(12,op,n.id))}}function fR(e,t){e&1&&(b(0,"div",10),w(1,"No hay equipos registrados"),_())}function hR(e,t){if(e&1&&(b(0,"div",6)(1,"table",7)(2,"thead")(3,"tr")(4,"th"),w(5,"ID"),_(),b(6,"th"),w(7,"Nombre"),_(),b(8,"th"),w(9,"Marca"),_(),b(10,"th"),w(11,"Modelo"),_(),b(12,"th"),w(13,"Estado"),_(),b(14,"th"),w(15,"Ambiente"),_(),b(16,"th"),w(17,"Acciones"),_()()(),b(18,"tbody"),yn(19,cR,18,9,"tr",null,Hb,!1,lR,3,0,"tr"),_()()(),b(22,"div",8),yn(23,dR,17,14,"div",9,Hb,!1,fR,2,0,"div",10),_()),e&2){let n=J();M(19),_n(n.equipos()),M(4),_n(n.equipos())}}var Yl=class e{equipoService=y(Wi);equipos=Y([]);loading=Y(!0);error=Y(null);ngOnInit(){this.loadEquipos()}loadEquipos(){this.loading.set(!0),this.error.set(null),this.equipoService.getAll().subscribe({next:t=>{this.equipos.set(t),this.loading.set(!1)},error:t=>{this.error.set("Error al cargar equipos"),this.loading.set(!1),console.error(t)}})}deleteEquipo(t){confirm("\xBFEst\xE1s seguro de eliminar este equipo?")&&this.equipoService.delete(t).subscribe({next:()=>{this.loadEquipos()},error:n=>{this.error.set("Error al eliminar equipo"),console.error(n)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-inventario-list"]],decls:12,vars:3,consts:[[1,"container"],[1,"header"],["routerLink","/menu",1,"btn","btn-secondary","btn-sm"],["routerLink","/equipos/nuevo",1,"btn","btn-primary"],[1,"loading"],[1,"error"],[1,"table-container","desktop-only"],[1,"table"],[1,"cards-container","mobile-only"],[1,"card"],[1,"empty-card"],[1,"actions"],[1,"btn","btn-sm","btn-edit",3,"routerLink"],[1,"btn","btn-sm","btn-delete",3,"click"],["colspan","7",1,"empty"],[1,"card-header"],[1,"card-id"],[1,"card-estado"],[1,"card-body",3,"routerLink"],[1,"card-marca"],["class","card-ambiente",4,"ngIf"],[1,"card-actions"],[1,"card-ambiente"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"header",1)(2,"div")(3,"a",2),w(4,"\u2190 Volver"),_(),b(5,"h1"),w(6,"Equipos"),_()(),b(7,"a",3),w(8," + Agregar "),_()(),Fe(9,sR,2,0,"div",4),Fe(10,aR,2,1,"div",5),Fe(11,hR,26,2),_()),n&2&&(M(9),Le(r.loading()?9:-1),M(),Le(r.error()?10:-1),M(),Le(!r.loading()&&!r.error()?11:-1))},dependencies:[Xt,Jf,nn],styles:[".table-container[_ngcontent-%COMP%]{display:block}.desktop-only[_ngcontent-%COMP%]{display:table}.mobile-only[_ngcontent-%COMP%]{display:none}.cards-container[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.card-id[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.card-estado[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem;border-radius:20px;background:#fff3}.card-estado.nuevo[_ngcontent-%COMP%]{background:#28a745}.card-estado.usado[_ngcontent-%COMP%]{background:#0055a4}.card-estado.desgastado[_ngcontent-%COMP%]{background:#fd7e14;color:#333}.card-estado.obsoleto[_ngcontent-%COMP%]{background:#dc3545}.card-body[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;transition:background-color .2s}.card-body[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;color:#1a1a2e}.card-marca[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#666;font-size:.875rem}.card-ambiente[_ngcontent-%COMP%]{margin:0;color:#0055a4;font-size:.875rem;font-weight:500}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #eee}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.empty-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#999;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}@media(max-width:1000px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:flex!important}.cards-container[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}"]})};var Xb=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(z(vn),z(Jt))};static \u0275dir=fe({type:e})}return e})(),cp=(()=>{class e extends Xb{static \u0275fac=(()=>{let n;return function(i){return(n||(n=gn(e)))(i||e)}})();static \u0275dir=fe({type:e,features:[ht]})}return e})(),ou=new S("");var pR={provide:ou,useExisting:Dt(()=>Ji),multi:!0};function gR(){let e=gt()?gt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var mR=new S(""),Ji=(()=>{class e extends Xb{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!gR())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(z(vn),z(Jt),z(mR,8))};static \u0275dir=fe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&he("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ln([pR]),ht]})}return e})();function vR(e){return e==null||yR(e)===0}function yR(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var lp=new S(""),ew=new S("");function _R(e){return vR(e.value)?{required:!0}:null}function qb(e){return null}function tw(e){return e!=null}function nw(e){return Fn(e)?Z(e):e}function rw(e){let t={};return e.forEach(n=>{t=n!=null?D(D({},t),n):t}),Object.keys(t).length===0?null:t}function iw(e,t){return t.map(n=>n(e))}function bR(e){return!e.validate}function ow(e){return e.map(t=>bR(t)?t:n=>t.validate(n))}function wR(e){if(!e)return null;let t=e.filter(tw);return t.length==0?null:function(n){return rw(iw(n,t))}}function up(e){return e!=null?wR(ow(e)):null}function ER(e){if(!e)return null;let t=e.filter(tw);return t.length==0?null:function(n){let r=iw(n,t).map(nw);return Lu(r).pipe(P(rw))}}function dp(e){return e!=null?ER(ow(e)):null}function zb(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function DR(e){return e._rawValidators}function CR(e){return e._rawAsyncValidators}function sp(e){return e?Array.isArray(e)?e:[e]:[]}function Ql(e,t){return Array.isArray(e)?e.includes(t):e===t}function Gb(e,t){let n=sp(t);return sp(e).forEach(i=>{Ql(n,i)||n.push(i)}),n}function Wb(e,t){return sp(t).filter(n=>!Ql(e,n))}var Xl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=up(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Yi=class extends Xl{name;get formDirective(){return null}get path(){return null}},Bs=class extends Xl{_parent=null;name=null;valueAccessor=null},eu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var su=(()=>{class e extends eu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(z(Bs,2))};static \u0275dir=fe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ho("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ht]})}return e})(),au=(()=>{class e extends eu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(z(Yi,10))};static \u0275dir=fe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ho("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ht]})}return e})();var Fs="VALID",Jl="INVALID",Ki="PENDING",Ls="DISABLED",Kn=class{},tu=class extends Kn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Vs=class extends Kn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Us=class extends Kn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Zi=class extends Kn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},ap=class extends Kn{source;constructor(t){super(),this.source=t}},nu=class extends Kn{source;constructor(t){super(),this.source=t}};function sw(e){return(cu(e)?e.validators:e)||null}function IR(e){return Array.isArray(e)?up(e):e||null}function aw(e,t){return(cu(t)?t.asyncValidators:e)||null}function SR(e){return Array.isArray(e)?dp(e):e||null}function cu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function TR(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function MR(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var ru=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return we(this.statusReactive)}set status(t){we(()=>this.statusReactive.set(t))}_status=Dr(()=>this.statusReactive());statusReactive=Y(void 0);get valid(){return this.status===Fs}get invalid(){return this.status===Jl}get pending(){return this.status==Ki}get disabled(){return this.status===Ls}get enabled(){return this.status!==Ls}errors;get pristine(){return we(this.pristineReactive)}set pristine(t){we(()=>this.pristineReactive.set(t))}_pristine=Dr(()=>this.pristineReactive());pristineReactive=Y(!0);get dirty(){return!this.pristine}get touched(){return we(this.touchedReactive)}set touched(t){we(()=>this.touchedReactive.set(t))}_touched=Dr(()=>this.touchedReactive());touchedReactive=Y(!1);get untouched(){return!this.touched}_events=new se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Gb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Gb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Wb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Wb(t,this._rawAsyncValidators))}hasValidator(t){return Ql(this._rawValidators,t)}hasAsyncValidator(t){return Ql(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(G(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Us(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Us(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(G(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Vs(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Vs(!0,r))}markAsPending(t={}){this.status=Ki;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(G(D({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ls,this.errors=null,this._forEachChild(i=>{i.disable(G(D({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new tu(this.value,r)),this._events.next(new Zi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Fs,this._forEachChild(r=>{r.enable(G(D({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(G(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fs||this.status===Ki)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new tu(this.value,n)),this._events.next(new Zi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(G(D({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ls:Fs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Ki,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=nw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Zi(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?Ls:this.errors?Jl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ki)?Ki:this._anyControlsHaveStatus(Jl)?Jl:Fs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Vs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Us(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=IR(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=SR(this._rawAsyncValidators)}},iu=class extends ru{constructor(t,n,r){super(sw(n),aw(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){MR(this,!0,t),Object.keys(t).forEach(r=>{TR(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,G(D({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new nu(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var fp=new S("",{factory:()=>hp}),hp="always";function AR(e,t){return[...t.path,e]}function cw(e,t,n=hp){lw(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),xR(e,t),OR(e,t),NR(e,t),RR(e,t)}function Kb(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function RR(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function lw(e,t){let n=DR(e);t.validator!==null?e.setValidators(zb(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=CR(e);t.asyncValidator!==null?e.setAsyncValidators(zb(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Kb(t._rawValidators,i),Kb(t._rawAsyncValidators,i)}function xR(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&uw(e,t)})}function NR(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&uw(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function uw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function OR(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function kR(e,t){e==null,lw(e,t)}function PR(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function FR(e){return Object.getPrototypeOf(e.constructor)===cp}function LR(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jR(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Ji?n=o:FR(o)?r=o:i=o}),i||r||n||null}var VR={provide:Yi,useExisting:Dt(()=>$s)},js=Promise.resolve(),$s=(()=>{class e extends Yi{callSetDisabledState;get submitted(){return we(this.submittedReactive)}_submitted=Dr(()=>this.submittedReactive());submittedReactive=Y(!1);_directives=new Set;form;ngSubmit=new _e;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new iu({},up(n),dp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){js.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),cw(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){js.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){js.then(()=>{let r=this._findContainer(n.path),i=new iu({});kR(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){js.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){js.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),LR(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new ap(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(z(lp,10),z(ew,10),z(fp,8))};static \u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&he("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ln([VR]),ht]})}return e})();function Zb(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Yb(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var UR=class extends ru{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(sw(n),aw(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Yb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new nu(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Zb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Zb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Yb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var BR={provide:Bs,useExisting:Dt(()=>Hs)},Jb=Promise.resolve(),Hs=(()=>{class e extends Bs{_changeDetectorRef;callSetDisabledState;control=new UR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _e;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jR(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),PR(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Jb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Sr(r);Jb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?AR(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(z(Yi,9),z(lp,10),z(ew,10),z(ou,10),z(Ir,8),z(fp,8))};static \u0275dir=fe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ln([BR]),ht,pn]})}return e})();var lu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var $R={provide:ou,useExisting:Dt(()=>uu),multi:!0};function dw(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function HR(e){return e.split(":")[0]}var uu=(()=>{class e extends cp{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=y(Ot).injector;destroyRef=y(ft);cdr=y(Ir);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Vo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=dw(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=HR(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=gn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&he("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ln([$R]),ht]})}return e})(),fw=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(dw(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(z(Jt),z(vn),z(uu,9))};static \u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),qR={provide:ou,useExisting:Dt(()=>hw),multi:!0};function Qb(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function zR(e){return e.split(":")[0]}var hw=(()=>{class e extends cp{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=zR(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=gn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&he("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ln([qR]),ht]})}return e})(),pw=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Qb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Qb(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(z(Jt),z(vn),z(hw,9))};static \u0275dir=fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var GR=(()=>{class e{_validator=qb;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=fe({type:e,features:[pn]})}return e})();var WR={provide:lp,useExisting:Dt(()=>qs),multi:!0};var qs=(()=>{class e extends GR{required;inputName="required";normalizeInput=Sr;createValidator=n=>_R;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=gn(e)))(i||e)}})();static \u0275dir=fe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&vi("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ln([WR]),ht]})}return e})();var KR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Nt({type:e});static \u0275inj=at({})}return e})();var du=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:fp,useValue:n.callSetDisabledState??hp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Nt({type:e});static \u0275inj=at({imports:[KR]})}return e})();var Zn=class e{tableName="ambiente";getAll(){return Z(bt.from(this.tableName).select("*").order("id",{ascending:!0})).pipe(P(t=>{if(t.error)throw new Error(t.error.message);return t.data}))}getById(t){return Z(bt.from(this.tableName).select("*").eq("id",t).single()).pipe(P(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}create(t){return Z(bt.from(this.tableName).insert([t]).select().single()).pipe(P(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}update(t,n){return Z(bt.from(this.tableName).update(n).eq("id",t).select().single()).pipe(P(r=>{if(r.error)throw new Error(r.error.message);return r.data}))}delete(t){return Z(bt.from(this.tableName).delete().eq("id",t)).pipe(P(n=>{if(n.error)throw new Error(n.error.message)}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var ZR=(e,t)=>t.id;function YR(e,t){e&1&&(b(0,"div",2),w(1,"Cargando..."),_())}function JR(e,t){if(e&1&&(b(0,"div",3),w(1),_()),e&2){let n=J();M(),ce(n.error())}}function QR(e,t){if(e&1&&(b(0,"option",23),w(1),_()),e&2){let n=t.$implicit,r=J(2);pt("value",n.id)("selected",r.form.ambientecodigo===n.codigo),M(),_i(" ",n.codigo," - ",n.nombre," ")}}function XR(e,t){if(e&1){let n=kt();b(0,"form",5),he("ngSubmit",function(){ue(n);let i=J();return de(i.onSubmit())}),b(1,"div",6)(2,"label",7),w(3,"Nombre *"),_(),b(4,"input",8),Ft("ngModelChange",function(i){ue(n);let o=J();return Qt(o.form.nombre,i)||(o.form.nombre=i),de(i)}),_()(),b(5,"div",9)(6,"div",6)(7,"label",10),w(8,"Marca *"),_(),b(9,"input",11),Ft("ngModelChange",function(i){ue(n);let o=J();return Qt(o.form.marca,i)||(o.form.marca=i),de(i)}),_()(),b(10,"div",6)(11,"label",12),w(12,"Modelo *"),_(),b(13,"input",13),Ft("ngModelChange",function(i){ue(n);let o=J();return Qt(o.form.modelo,i)||(o.form.modelo=i),de(i)}),_()()(),b(14,"div",9)(15,"div",6)(16,"label",14),w(17,"Estado *"),_(),b(18,"select",15),Ft("ngModelChange",function(i){ue(n);let o=J();return Qt(o.form.estado,i)||(o.form.estado=i),de(i)}),b(19,"option",16),w(20,"Seleccionar estado"),_(),b(21,"option",17),w(22,"Nuevo"),_(),b(23,"option",18),w(24,"Usado"),_(),b(25,"option",19),w(26,"Desgastado"),_(),b(27,"option",20),w(28,"Obsoleto"),_()()(),b(29,"div",6)(30,"label",21),w(31,"Ambiente (C\xF3digo)"),_(),b(32,"select",22),he("change",function(i){ue(n);let o=J();return de(o.onAmbienteChange(i))}),b(33,"option",16),w(34,"Sin asignar"),_(),yn(35,QR,2,4,"option",23,ZR),_()()(),b(37,"div",24)(38,"button",25),w(39),_(),b(40,"button",26),he("click",function(){ue(n);let i=J();return de(i.cancel())}),w(41," Cancelar "),_()()()}if(e&2){let n=J();M(4),Pt("ngModel",n.form.nombre),M(5),Pt("ngModel",n.form.marca),M(4),Pt("ngModel",n.form.modelo),M(5),Pt("ngModel",n.form.estado),M(17),_n(n.ambientes()),M(4),Qe(" ",n.isEditing()?"Actualizar":"Crear"," ")}}var zs=class e{equipoService=y(Wi);ambienteService=y(Zn);router=y(En);route=y(ot);isEditing=Y(!1);loading=Y(!1);error=Y(null);ambientes=Y([]);form={nombre:"",marca:"",modelo:"",estado:"",ambientecodigo:"",ambientenombre:""};equipoId=null;ngOnInit(){this.loadAmbientes();let t=this.route.snapshot.paramMap.get("id");t&&(this.isEditing.set(!0),this.equipoId=+t,this.loadEquipo(this.equipoId))}loadAmbientes(){this.ambienteService.getAll().subscribe({next:t=>{this.ambientes.set(t)},error:t=>{console.error("Error al cargar ambientes",t)}})}loadEquipo(t){this.loading.set(!0),this.equipoService.getById(t).subscribe({next:n=>{this.form={nombre:n.nombre,marca:n.marca,modelo:n.modelo,estado:n.estado,ambientecodigo:n.ambientecodigo||"",ambientenombre:n.ambientenombre||""},this.loading.set(!1)},error:n=>{this.error.set("Error al cargar equipo"),this.loading.set(!1),console.error(n)}})}onAmbienteChange(t){let r=t.target.value;if(!r){this.form.ambientecodigo="",this.form.ambientenombre="";return}let i=this.ambientes().find(o=>o.id===+r);i&&(this.form.ambientecodigo=i.codigo,this.form.ambientenombre=i.nombre)}onSubmit(){this.equipoId?this.update():this.create()}create(){this.loading.set(!0),this.error.set(null),this.equipoService.create(this.form).subscribe({next:()=>{this.router.navigate(["/equipos"])},error:t=>{this.error.set("Error al crear equipo"),this.loading.set(!1),console.error(t)}})}update(){this.equipoId&&(this.loading.set(!0),this.error.set(null),this.equipoService.update(this.equipoId,this.form).subscribe({next:()=>{this.router.navigate(["/equipos"])},error:t=>{this.error.set("Error al actualizar equipo"),this.loading.set(!1),console.error(t)}}))}cancel(){this.router.navigate(["/equipos"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-producto-form"]],decls:7,vars:4,consts:[[1,"container"],[1,"header"],[1,"loading"],[1,"error"],[1,"form"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-row"],["for","marca"],["type","text","id","marca","name","marca","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","modelo"],["type","text","id","modelo","name","modelo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Nuevo"],["value","Usado"],["value","Desgastado"],["value","Obsoleto"],["for","ambiente"],["id","ambiente",1,"form-control",3,"change"],[3,"value","selected"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"header",1)(2,"h1"),w(3),_()(),Fe(4,YR,2,0,"div",2),Fe(5,JR,2,1,"div",3),Fe(6,XR,42,5,"form",4),_()),n&2&&(M(3),Qe("",r.isEditing()?"Editar":"Nuevo"," Equipo"),M(),Le(r.loading()?4:-1),M(),Le(r.error()?5:-1),M(),Le(r.loading()?-1:6))},dependencies:[Xt,du,lu,fw,pw,Ji,uu,su,au,qs,Hs,$s],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333}.form[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;box-shadow:0 0 0 2px #0055a440}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:24px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#0055a4;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#004080}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:12px;border-radius:4px;margin-bottom:20px}"]})};var vw=e=>["/ambientes",e],mw=(e,t)=>t.id;function ex(e,t){e&1&&(b(0,"div",4),w(1,"Cargando ambientes..."),_())}function tx(e,t){if(e&1&&(b(0,"div",5),w(1),_()),e&2){let n=J();M(),ce(n.error())}}function nx(e,t){if(e&1){let n=kt();b(0,"tr")(1,"td"),w(2),_(),b(3,"td"),w(4),_(),b(5,"td"),w(6),_(),b(7,"td",11)(8,"a",12),w(9," Editar "),_(),b(10,"button",13),he("click",function(){let i=ue(n).$implicit,o=J(2);return de(o.deleteAmbiente(i.id))}),w(11," Eliminar "),_()()()}if(e&2){let n=t.$implicit;M(2),ce(n.codigo),M(2),ce(n.nombre),M(2),ce(n.ubicacion),M(2),pt("routerLink",jn(4,vw,n.id))}}function rx(e,t){e&1&&(b(0,"tr")(1,"td",14),w(2,"No hay ambientes"),_()())}function ix(e,t){if(e&1){let n=kt();b(0,"div",9)(1,"div",15)(2,"span",16),w(3),_()(),b(4,"div",17)(5,"h3"),w(6),_(),b(7,"p",18),w(8),_()(),b(9,"div",19)(10,"a",12),w(11," Editar "),_(),b(12,"button",13),he("click",function(){let i=ue(n).$implicit,o=J(2);return de(o.deleteAmbiente(i.id))}),w(13," Eliminar "),_()()()}if(e&2){let n=t.$implicit;M(3),ce(n.codigo),M(3),ce(n.nombre),M(2),Qe("\u{1F4CD} ",n.ubicacion),M(2),pt("routerLink",jn(4,vw,n.id))}}function ox(e,t){e&1&&(b(0,"div",10),w(1,"No hay ambientes registrados"),_())}function sx(e,t){if(e&1&&(b(0,"div",6)(1,"table",7)(2,"thead")(3,"tr")(4,"th"),w(5,"C\xF3digo"),_(),b(6,"th"),w(7,"Nombre"),_(),b(8,"th"),w(9,"Ubicaci\xF3n"),_(),b(10,"th"),w(11,"Acciones"),_()()(),b(12,"tbody"),yn(13,nx,12,6,"tr",null,mw,!1,rx,3,0,"tr"),_()()(),b(16,"div",8),yn(17,ix,14,6,"div",9,mw,!1,ox,2,0,"div",10),_()),e&2){let n=J();M(13),_n(n.ambientes()),M(4),_n(n.ambientes())}}var fu=class e{ambienteService=y(Zn);ambientes=Y([]);loading=Y(!0);error=Y(null);ngOnInit(){this.loadAmbientes()}loadAmbientes(){this.loading.set(!0),this.error.set(null),this.ambienteService.getAll().subscribe({next:t=>{this.ambientes.set(t),this.loading.set(!1)},error:t=>{this.error.set("Error al cargar ambientes"),this.loading.set(!1),console.error(t)}})}deleteAmbiente(t){confirm("\xBFEst\xE1s seguro de eliminar este ambiente?")&&this.ambienteService.delete(t).subscribe({next:()=>{this.loadAmbientes()},error:n=>{this.error.set("Error al eliminar ambiente"),console.error(n)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-ambiente-list"]],decls:12,vars:3,consts:[[1,"container"],[1,"header"],["routerLink","/menu",1,"btn","btn-secondary","btn-sm"],["routerLink","/ambientes/nuevo",1,"btn","btn-primary"],[1,"loading"],[1,"error"],[1,"table-container","desktop-only"],[1,"table"],[1,"cards-container","mobile-only"],[1,"card"],[1,"empty-card"],[1,"actions"],[1,"btn","btn-sm","btn-edit",3,"routerLink"],[1,"btn","btn-sm","btn-delete",3,"click"],["colspan","4",1,"empty"],[1,"card-header"],[1,"card-codigo"],[1,"card-body"],[1,"card-ubicacion"],[1,"card-actions"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"header",1)(2,"div")(3,"a",2),w(4,"\u2190 Volver"),_(),b(5,"h1"),w(6,"Ambientes"),_()(),b(7,"a",3),w(8," + Agregar "),_()(),Fe(9,ex,2,0,"div",4),Fe(10,tx,2,1,"div",5),Fe(11,sx,20,2),_()),n&2&&(M(9),Le(r.loading()?9:-1),M(),Le(r.error()?10:-1),M(),Le(!r.loading()&&!r.error()?11:-1))},dependencies:[Xt,nn],styles:[".container[_ngcontent-%COMP%]{padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}h1[_ngcontent-%COMP%]{margin:0}.table-container[_ngcontent-%COMP%]{display:block}.desktop-only[_ngcontent-%COMP%]{display:table}.mobile-only[_ngcontent-%COMP%]{display:none}.cards-container[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.card-codigo[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;color:#1a1a2e}.card-ubicacion[_ngcontent-%COMP%]{margin:0;color:#0055a4;font-size:.875rem;font-weight:500}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #eee}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.empty-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#999;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 4px #0000001a}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#0055a4;color:#fff}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.loading[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#666}.error[_ngcontent-%COMP%]{padding:1rem;background:#fee;color:#c00;border-radius:4px;margin-bottom:1rem}.empty[_ngcontent-%COMP%]{text-align:center;color:#999;padding:2rem}@media(max-width:1000px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:flex!important}.cards-container[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}"]})};function ax(e,t){e&1&&(b(0,"div",2),w(1,"Cargando..."),_())}function cx(e,t){if(e&1&&(b(0,"div",3),w(1),_()),e&2){let n=J();M(),ce(n.error())}}function lx(e,t){if(e&1){let n=kt();b(0,"form",5),he("ngSubmit",function(){ue(n);let i=J();return de(i.onSubmit())}),b(1,"div",6)(2,"label",7),w(3,"C\xF3digo *"),_(),b(4,"input",8),Ft("ngModelChange",function(i){ue(n);let o=J();return Qt(o.form.codigo,i)||(o.form.codigo=i),de(i)}),_()(),b(5,"div",6)(6,"label",9),w(7,"Nombre *"),_(),b(8,"input",10),Ft("ngModelChange",function(i){ue(n);let o=J();return Qt(o.form.nombre,i)||(o.form.nombre=i),de(i)}),_()(),b(9,"div",6)(10,"label",11),w(11,"Ubicaci\xF3n *"),_(),b(12,"input",12),Ft("ngModelChange",function(i){ue(n);let o=J();return Qt(o.form.ubicacion,i)||(o.form.ubicacion=i),de(i)}),_()(),b(13,"div",13)(14,"button",14),w(15),_(),b(16,"button",15),he("click",function(){ue(n);let i=J();return de(i.cancel())}),w(17," Cancelar "),_()()()}if(e&2){let n=J();M(4),Pt("ngModel",n.form.codigo),M(4),Pt("ngModel",n.form.nombre),M(4),Pt("ngModel",n.form.ubicacion),M(3),Qe(" ",n.isEditing()?"Actualizar":"Crear"," ")}}var Gs=class e{ambienteService=y(Zn);router=y(En);route=y(ot);isEditing=Y(!1);loading=Y(!1);error=Y(null);form={codigo:"",nombre:"",ubicacion:""};ambienteId=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.isEditing.set(!0),this.ambienteId=+t,this.loadAmbiente(this.ambienteId))}loadAmbiente(t){this.loading.set(!0),this.ambienteService.getById(t).subscribe({next:n=>{this.form={codigo:n.codigo,nombre:n.nombre,ubicacion:n.ubicacion},this.loading.set(!1)},error:n=>{this.error.set("Error al cargar ambiente"),this.loading.set(!1),console.error(n)}})}onSubmit(){this.ambienteId?this.update():this.create()}create(){this.loading.set(!0),this.error.set(null),this.ambienteService.create(this.form).subscribe({next:()=>{this.router.navigate(["/ambientes"])},error:t=>{this.error.set("Error al crear ambiente"),this.loading.set(!1),console.error(t)}})}update(){this.ambienteId&&(this.loading.set(!0),this.error.set(null),this.ambienteService.update(this.ambienteId,this.form).subscribe({next:()=>{this.router.navigate(["/ambientes"])},error:t=>{this.error.set("Error al actualizar ambiente"),this.loading.set(!1),console.error(t)}}))}cancel(){this.router.navigate(["/ambientes"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-ambiente-form"]],decls:7,vars:4,consts:[[1,"container"],[1,"header"],[1,"loading"],[1,"error"],[1,"form"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","codigo"],["type","text","id","codigo","name","codigo","required","","placeholder","Ej: A001",1,"form-control",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","id","nombre","name","nombre","required","","placeholder","Ej: Aula 101",1,"form-control",3,"ngModelChange","ngModel"],["for","ubicacion"],["type","text","id","ubicacion","name","ubicacion","required","","placeholder","Ej: Edificio A - Piso 1",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(b(0,"div",0)(1,"header",1)(2,"h1"),w(3),_()(),Fe(4,ax,2,0,"div",2),Fe(5,cx,2,1,"div",3),Fe(6,lx,18,4,"form",4),_()),n&2&&(M(3),Qe("",r.isEditing()?"Editar":"Nuevo"," Ambiente"),M(),Le(r.loading()?4:-1),M(),Le(r.error()?5:-1),M(),Le(r.loading()?-1:6))},dependencies:[Xt,du,lu,Ji,su,au,qs,Hs,$s],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#4a5568}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.loading[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#666}.error[_ngcontent-%COMP%]{padding:1rem;background:#fee;color:#c00;border-radius:8px;margin-bottom:1rem}"]})};var yw=[{path:"",component:Cl},{path:"menu",component:Il},{path:"equipos",component:Yl},{path:"equipos/nuevo",component:zs},{path:"equipos/:id",component:zs},{path:"ambientes",component:fu},{path:"ambientes/nuevo",component:Gs},{path:"ambientes/:id",component:Gs}];var pp="Service workers are disabled or not supported by this browser",Qi=class{serviceWorker;worker;registration;events;constructor(t,n){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new U(r=>r.error(new C(5601,!1)));else{let r=null,i=new se;this.worker=new U(l=>(r!==null&&l.next(r),i.subscribe(u=>l.next(u))));let o=()=>{let{controller:l}=t;l!==null&&(r=l,i.next(r))};t.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Be(()=>t.getRegistration().then(l=>{if(!l)throw new C(5601,!1);return l})));let s=new se;this.events=s.asObservable();let a=l=>{let{data:u}=l;u?.type&&s.next(u)};t.addEventListener("message",a),n?.get(Ot,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",o),t.removeEventListener("message",a)})}}postMessage(t,n){return new Promise(r=>{this.worker.pipe(ze(1)).subscribe(i=>{i.postMessage(D({action:t},n)),r()})})}postMessageWithOperation(t,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(t,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let n;return typeof t=="string"?n=r=>r.type===t:n=r=>t.includes(r.type),this.events.pipe(Ze(n))}nextEventOfType(t){return this.eventsOfType(t).pipe(ze(1))}waitForOperationCompleted(t){return new Promise((n,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Ze(i=>i.nonce===t),ze(1),P(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:n,error:r})})}get isEnabled(){return!!this.serviceWorker}},ux=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new se;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=sn,this.notificationClicks=sn,this.notificationCloses=sn,this.pushSubscriptionChanges=sn,this.subscription=sn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(P(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(P(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(P(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(P(i=>i.data)),this.pushManager=this.sw.registration.pipe(P(i=>i.pushManager));let r=this.pushManager.pipe(Be(i=>i.getSubscription()));this.subscription=new U(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(pp));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Be(c=>c.subscribe(r)),ze(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(pp));let n=r=>{if(r===null)throw new C(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new C(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(ze(1),Be(n)).subscribe({next:r,error:i})})}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||e)(x(Qi))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),dx=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=sn,this.unrecoverable=sn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pp));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new C(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||e)(x(Qi))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),bw=new S("");function fx(){let e=y(Ws);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let t=y(bw),n=y(Ne),r=y(Ot);n.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),n.runOutsideAngular(()=>{let i,{registrationStrategy:o}=e;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=_w(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),_w(+a[0])]);break;default:throw new C(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(t,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(s=>console.error(un(5604,!1)))})})}function _w(e){return new Promise(t=>setTimeout(t,e))}function hx(){let e=y(Ws),t=y(Ye),n=!0;return new Qi(n&&e.enabled!==!1?navigator.serviceWorker:void 0,t)}var Ws=class{enabled;updateViaCache;type;scope;registrationStrategy};function ww(e,t={}){return Ct([ux,dx,{provide:bw,useValue:e},{provide:Ws,useValue:t},{provide:Qi,useFactory:hx},kc(fx)])}var Ew={providers:[Ld(),Ph(yw),uh(),ww("ngsw-worker.js",{enabled:!fy(),registrationStrategy:"registerWhenStable:30000"})]};var hu=class e{title=Y("inventario-frontend");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Pe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&yi(0,"router-outlet")},dependencies:[fs],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;background-color:#f5f5f5;color:#333;line-height:1.6}"]})};oh(hu,Ew).catch(e=>console.error(e));
