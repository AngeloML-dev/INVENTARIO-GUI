var Hb=Object.defineProperty,qb=Object.defineProperties;var zb=Object.getOwnPropertyDescriptors;var Vp=Object.getOwnPropertySymbols;var Gb=Object.prototype.hasOwnProperty,Wb=Object.prototype.propertyIsEnumerable;var Up=(e,t,n)=>t in e?Hb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||={})Gb.call(t,n)&&Up(e,n,t[n]);if(Vp)for(var n of Vp(t))Wb.call(t,n)&&Up(e,n,t[n]);return e},ee=(e,t)=>qb(e,zb(t));var Qe=null,la=!1,Lu=1,Kb=null,it=Symbol("SIGNAL");function L(e){let t=Qe;return Qe=e,t}function da(){return Qe}var vo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yo(e){if(la)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(e);let t=Qe.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Qe.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Qe.producers,n!==void 0&&n.producer===e)){Qe.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Qe&&(!r||Zb(i,Qe)))return;let o=ci(Qe),s={producer:e,consumer:Qe,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Qe.producersTail=s,t!==void 0?t.nextProducer=s:Qe.producers=s,o&&qp(e,s)}function Bp(){Lu++}function ju(e){if(!(ci(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Lu)){if(!e.producerMustRecompute(e)&&!ha(e)){Fu(e);return}e.producerRecomputeValue(e),Fu(e)}}function Vu(e){if(e.consumers===void 0)return;let t=la;la=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Yb(r)}}finally{la=t}}function Uu(){return Qe?.consumerAllowSignalWrites!==!1}function Yb(e){e.dirty=!0,Vu(e),e.consumerMarkedDirty?.(e)}function Fu(e){e.dirty=!1,e.lastCleanEpoch=Lu}function _o(e){return e&&$p(e),L(e)}function $p(e){e.producersTail=void 0,e.recomputing=!0}function fa(e,t){L(t),e&&Hp(e)}function Hp(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(ci(e))do n=Bu(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function ha(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(ju(n),r!==n.version))return!0}return!1}function bo(e){if(ci(e)){let t=e.producers;for(;t!==void 0;)t=Bu(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function qp(e,t){let n=e.consumersTail,r=ci(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)qp(i.producer,i)}function Bu(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!ci(t)){let o=t.producers;for(;o!==void 0;)o=Bu(o)}return n}function ci(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function $u(e){Kb?.(e)}function Zb(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Hu(e,t){return Object.is(e,t)}function pa(e,t){let n=Object.create(Jb);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(ju(n),yo(n),n.value===ua)throw n.error;return n.value};return r[it]=n,$u(n),r}var ku=Symbol("UNSET"),Pu=Symbol("COMPUTING"),ua=Symbol("ERRORED"),Jb=ee(I({},vo),{value:ku,dirty:!0,error:null,equal:Hu,kind:"computed",producerMustRecompute(e){return e.value===ku||e.value===Pu},producerRecomputeValue(e){if(e.value===Pu)throw new Error("");let t=e.value;e.value=Pu;let n=_o(e),r,i=!1;try{r=e.computation(),L(null),i=t!==ku&&t!==ua&&r!==ua&&e.equal(t,r)}catch(o){r=ua,e.error=o}finally{fa(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Qb(){throw new Error}var zp=Qb;function Gp(e){zp(e)}function qu(e){zp=e}var Xb=null;function zu(e,t){let n=Object.create(ga);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Wp(n);return r[it]=n,$u(n),[r,s=>wo(n,s),s=>Kp(n,s)]}function Wp(e){return yo(e),e.value}function wo(e,t){Uu()||Gp(e),e.equal(e.value,t)||(e.value=t,ew(e))}function Kp(e,t){Uu()||Gp(e),wo(e,t(e.value))}var ga=ee(I({},vo),{equal:Hu,value:void 0,kind:"signal"});function ew(e){e.version++,Bp(),Vu(e),Xb?.(e)}function Gu(e){let t=L(null);try{return e()}finally{L(t)}}function G(e){return typeof e=="function"}function li(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ma=li(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Co(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var $e=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){t=o instanceof ma?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Yp(o)}catch(s){t=t??[],s instanceof ma?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ma(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Yp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Co(n,t)}remove(t){let{_finalizers:n}=this;n&&Co(n,t),t instanceof e&&t._removeParent(this)}};$e.EMPTY=(()=>{let e=new $e;return e.closed=!0,e})();var Wu=$e.EMPTY;function va(e){return e instanceof $e||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function Yp(e){G(e)?e():e.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ui={setTimeout(e,t,...n){let{delegate:r}=ui;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ui;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ya(e){ui.setTimeout(()=>{let{onUnhandledError:t}=Ft;if(t)t(e);else throw e})}function ur(){}var Zp=Ku("C",void 0,void 0);function Jp(e){return Ku("E",void 0,e)}function Qp(e){return Ku("N",e,void 0)}function Ku(e,t,n){return{kind:e,value:t,error:n}}var dr=null;function di(e){if(Ft.useDeprecatedSynchronousErrorHandling){let t=!dr;if(t&&(dr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=dr;if(dr=null,n)throw r}}else e()}function Xp(e){Ft.useDeprecatedSynchronousErrorHandling&&dr&&(dr.errorThrown=!0,dr.error=e)}var fr=class extends $e{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,va(t)&&t.add(this)):this.destination=rw}static create(t,n,r){return new fi(t,n,r)}next(t){this.isStopped?Zu(Qp(t),this):this._next(t)}error(t){this.isStopped?Zu(Jp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Zu(Zp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tw=Function.prototype.bind;function Yu(e,t){return tw.call(e,t)}var Ju=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){_a(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){_a(r)}else _a(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){_a(n)}}},fi=class extends fr{constructor(t,n,r){super();let i;if(G(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ft.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Yu(t.next,o),error:t.error&&Yu(t.error,o),complete:t.complete&&Yu(t.complete,o)}):i=t}this.destination=new Ju(i)}};function _a(e){Ft.useDeprecatedSynchronousErrorHandling?Xp(e):ya(e)}function nw(e){throw e}function Zu(e,t){let{onStoppedNotification:n}=Ft;n&&ui.setTimeout(()=>n(e,t))}var rw={closed:!0,next:ur,error:nw,complete:ur};var hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(e){return e}function Qu(...e){return Xu(e)}function Xu(e){return e.length===0?Lt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var W=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ow(n)?n:new fi(n,r,i);return di(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=eg(r),new r((i,o)=>{let s=new fi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hi](){return this}pipe(...n){return Xu(n)(this)}toPromise(n){return n=eg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function eg(e){var t;return(t=e??Ft.Promise)!==null&&t!==void 0?t:Promise}function iw(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}function ow(e){return e&&e instanceof fr||iw(e)&&va(e)}function sw(e){return G(e?.lift)}function se(e){return t=>{if(sw(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(e,t,n,r,i){return new ed(e,t,n,r,i)}var ed=class extends fr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var tg=li(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=(()=>{class e extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ba(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tg}next(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wu:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,Co(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new W;return n.source=this,n}}return e.create=(t,n)=>new ba(t,n),e})(),ba=class extends ye{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Wu}};var He=class extends ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var qe=new W(e=>e.complete());function ng(e){return e&&G(e.schedule)}function rg(e){return e[e.length-1]}function wa(e){return G(rg(e))?e.pop():void 0}function Ln(e){return ng(rg(e))?e.pop():void 0}function pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ca(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function ig(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function hr(e){return this instanceof hr?(this.v=e,this):new hr(e)}function og(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(_){return new Promise(function(C,w){o.push([f,_,C,w])>1||c(f,_)})},p&&(i[f]=p(i[f])))}function c(f,p){try{l(r[f](p))}catch(_){h(o[0][3],_)}}function l(f){f.value instanceof hr?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function sg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ig=="function"?ig(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ea=e=>e&&typeof e.length=="number"&&typeof e!="function";function Da(e){return G(e?.then)}function Ia(e){return G(e[hi])}function Sa(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function Ta(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ma=aw();function xa(e){return G(e?.[Ma])}function Aa(e){return og(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield hr(n.read());if(i)return yield hr(void 0);yield yield hr(r)}}finally{n.releaseLock()}})}function Ra(e){return G(e?.getReader)}function Me(e){if(e instanceof W)return e;if(e!=null){if(Ia(e))return cw(e);if(Ea(e))return lw(e);if(Da(e))return uw(e);if(Sa(e))return ag(e);if(xa(e))return dw(e);if(Ra(e))return fw(e)}throw Ta(e)}function cw(e){return new W(t=>{let n=e[hi]();if(G(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lw(e){return new W(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function uw(e){return new W(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ya)})}function dw(e){return new W(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function ag(e){return new W(t=>{hw(e,t).catch(n=>t.error(n))})}function fw(e){return ag(Aa(e))}function hw(e,t){var n,r,i,o;return Ca(this,void 0,void 0,function*(){try{for(n=sg(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function lt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Na(e,t=0){return se((n,r)=>{n.subscribe(ae(r,i=>lt(r,e,()=>r.next(i),t),()=>lt(r,e,()=>r.complete(),t),i=>lt(r,e,()=>r.error(i),t)))})}function Oa(e,t=0){return se((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function cg(e,t){return Me(e).pipe(Oa(t),Na(t))}function lg(e,t){return Me(e).pipe(Oa(t),Na(t))}function ug(e,t){return new W(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function dg(e,t){return new W(n=>{let r;return lt(n,t,()=>{r=e[Ma](),lt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function ka(e,t){if(!e)throw new Error("Iterable cannot be null");return new W(n=>{lt(n,t,()=>{let r=e[Symbol.asyncIterator]();lt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fg(e,t){return ka(Aa(e),t)}function hg(e,t){if(e!=null){if(Ia(e))return cg(e,t);if(Ea(e))return ug(e,t);if(Da(e))return lg(e,t);if(Sa(e))return ka(e,t);if(xa(e))return dg(e,t);if(Ra(e))return fg(e,t)}throw Ta(e)}function ie(e,t){return t?hg(e,t):Me(e)}function Q(...e){let t=Ln(e);return ie(e,t)}function td(e,t){let n=G(e)?e:()=>e,r=i=>i.error(n());return new W(t?i=>t.schedule(r,0,i):r)}function Pa(e){return!!e&&(e instanceof W||G(e.lift)&&G(e.subscribe))}var gr=li(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function V(e,t){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:pw}=Array;function gw(e,t){return pw(t)?e(...t):e(t)}function Fa(e){return V(t=>gw(e,t))}var{isArray:mw}=Array,{getPrototypeOf:vw,prototype:yw,keys:_w}=Object;function La(e){if(e.length===1){let t=e[0];if(mw(t))return{args:t,keys:null};if(bw(t)){let n=_w(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function bw(e){return e&&typeof e=="object"&&vw(e)===yw}function ja(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function nd(...e){let t=Ln(e),n=wa(e),{args:r,keys:i}=La(e);if(r.length===0)return ie([],t);let o=new W(ww(r,t,i?s=>ja(i,s):Lt));return n?o.pipe(Fa(n)):o}function ww(e,t,n=Lt){return r=>{pg(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)pg(t,()=>{let l=ie(e[c],t),u=!1;l.subscribe(ae(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pg(e,t,n){e?lt(n,e,t):t()}function gg(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=_=>l<r?p(_):c.push(_),p=_=>{o&&t.next(_),l++;let C=!1;Me(n(_,u++)).subscribe(ae(t,w=>{i?.(w),o?f(w):t.next(w)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;c.length&&l<r;){let w=c.shift();s?lt(t,s,()=>p(w)):p(w)}h()}catch(w){t.error(w)}}))};return e.subscribe(ae(t,f,()=>{d=!0,h()})),()=>{a?.()}}function ot(e,t,n=1/0){return G(t)?ot((r,i)=>V((o,s)=>t(r,o,i,s))(Me(e(r,i))),n):(typeof t=="number"&&(n=t),se((r,i)=>gg(r,i,e,n)))}function mg(e=1/0){return ot(Lt,e)}function vg(){return mg(1)}function pi(...e){return vg()(ie(e,Ln(e)))}function Eo(e){return new W(t=>{Me(e()).subscribe(t)})}function rd(...e){let t=wa(e),{args:n,keys:r}=La(e),i=new W(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Me(n[u]).subscribe(ae(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ja(r,a):a),o.complete())}))}});return t?i.pipe(Fa(t)):i}var mn=new W(ur);function ut(e,t){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Do(e){return se((t,n)=>{let r=null,i=!1,o;r=t.subscribe(ae(n,void 0,void 0,s=>{o=Me(e(s,Do(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gi(e,t){return G(t)?ot(e,t,1):ot(e,1)}function yg(e){return se((t,n)=>{let r=!1;t.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function st(e){return e<=0?()=>qe:se((t,n)=>{let r=0;t.subscribe(ae(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function _g(e=Cw){return se((t,n)=>{let r=!1;t.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Cw(){return new gr}function Io(e){return se((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function vn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?ut((i,o)=>e(i,o,r)):Lt,st(1),n?yg(t):_g(()=>new gr))}function Va(e){return e<=0?()=>qe:se((t,n)=>{let r=[];t.subscribe(ae(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function id(...e){let t=Ln(e);return se((n,r)=>{(t?pi(e,n,t):pi(e,n)).subscribe(r)})}function Xe(e,t){return se((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ae(r,c=>{i?.unsubscribe();let l=0,u=o++;Me(e(c,u)).subscribe(i=ae(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function So(e){return se((t,n)=>{Me(e).subscribe(ae(n,()=>n.complete(),ur)),!n.closed&&t.subscribe(n)})}function Xt(e,t,n){let r=G(e)||t||n?{next:e,error:t,complete:n}:e;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Lt}var od;function Ua(){return od}function en(e){let t=od;return od=e,t}var bg=Symbol("NotFound");function mi(e){return e===bg||e?.name==="\u0275NotFound"}var za="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(t,n){super(bn(t,n)),this.code=t}};function Iw(e){return`NG0${Math.abs(e)}`}function bn(e,t){return`${Iw(e)}${t?": "+t:""}`}var No=globalThis;function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("")}function Ig(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function _n(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(_n).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ga(e,t){return e?t?`${e} ${t}`:e:t||""}var Sw=ce({__forward_ref__:ce});function jt(e){return e.__forward_ref__=jt,e.toString=function(){return _n(this())},e}function ze(e){return bd(e)?e():e}function bd(e){return typeof e=="function"&&e.hasOwnProperty(Sw)&&e.__forward_ref__===jt}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function bt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Oo(e){return Tw(e,Wa)}function wd(e){return Oo(e)!==null}function Tw(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Mw(e){let t=e?.[Wa]??null;return t||null}function ad(e){return e&&e.hasOwnProperty($a)?e[$a]:null}var Wa=ce({\u0275prov:ce}),$a=ce({\u0275inj:ce}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cd(e){return e&&!!e.\u0275providers}var Ed=ce({\u0275cmp:ce}),Dd=ce({\u0275dir:ce}),Id=ce({\u0275pipe:ce}),Sd=ce({\u0275mod:ce}),Mo=ce({\u0275fac:ce}),wr=ce({__NG_ELEMENT_ID__:ce}),wg=ce({__NG_ENV_ID__:ce});function Td(e){return Ka(e,"@NgModule"),e[Sd]||null}function Un(e){return Ka(e,"@Component"),e[Ed]||null}function Md(e){return Ka(e,"@Directive"),e[Dd]||null}function Sg(e){return Ka(e,"@Pipe"),e[Id]||null}function Ka(e,t){if(e==null)throw new S(-919,!1)}function wn(e){return typeof e=="string"?e:e==null?"":String(e)}var Tg=ce({ngErrorCode:ce}),xw=ce({ngErrorMessage:ce}),Aw=ce({ngTokenPath:ce});function xd(e,t){return Mg("",-200,t)}function Ya(e,t){throw new S(-201,!1)}function Mg(e,t,n){let r=new S(t,e);return r[Tg]=t,r[xw]=e,n&&(r[Aw]=n),r}function Rw(e){return e[Tg]}var cd;function xg(){return cd}function ft(e){let t=cd;return cd=e,t}function Ad(e,t,n){let r=Oo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ya(e,"")}var Nw={},mr=Nw,Ow="__NG_DI_FLAG__",ld=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=vr(n)||0;try{return this.injector.get(t,r&8?null:mr,r)}catch(i){if(mi(i))return i;throw i}}};function kw(e,t=0){let n=Ua();if(n===void 0)throw new S(-203,!1);if(n===null)return Ad(e,void 0,t);{let r=Pw(t),i=n.retrieve(e,r);if(mi(i)){if(r.optional)return null;throw i}return i}}function P(e,t=0){return(xg()||kw)(ze(e),t)}function y(e,t){return P(e,vr(t))}function vr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Pw(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function ud(e){let t=[];for(let n=0;n<e.length;n++){let r=ze(e[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=Fw(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(P(i,o))}else t.push(P(r))}return t}function Fw(e){return e[Ow]}function yr(e,t){let n=e.hasOwnProperty(Mo);return n?e[Mo]:null}function Za(e,t){e.forEach(n=>Array.isArray(n)?Za(n,t):t(n))}function Rd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ko(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ag(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Ja(e,t,n){let r=yi(e,t);return r>=0?e[r|1]=n:(r=~r,Ag(e,r,t,n)),r}function Qa(e,t){let n=yi(e,t);if(n>=0)return e[n|1]}function yi(e,t){return Lw(e,t,1)}function Lw(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Bn={},at=[],Cr=new R(""),Nd=new R("",-1),Od=new R(""),xo=class{get(t,n=mr){if(n===mr){let i=Mg("",-201);throw i.name="\u0275NotFound",i}return n}};function Vt(e){return{\u0275providers:e}}function Rg(e){return Vt([{provide:Cr,multi:!0,useValue:e}])}function Ng(...e){return{\u0275providers:kd(!0,e),\u0275fromNgModule:!0}}function kd(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Za(t,s=>{let a=s;Ha(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Og(i,o),n}function Og(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Pd(i,o=>{t(o,r)})}}function Ha(e,t,n,r){if(e=ze(e),!e)return!1;let i=null,o=ad(e),s=!o&&Un(e);if(!o&&!s){let c=e.ngModule;if(o=ad(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ha(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Za(o.imports,u=>{Ha(u,t,n,r)&&(l||=[],l.push(u))}),l!==void 0&&Og(l,t)}if(!a){let l=yr(i)||(()=>new i);t({provide:i,useFactory:l,deps:at},i),t({provide:Od,useValue:i,multi:!0},i),t({provide:Cr,useValue:()=>P(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Pd(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Pd(e,t){for(let n of e)Cd(n)&&(n=n.\u0275providers),Array.isArray(n)?Pd(n,t):t(n)}var jw=ce({provide:String,useValue:ce});function kg(e){return e!==null&&typeof e=="object"&&jw in e}function Vw(e){return!!(e&&e.useExisting)}function Uw(e){return!!(e&&e.useFactory)}function _r(e){return typeof e=="function"}function Pg(e){return!!e.useClass}var Po=new R(""),Ba={},Cg={},sd;function Fo(){return sd===void 0&&(sd=new xo),sd}var _e=class{},br=class extends _e{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,fd(t,s=>this.processProvider(s)),this.records.set(Nd,vi(void 0,this)),i.has("environment")&&this.records.set(_e,vi(void 0,this));let o=this.records.get(Po);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Od,at,{self:!0}))}retrieve(t,n){let r=vr(n)||0;try{return this.get(t,mr,r)}catch(i){if(mi(i))return i;throw i}}destroy(){To(this),this._destroyed=!0;let t=L(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),L(t)}}onDestroy(t){return To(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){To(this);let n=en(this),r=ft(void 0),i;try{return t()}finally{en(n),ft(r)}}get(t,n=mr,r){if(To(this),t.hasOwnProperty(wg))return t[wg](this);let i=vr(r),o,s=en(this),a=ft(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=zw(t)&&Oo(t);u&&this.injectableDefInScope(u)?l=vi(dd(t),Ba):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Fo():this.parent;return n=i&8&&n===mr?null:n,c.get(t,n)}catch(c){let l=Rw(c);throw l===-200||l===-201?new S(l,null):c}finally{ft(a),en(s)}}resolveInjectorInitializers(){let t=L(null),n=en(this),r=ft(void 0),i;try{let o=this.get(Cr,at,{self:!0});for(let s of o)s()}finally{en(n),ft(r),L(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(_n(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ze(t);let n=_r(t)?t:ze(t&&t.provide),r=$w(t);if(!_r(t)&&t.multi===!0){let i=this.records.get(n);i||(i=vi(void 0,Ba,!0),i.factory=()=>ud(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=L(null);try{if(n.value===Cg)throw xd(_n(t));return n.value===Ba&&(n.value=Cg,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&qw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{L(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ze(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dd(e){let t=Oo(e),n=t!==null?t.factory:yr(e);if(n!==null)return n;if(e instanceof R)throw new S(204,!1);if(e instanceof Function)return Bw(e);throw new S(204,!1)}function Bw(e){if(e.length>0)throw new S(204,!1);let n=Mw(e);return n!==null?()=>n.factory(e):()=>new e}function $w(e){if(kg(e))return vi(void 0,e.useValue);{let t=Fd(e);return vi(t,Ba)}}function Fd(e,t,n){let r;if(_r(e)){let i=ze(e);return yr(i)||dd(i)}else if(kg(e))r=()=>ze(e.useValue);else if(Uw(e))r=()=>e.useFactory(...ud(e.deps||[]));else if(Vw(e))r=(i,o)=>P(ze(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ze(e&&(e.useClass||e.provide));if(Hw(e))r=()=>new i(...ud(e.deps));else return yr(i)||dd(i)}return r}function To(e){if(e.destroyed)throw new S(205,!1)}function vi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Hw(e){return!!e.deps}function qw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function zw(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function fd(e,t){for(let n of e)Array.isArray(n)?fd(n,t):n&&Cd(n)?fd(n.\u0275providers,t):t(n)}function Fe(e,t){let n;e instanceof br?(To(e),n=e):n=new ld(e);let r,i=en(n),o=ft(void 0);try{return t()}finally{en(i),ft(o)}}function Fg(){return xg()!==void 0||Ua()!=null}var Ut=0,$=1,q=2,Pe=3,wt=4,Ct=5,_i=6,bi=7,Ie=8,Cn=9,nn=10,de=11,wi=12,Ld=13,Er=14,ht=15,Dr=16,Ir=17,Sr=18,En=19,jd=20,yn=21,Xa=22,Lo=23,pt=24,Tr=25,Mr=26,Le=27,Lg=1,Vd=6,$n=7,jo=8,Vo=9,Se=10;function rn(e){return Array.isArray(e)&&typeof e[Lg]=="object"}function Bt(e){return Array.isArray(e)&&e[Lg]===!0}function Ud(e){return(e.flags&4)!==0}function Hn(e){return e.componentOffset>-1}function Uo(e){return(e.flags&1)===1}function on(e){return!!e.template}function Ci(e){return(e[q]&512)!==0}function xr(e){return(e[q]&256)===256}var jg="svg",Vg="math";function Et(e){for(;Array.isArray(e);)e=e[Ut];return e}function Bd(e,t){return Et(t[e])}function $t(e,t){return Et(t[e.index])}function Bo(e,t){return e.data[t]}function Dt(e,t){let n=t[e];return rn(n)?n:n[Ut]}function ec(e){return(e[q]&128)===128}function Ug(e){return Bt(e[Pe])}function It(e,t){return t==null?null:e[t]}function $d(e){e[Ir]=0}function Hd(e){e[q]&1024||(e[q]|=1024,ec(e)&&Ei(e))}function Bg(e,t){for(;e>0;)t=t[Er],e--;return t}function $o(e){return!!(e[q]&9216||e[pt]?.dirty)}function tc(e){e[nn].changeDetectionScheduler?.notify(8),e[q]&64&&(e[q]|=1024),$o(e)&&Ei(e)}function Ei(e){e[nn].changeDetectionScheduler?.notify(0);let t=jn(e);for(;t!==null&&!(t[q]&8192||(t[q]|=8192,!ec(t)));)t=jn(t)}function qd(e,t){if(xr(e))throw new S(911,!1);e[yn]===null&&(e[yn]=[]),e[yn].push(t)}function $g(e,t){if(e[yn]===null)return;let n=e[yn].indexOf(t);n!==-1&&e[yn].splice(n,1)}function jn(e){let t=e[Pe];return Bt(t)?t[Pe]:t}function Hg(e){return e[bi]??=[]}function qg(e){return e.cleanup??=[]}var J={lFrame:nm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var hd=!1;function zg(){return J.lFrame.elementDepthCount}function Gg(){J.lFrame.elementDepthCount++}function zd(){J.lFrame.elementDepthCount--}function Gd(){return J.bindingsEnabled}function Wg(){return J.skipHydrationRootTNode!==null}function Wd(e){return J.skipHydrationRootTNode===e}function Kd(){J.skipHydrationRootTNode=null}function Y(){return J.lFrame.lView}function je(){return J.lFrame.tView}function x(e){return J.lFrame.contextLView=e,e[Ie]}function A(e){return J.lFrame.contextLView=null,e}function We(){let e=Yd();for(;e!==null&&e.type===64;)e=e.parent;return e}function Yd(){return J.lFrame.currentTNode}function Kg(){let e=J.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Di(e,t){let n=J.lFrame;n.currentTNode=e,n.isParent=t}function Zd(){return J.lFrame.isParent}function Yg(){J.lFrame.isParent=!1}function Jd(){return hd}function Qd(e){let t=hd;return hd=e,t}function Xd(){let e=J.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ef(){return J.lFrame.bindingIndex}function Zg(e){return J.lFrame.bindingIndex=e}function Ar(){return J.lFrame.bindingIndex++}function Ho(e){let t=J.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Jg(){return J.lFrame.inI18n}function Qg(e,t){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=e,nc(t)}function Xg(){return J.lFrame.currentDirectiveIndex}function nc(e){J.lFrame.currentDirectiveIndex=e}function em(e){let t=J.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function tf(e){J.lFrame.currentQueryIndex=e}function Gw(e){let t=e[$];return t.type===2?t.declTNode:t.type===1?e[Ct]:null}function nf(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=Gw(o),i===null||(o=o[Er],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=J.lFrame=tm();return r.currentTNode=t,r.lView=e,!0}function rc(e){let t=tm(),n=e[$];J.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function tm(){let e=J.lFrame,t=e===null?null:e.child;return t===null?nm(e):t}function nm(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function rm(){let e=J.lFrame;return J.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var rf=rm;function ic(){let e=rm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function im(e){return(J.lFrame.contextLView=Bg(e,J.lFrame.contextLView))[Ie]}function Ht(){return J.lFrame.selectedIndex}function qn(e){J.lFrame.selectedIndex=e}function oc(){let e=J.lFrame;return Bo(e.tView,e.selectedIndex)}function om(){return J.lFrame.currentNamespace}var sm=!0;function sc(){return sm}function ac(e){sm=e}function pd(e,t=null,n=null,r){let i=of(e,t,n,r);return i.resolveInjectorInitializers(),i}function of(e,t=null,n=null,r,i=new Set){let o=[n||at,Ng(e)];return r=r||(typeof e=="object"?void 0:_n(e)),new br(o,t||Fo(),r||null,i)}var dt=class e{static THROW_IF_NOT_FOUND=mr;static NULL=new xo;static create(t,n){if(Array.isArray(t))return pd({name:""},n,t,"");{let r=t.name??"";return pd({name:r},t.parent,t.providers,r)}}static \u0275prov=T({token:e,providedIn:"any",factory:()=>P(Nd)});static __NG_ELEMENT_ID__=-1},Te=new R(""),St=(()=>{class e{static __NG_ELEMENT_ID__=Ww;static __NG_ENV_ID__=n=>n}return e})(),gd=class extends St{_lView;constructor(t){super(),this._lView=t}get destroyed(){return xr(this._lView)}onDestroy(t){let n=this._lView;return qd(n,t),()=>$g(n,t)}};function Ww(){return new gd(Y())}var am=!1,cm=new R(""),Dn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new He(!1);debugTaskTracker=y(cm,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new W(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),md=class extends ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Fg()&&(this.destroyRef=y(St,{optional:!0})??void 0,this.pendingTasks=y(Dn,{optional:!0})??void 0)}emit(t){let n=L(null);try{super.next(t)}finally{L(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof $e&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},xe=md;function qa(...e){}function sf(e){let t,n;function r(){e=qa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function lm(e){return queueMicrotask(()=>e()),()=>{e=qa}}var af="isAngularZone",Ao=af+"_ID",Kw=0,Ge=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new xe(!1);onMicrotaskEmpty=new xe(!1);onStable=new xe(!1);onError=new xe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=am}=t;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Jw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(af)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new S(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Yw,qa,qa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Yw={};function cf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){sf(()=>{e.callbackScheduled=!1,vd(e),e.isCheckStableRunning=!0,cf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),vd(e)}function Jw(e){let t=()=>{Zw(e)},n=Kw++;e._inner=e._inner.fork({name:"angular",properties:{[af]:!0,[Ao]:n,[Ao+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Qw(c))return r.invokeTask(o,s,a,c);try{return Eg(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Dg(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Eg(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Xw(c)&&t(),Dg(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,vd(e),cf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function vd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Eg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dg(e){e._nesting--,cf(e)}var Ro=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new xe;onMicrotaskEmpty=new xe;onStable=new xe;onError=new xe;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Qw(e){return um(e,"__ignore_ng_zone__")}function Xw(e){return um(e,"__scheduler_tick__")}function um(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var tn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},gt=new R("",{factory:()=>{let e=y(Ge),t=y(_e),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(tn),n.handleError(r))})}}}),dm={provide:Cr,useValue:()=>{let e=y(tn,{optional:!0})},multi:!0},eC=new R("",{factory:()=>{let e=y(Te).defaultView;if(!e)return;let t=y(gt),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),y(St).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function lf(){return Vt([Rg(()=>{y(eC)})])}function k(e,t){let[n,r,i]=zu(e,t?.equal),o=n,s=o[it];return o.set=r,o.update=i,o.asReadonly=fm.bind(o),o}function fm(){let e=this[it];if(e.readonlyFn===void 0){let t=()=>this();t[it]=e,e.readonlyFn=t}return e.readonlyFn}var cc=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=tC}return e})();function tC(){return new cc(Y(),We())}var Vn=class{},qo=new R("",{factory:()=>!0});var uf=new R(""),lc=(()=>{class e{internalPendingTasks=y(Dn);scheduler=y(Vn);errorHandler=y(gt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),df=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new yd})}return e})(),yd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},_d=class{[it];constructor(t){this[it]=t}destroy(){this[it].destroy()}};function Ae(e){return Gu(e)}function Qo(e){return{toString:e}.toString()}function uC(e){return typeof e=="function"}function Bm(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var mc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},In=(()=>{let e=()=>$m;return e.ngInherit=!0,e})();function $m(e){return e.type.prototype.ngOnChanges&&(e.setInput=fC),dC}function dC(){let e=qm(this),t=e?.current;if(t){let n=e.previous;if(n===Bn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function fC(e,t,n,r,i){let o=this.declaredInputs[r],s=qm(e)||hC(e,{previous:Bn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new mc(l&&l.currentValue,n,c===Bn),Bm(e,t,i,n)}var Hm="__ngSimpleChanges__";function qm(e){return e[Hm]||null}function hC(e,t){return e[Hm]=t}var hm=[];var le=function(e,t=null,n){for(let r=0;r<hm.length;r++){let i=hm[r];i(e,t,n)}},re=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(re||{});function pC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=$m(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function zm(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function fc(e,t,n){Gm(e,t,3,n)}function hc(e,t,n,r){(e[q]&3)===n&&Gm(e,t,n,r)}function ff(e,t){let n=e[q];(n&3)===t&&(n&=16383,n+=1,e[q]=n)}function Gm(e,t,n,r){let i=r!==void 0?e[Ir]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Ir]+=65536),(a<o||o==-1)&&(gC(e,n,t,c),e[Ir]=(e[Ir]&4294901760)+c+2),c++}function pm(e,t){le(re.LifecycleHookStart,e,t);let n=L(null);try{t.call(e)}finally{L(n),le(re.LifecycleHookEnd,e,t)}}function gC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[q]>>14<e[Ir]>>16&&(e[q]&3)===t&&(e[q]+=16384,pm(a,o)):pm(a,o)}var Si=-1,Nr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function mC(e){return(e.flags&8)!==0}function vC(e){return(e.flags&16)!==0}function yC(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];_C(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Wm(e){return e===3||e===4||e===6}function _C(e){return e.charCodeAt(0)===64}function Ti(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gm(e,n,i,null,t[++r]):gm(e,n,i,null,null))}}return e}function gm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Km(e){return e!==Si}function vc(e){return e&32767}function bC(e){return e>>16}function yc(e,t){let n=bC(e),r=t;for(;n>0;)r=r[Er],n--;return r}var Cf=!0;function mm(e){let t=Cf;return Cf=e,t}var wC=256,Ym=wC-1,Zm=5,CC=0,sn={};function EC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(wr)&&(r=n[wr]),r==null&&(r=n[wr]=CC++);let i=r&Ym,o=1<<i;t.data[e+(i>>Zm)]|=o}function _c(e,t){let n=Jm(e,t);if(n!==-1)return n;let r=t[$];r.firstCreatePass&&(e.injectorIndex=t.length,hf(r.data,e),hf(t,null),hf(r.blueprint,null));let i=qf(e,t),o=e.injectorIndex;if(Km(i)){let s=vc(i),a=yc(i,t),c=a[$].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function hf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jm(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function qf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=nv(i),r===null)return Si;if(n++,i=i[Er],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Si}function Ef(e,t,n){EC(e,t,n)}function DC(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Wm(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Qm(e,t,n){if(n&8||e!==void 0)return e;Ya(t,"NodeInjector")}function Xm(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Cn],o=ft(void 0);try{return i?i.get(t,r,n&8):Ad(t,r,n&8)}finally{ft(o)}}return Qm(r,t,n)}function ev(e,t,n,r=0,i){if(e!==null){if(t[q]&2048&&!(r&2)){let s=xC(e,t,n,r,sn);if(s!==sn)return s}let o=tv(e,t,n,r,sn);if(o!==sn)return o}return Xm(t,n,r,i)}function tv(e,t,n,r,i){let o=TC(n);if(typeof o=="function"){if(!nf(t,e,r))return r&1?Qm(i,n,r):Xm(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ya(n);else return s}finally{rf()}}else if(typeof o=="number"){let s=null,a=Jm(e,t),c=Si,l=r&1?t[ht][Ct]:null;for((a===-1||r&4)&&(c=a===-1?qf(e,t):t[a+8],c===Si||!ym(r,!1)?a=-1:(s=t[$],a=vc(c),t=yc(c,t)));a!==-1;){let u=t[$];if(vm(o,a,u.data)){let d=IC(a,t,n,s,r,l);if(d!==sn)return d}c=t[a+8],c!==Si&&ym(r,t[$].data[a+8]===l)&&vm(o,a,t)?(s=u,a=vc(c),t=yc(c,t)):a=-1}}return i}function IC(e,t,n,r,i,o){let s=t[$],a=s.data[e+8],c=r==null?Hn(a)&&Cf:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=SC(a,s,n,c,l);return u!==null?bc(t,s,u,a,i):sn}function SC(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=s[c];if(f&&on(f)&&f.type===n)return c}return null}function bc(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Nr){let a=o;if(a.resolving)throw xd("");let c=mm(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?ft(a.injectImpl):null,h=nf(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&pC(n,s[n],t)}finally{d!==null&&ft(d),mm(c),a.resolving=!1,rf()}}return o}function TC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(wr)?e[wr]:void 0;return typeof t=="number"?t>=0?t&Ym:MC:t}function vm(e,t,n){let r=1<<e;return!!(n[t+(e>>Zm)]&r)}function ym(e,t){return!(e&2)&&!(e&1&&t)}var Rr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ev(this._tNode,this._lView,t,vr(r),n)}};function MC(){return new Rr(We(),Y())}function Sn(e){return Qo(()=>{let t=e.prototype.constructor,n=t[Mo]||Df(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Mo]||Df(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Df(e){return bd(e)?()=>{let t=Df(ze(e));return t&&t()}:yr(e)}function xC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[q]&2048&&!Ci(s);){let a=tv(o,s,n,r|2,sn);if(a!==sn)return a;let c=o.parent;if(!c){let l=s[jd];if(l){let u=l.get(n,sn,r);if(u!==sn)return u}c=nv(s),s=s[Er]}o=c}return i}function nv(e){let t=e[$],n=t.type;return n===2?t.declTNode:n===1?e[Ct]:null}function Xo(e){return DC(We(),e)}function AC(){return kc(We(),Y())}function kc(e,t){return new cn($t(e,t))}var cn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=AC}return e})();function rv(e){return(e.flags&128)===128}var zf=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(zf||{}),iv=new Map,RC=0;function NC(){return RC++}function OC(e){iv.set(e[En],e)}function If(e){iv.delete(e[En])}var _m="__ngContext__";function Mi(e,t){rn(t)?(e[_m]=t[En],OC(t)):e[_m]=t}function ov(e){return av(e[wi])}function sv(e){return av(e[wt])}function av(e){for(;e!==null&&!Bt(e);)e=e[wt];return e}var kC;function Gf(e){kC=e}var Pc=new R("",{factory:()=>PC}),PC="ng";var Fc=new R(""),es=new R("",{providedIn:"platform",factory:()=>"unknown"});var Lc=new R("",{factory:()=>y(Te).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cv="r";var lv="di";var uv=!1,dv=new R("",{factory:()=>uv});var FC=(e,t,n,r)=>{};function LC(e,t,n,r){FC(e,t,n,r)}function Wf(e){return(e.flags&32)===32}var jC=()=>null;function fv(e,t,n=!1){return jC(e,t,n)}function hv(e,t){let n=e.contentQueries;if(n!==null){let r=L(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];tf(o),a.contentQueries(2,t[s],s)}}}finally{L(r)}}}function Sf(e,t,n){tf(0);let r=L(null);try{t(e,n)}finally{L(r)}}function pv(e,t,n){if(Ud(t)){let r=L(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{L(r)}}}var Gt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Gt||{});var uc;function VC(){if(uc===void 0&&(uc=null,No.trustedTypes))try{uc=No.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return uc}function bm(e){return VC()?.createScriptURL(e)||e}var wc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${za})`}};function ts(e){return e instanceof wc?e.changingThisBreaksApplicationSecurity:e}function Kf(e,t){let n=gv(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${za})`)}return n===t}function gv(e){return e instanceof wc&&e.getTypeName()||null}var UC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mv(e){return e=String(e),e.match(UC)?e:"unsafe:"+e}function BC(e,t){return e.createText(t)}function $C(e,t,n){e.setValue(t,n)}function vv(e,t,n){return e.createElement(t,n)}function Cc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function yv(e,t,n){e.appendChild(t,n)}function wm(e,t,n,r,i){r!==null?Cc(e,t,n,r,i):yv(e,t,n)}function _v(e,t,n,r){e.removeChild(null,t,n,r)}function HC(e,t,n){e.setAttribute(t,"style",n)}function qC(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function bv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&yC(e,t,r),i!==null&&qC(e,t,i),o!==null&&HC(e,t,o)}var jc=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(jc||{});function Vc(e){let t=Cv();return t?t.sanitize(jc.URL,e)||"":Kf(e,"URL")?ts(e):mv(wn(e))}function wv(e){let t=Cv();if(t)return bm(t.sanitize(jc.RESOURCE_URL,e)||"");if(Kf(e,"ResourceURL"))return bm(ts(e));throw new S(904,!1)}var zC=new Set(["embed","frame","iframe","media","script"]),GC=new Set(["base","link","script"]);function WC(e,t){return t==="src"&&zC.has(e)||t==="href"&&GC.has(e)||t==="xlink:href"&&e==="script"?wv:Vc}function Yf(e,t,n){return WC(t,n)(e)}function Cv(){let e=Y();return e&&e[nn].sanitizer}function Ev(e){return e instanceof Function?e():e}function KC(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Dv="ng-template";function YC(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&KC(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zf(e){return e.type===4&&e.value!==Dv}function ZC(e,t,n){let r=e.type===4&&!n?Dv:e.value;return t===r}function JC(e,t,n){let r=4,i=e.attrs,o=i!==null?eE(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!qt(r)&&!qt(c))return!1;if(s&&qt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!ZC(e,c,n)||c===""&&t.length===1){if(qt(r))return!1;s=!0}}else if(r&8){if(i===null||!YC(e,i,c,n)){if(qt(r))return!1;s=!0}}else{let l=t[++a],u=QC(c,i,Zf(e),n);if(u===-1){if(qt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(qt(r))return!1;s=!0}}}}return qt(r)||s}function qt(e){return(e&1)===0}function QC(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tE(t,e)}function XC(e,t,n=!1){for(let r=0;r<t.length;r++)if(JC(e,t[r],n))return!0;return!1}function eE(e){for(let t=0;t<e.length;t++){let n=e[t];if(Wm(n))return t}return e.length}function tE(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Cm(e,t){return e?":not("+t.trim()+")":t}function nE(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!qt(s)&&(t+=Cm(o,i),i=""),r=s,o=o||!qt(r);n++}return i!==""&&(t+=Cm(o,i)),t}function rE(e){return e.map(nE).join(",")}function iE(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!qt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Ke={};function Jf(e,t,n,r,i,o,s,a,c,l,u){let d=Le+r,h=d+i,f=oE(d,h),p=typeof l=="function"?l():l;return f[$]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function oE(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ke);return n}function sE(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Jf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Qf(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Ut]=i,d[q]=r|4|128|8|64|1024,(l!==null||e&&e[q]&2048)&&(d[q]|=2048),$d(d),d[Pe]=d[Er]=e,d[Ie]=n,d[nn]=s||e&&e[nn],d[de]=a||e&&e[de],d[Cn]=c||e&&e[Cn]||null,d[Ct]=o,d[En]=NC(),d[_i]=u,d[jd]=l,d[ht]=t.type==2?e[ht]:d,d}function aE(e,t,n){let r=$t(t,e),i=sE(n),o=e[nn].rendererFactory,s=Xf(e,Qf(e,i,null,Iv(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Iv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Sv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Xf(e,t){return e[wi]?e[Ld][wt]=t:e[wi]=t,e[Ld]=t,t}function b(e=1){Tv(je(),Y(),Ht()+e,!1)}function Tv(e,t,n,r){if(!r)if((t[q]&3)===3){let o=e.preOrderCheckHooks;o!==null&&fc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&hc(t,o,0,n)}qn(n)}var Uc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Uc||{});function Tf(e,t,n,r){let i=L(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Uc.SignalBased)!==0&&(c=t[o][it]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Bm(t,c,o,r)}finally{L(i)}}var an=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(an||{}),cE;function eh(e,t){return cE(e,t)}var Or=new Set,Bc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Bc||{}),Tn=new R(""),Em=new Set;function Gn(e){Em.has(e)||(Em.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var th=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),Mv=[0,1,2,3],xv=(()=>{class e{ngZone=y(Ge);scheduler=y(Vn);errorHandler=y(tn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(Tn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&le(re.AfterRenderHooksStart),this.executing=!0;for(let r of Mv)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&le(re.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Tr]??=[]).push(n),Ei(r),r[q]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Bc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ec=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Tr];t&&(this.view[Tr]=t.filter(n=>n!==this))}};function ns(e,t){let n=t?.injector??y(dt);return Gn("NgAfterNextRender"),uE(e,n,t,!0)}function lE(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function uE(e,t,n,r){let i=t.get(th);i.impl??=t.get(xv);let o=t.get(Tn,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(St):null,a=t.get(cc,null,{optional:!0}),c=new Ec(i.impl,lE(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Av=new R("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:y(_e)})});function Rv(e,t,n){let r=e.get(Av);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function dE(e,t){let n=e.get(Av);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function fE(e,t){for(let[n,r]of t)Rv(e,r.animateFns)}function Dm(e,t,n,r){let i=e?.[Mr]?.enter;t!==null&&i&&i.has(n.index)&&fE(r,i)}function Ii(e,t,n,r,i,o,s,a){if(i!=null){let c,l=!1;Bt(i)?c=i:rn(i)&&(l=!0,i=i[Ut]);let u=Et(i);e===0&&r!==null?(Dm(a,r,o,n),s==null?yv(t,r,u):Cc(t,r,u,s||null,!0)):e===1&&r!==null?(Dm(a,r,o,n),Cc(t,r,u,s||null,!0)):e===2?Im(a,o,n,d=>{_v(t,u,l,d)}):e===3&&Im(a,o,n,()=>{t.destroyNode(u)}),c!=null&&IE(t,e,n,c,o,r,s)}}function hE(e,t){Nv(e,t),t[Ut]=null,t[Ct]=null}function pE(e,t,n,r,i,o){r[Ut]=i,r[Ct]=t,Hc(e,r,n,1,i,o)}function Nv(e,t){t[nn].changeDetectionScheduler?.notify(9),Hc(e,t,t[de],2,null,null)}function gE(e){let t=e[wi];if(!t)return pf(e[$],e);for(;t;){let n=null;if(rn(t))n=t[wi];else{let r=t[Se];r&&(n=r)}if(!n){for(;t&&!t[wt]&&t!==e;)rn(t)&&pf(t[$],t),t=t[Pe];t===null&&(t=e),rn(t)&&pf(t[$],t),n=t&&t[wt]}t=n}}function nh(e,t){let n=e[Vo],r=n.indexOf(t);n.splice(r,1)}function $c(e,t){if(xr(t))return;let n=t[de];n.destroyNode&&Hc(e,t,n,3,null,null),gE(t)}function pf(e,t){if(xr(t))return;let n=L(null);try{t[q]&=-129,t[q]|=256,t[pt]&&bo(t[pt]),yE(e,t),vE(e,t),t[$].type===1&&t[de].destroy();let r=t[Dr];if(r!==null&&Bt(t[Pe])){r!==t[Pe]&&nh(r,t);let i=t[Sr];i!==null&&i.detachView(e)}If(t)}finally{L(n)}}function Im(e,t,n,r){let i=e?.[Mr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&Or.add(e[En]),Rv(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),mE(e,r)}else e&&Or.delete(e[En]),r(!1)},i)}function mE(e,t){let n=e[Mr]?.running;if(n){n.then(()=>{e[Mr].running=void 0,Or.delete(e[En]),t(!0)});return}t(!1)}function vE(e,t){let n=e.cleanup,r=t[bi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[bi]=null);let i=t[yn];if(i!==null){t[yn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Lo];if(o!==null){t[Lo]=null;for(let s of o)s.destroy()}}function yE(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Nr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];le(re.LifecycleHookStart,a,c);try{c.call(a)}finally{le(re.LifecycleHookEnd,a,c)}}else{le(re.LifecycleHookStart,i,o);try{o.call(i)}finally{le(re.LifecycleHookEnd,i,o)}}}}}function _E(e,t,n){return bE(e,t.parent,n)}function bE(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ut];if(Hn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Gt.None||i===Gt.Emulated)return null}return $t(r,n)}function wE(e,t,n){return EE(e,t,n)}function CE(e,t,n){return e.type&40?$t(e,n):null}var EE=CE,Sm;function rh(e,t,n,r){let i=_E(e,r,t),o=t[de],s=r.parent||t[Ct],a=wE(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)wm(o,i,n[c],a,!1);else wm(o,i,n,a,!1);Sm!==void 0&&Sm(o,r,t,n,i)}function zo(e,t){if(t!==null){let n=t.type;if(n&3)return $t(t,e);if(n&4)return Mf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return zo(e,r);{let i=e[t.index];return Bt(i)?Mf(-1,i):Et(i)}}else{if(n&128)return zo(e,t.next);if(n&32)return eh(t,e)()||Et(e[t.index]);{let r=Ov(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=jn(e[ht]);return zo(i,r)}else return zo(e,t.next)}}}return null}function Ov(e,t){if(t!==null){let r=e[ht][Ct],i=t.projection;return r.projection[i]}return null}function Mf(e,t){let n=Se+e+1;if(n<t.length){let r=t[n],i=r[$].firstChild;if(i!==null)return zo(r,i)}return t[$n]}function ih(e,t,n,r,i,o,s){for(;n!=null;){let a=r[Cn];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&Mi(Et(c),r),n.flags|=2),!Wf(n))if(l&8)ih(e,t,n.child,r,i,o,!1),Ii(t,e,a,i,c,n,o,r);else if(l&32){let u=eh(n,r),d;for(;d=u();)Ii(t,e,a,i,d,n,o,r);Ii(t,e,a,i,c,n,o,r)}else l&16?DE(e,t,r,n,i,o):Ii(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Hc(e,t,n,r,i,o){ih(n,r,e.firstChild,t,i,o,!1)}function DE(e,t,n,r,i,o){let s=n[ht],c=s[Ct].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ii(t,e,n[Cn],i,u,r,o,n)}else{let l=c,u=s[Pe];rv(r)&&(l.flags|=128),ih(e,t,l,u,i,o,!0)}}function IE(e,t,n,r,i,o,s){let a=r[$n],c=Et(r);a!==c&&Ii(t,e,n,o,a,i,s);for(let l=Se;l<r.length;l++){let u=r[l];Hc(u[$],u,e,t,o,a)}}function SE(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:an.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=an.Important),e.setStyle(n,r,i,o))}}function kv(e,t,n,r,i){let o=Ht(),s=r&2;try{qn(-1),s&&t.length>Le&&Tv(e,t,Le,!1);let a=s?re.TemplateUpdateStart:re.TemplateCreateStart;le(a,i,n),n(r,i)}finally{qn(o);let a=s?re.TemplateUpdateEnd:re.TemplateCreateEnd;le(a,i,n)}}function oh(e,t,n){OE(e,t,n),(n.flags&64)===64&&kE(e,t,n)}function qc(e,t,n=$t){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function TE(e,t,n,r){let o=r.get(dv,uv)||n===Gt.ShadowDom||n===Gt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return ME(s),s}function ME(e){xE(e)}var xE=()=>null;function AE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Pv(e,t,n,r,i,o){let s=t[$];if(sh(e,s,t,n,r)){Hn(e)&&NE(t,e.index);return}e.type&3&&(n=AE(n)),RE(e,t,n,r,i,o)}function RE(e,t,n,r,i,o){if(e.type&3){let s=$t(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function NE(e,t){let n=Dt(t,e);n[q]&16||(n[q]|=64)}function OE(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Hn(n)&&aE(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||_c(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=bc(t,e,s,n);if(Mi(c,t),o!==null&&jE(t,s-r,c,a,n,o),on(a)){let l=Dt(n.index,t);l[Ie]=bc(t,e,s,n)}}}function kE(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Xg();try{qn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];nc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&PE(c,l)}}finally{qn(-1),nc(s)}}function PE(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Fv(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];XC(t,o.selectors,!1)&&(r??=[],on(o)?r.unshift(o):r.push(o))}return r}function FE(e,t,n,r,i,o){let s=$t(e,t);LE(t[de],s,o,e.value,n,r,i)}function LE(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?wn(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function jE(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Tf(r,n,c,l)}}function Lv(e,t,n,r,i){let o=Le+n,s=t[$],a=i(s,t,e,r,n);t[o]=a,Di(e,!0);let c=e.type===2;return c?(bv(t[de],a,e),(zg()===0||Uo(e))&&Mi(a,t),Gg()):Mi(a,t),sc()&&(!c||!Wf(e))&&rh(s,t,a,e),e}function jv(e){let t=e;return Zd()?Yg():(t=t.parent,Di(t,!1)),t}function VE(e,t){let n=e[Cn];if(!n)return;let r;try{r=n.get(gt,null)}catch{r=null}r?.(t)}function sh(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Tf(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Tf(u,l,r,i),a=!0}return a}function UE(e,t){let n=Dt(t,e),r=n[$];BE(r,n);let i=n[Ut];i!==null&&n[_i]===null&&(n[_i]=fv(i,n[Cn])),le(re.ComponentStart);try{ah(r,n,n[Ie])}finally{le(re.ComponentEnd,n[Ie])}}function BE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ah(e,t,n){rc(t);try{let r=e.viewQuery;r!==null&&Sf(1,r,n);let i=e.template;i!==null&&kv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Sr]?.finishViewCreation(e),e.staticContentQueries&&hv(e,t),e.staticViewQueries&&Sf(2,e.viewQuery,n);let o=e.components;o!==null&&$E(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[q]&=-5,ic()}}function $E(e,t){for(let n=0;n<t.length;n++)UE(e,t[n])}function zc(e,t,n,r){let i=L(null);try{let o=t.tView,a=e[q]&4096?4096:16,c=Qf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Dr]=l;let u=e[Sr];return u!==null&&(c[Sr]=u.createEmbeddedView(o)),ah(o,c,n),c}finally{L(i)}}function Wo(e,t){return!t||t.firstChild===null||rv(e)}function Ko(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Et(o)),Bt(o)&&Vv(o,r);let s=n.type;if(s&8)Ko(e,t,n.child,r);else if(s&32){let a=eh(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Ov(t,n);if(Array.isArray(a))r.push(...a);else{let c=jn(t[ht]);Ko(c[$],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Vv(e,t){for(let n=Se;n<e.length;n++){let r=e[n],i=r[$].firstChild;i!==null&&Ko(r[$],r,i,t)}e[$n]!==e[Ut]&&t.push(e[$n])}function Uv(e){if(e[Tr]!==null){for(let t of e[Tr])t.impl.addSequence(t);e[Tr].length=0}}var Bv=[];function HE(e){return e[pt]??qE(e)}function qE(e){let t=Bv.pop()??Object.create(GE);return t.lView=e,t}function zE(e){e.lView[pt]!==e&&(e.lView=null,Bv.push(e))}var GE=ee(I({},vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ei(e.lView)},consumerOnSignalRead(){this.lView[pt]=this}});function WE(e){let t=e[pt]??Object.create(KE);return t.lView=e,t}var KE=ee(I({},vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=jn(e.lView);for(;t&&!$v(t[$]);)t=jn(t);t&&Hd(t)},consumerOnSignalRead(){this.lView[pt]=this}});function $v(e){return e.type!==2}function Hv(e){if(e[Lo]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Lo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[q]&8192)}}var YE=100;function qv(e,t=0){let r=e[nn].rendererFactory,i=!1;i||r.begin?.();try{ZE(e,t)}finally{i||r.end?.()}}function ZE(e,t){let n=Jd();try{Qd(!0),xf(e,t);let r=0;for(;$o(e);){if(r===YE)throw new S(103,!1);r++,xf(e,1)}}finally{Qd(n)}}function JE(e,t,n,r){if(xr(t))return;let i=t[q],o=!1,s=!1;rc(t);let a=!0,c=null,l=null;o||($v(e)?(l=HE(t),c=_o(l)):da()===null?(a=!1,l=WE(t),c=_o(l)):t[pt]&&(bo(t[pt]),t[pt]=null));try{$d(t),Zg(e.bindingStartIndex),n!==null&&kv(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&fc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&hc(t,f,0,null),ff(t,0)}if(s||QE(t),Hv(t),zv(t,0),e.contentQueries!==null&&hv(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&fc(t,f)}else{let f=e.contentHooks;f!==null&&hc(t,f,1),ff(t,1)}eD(e,t);let d=e.components;d!==null&&Wv(t,d,0);let h=e.viewQuery;if(h!==null&&Sf(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&fc(t,f)}else{let f=e.viewHooks;f!==null&&hc(t,f,2),ff(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Xa]){for(let f of t[Xa])f();t[Xa]=null}o||(Uv(t),t[q]&=-73)}catch(u){throw o||Ei(t),u}finally{l!==null&&(fa(l,c),a&&zE(l)),ic()}}function zv(e,t){for(let n=ov(e);n!==null;n=sv(n))for(let r=Se;r<n.length;r++){let i=n[r];Gv(i,t)}}function QE(e){for(let t=ov(e);t!==null;t=sv(t)){if(!(t[q]&2))continue;let n=t[Vo];for(let r=0;r<n.length;r++){let i=n[r];Hd(i)}}}function XE(e,t,n){le(re.ComponentStart);let r=Dt(t,e);try{Gv(r,n)}finally{le(re.ComponentEnd,r[Ie])}}function Gv(e,t){ec(e)&&xf(e,t)}function xf(e,t){let r=e[$],i=e[q],o=e[pt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ha(o)),s||=!1,o&&(o.dirty=!1),e[q]&=-9217,s)JE(r,e,r.template,e[Ie]);else if(i&8192){let a=L(null);try{Hv(e),zv(e,1);let c=r.components;c!==null&&Wv(e,c,1),Uv(e)}finally{L(a)}}}function Wv(e,t,n){for(let r=0;r<t.length;r++)XE(e,t[r],n)}function eD(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qn(~i);else{let o=i,s=n[++r],a=n[++r];Qg(s,o);let c=t[o];le(re.HostBindingsUpdateStart,c);try{a(2,c)}finally{le(re.HostBindingsUpdateEnd,c)}}}}finally{qn(-1)}}function ch(e,t){let n=Jd()?64:1088;for(e[nn].changeDetectionScheduler?.notify(t);e;){e[q]|=n;let r=jn(e);if(Ci(e)&&!r)return e;e=r}return null}function Kv(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Yv(e,t){let n=Se+t;if(n<e.length)return e[n]}function Gc(e,t,n,r=!0){let i=t[$];if(tD(i,t,e,n),r){let s=Mf(n,e),a=t[de],c=a.parentNode(e[$n]);c!==null&&pE(i,e[Ct],a,t,c,s)}let o=t[_i];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zv(e,t){let n=Yo(e,t);return n!==void 0&&$c(n[$],n),n}function Yo(e,t){if(e.length<=Se)return;let n=Se+t,r=e[n];if(r){let i=r[Dr];i!==null&&i!==e&&nh(i,r),t>0&&(e[n-1][wt]=r[wt]);let o=ko(e,Se+t);hE(r[$],r);let s=o[Sr];s!==null&&s.detachView(o[$]),r[Pe]=null,r[wt]=null,r[q]&=-129}return r}function tD(e,t,n,r){let i=Se+r,o=n.length;r>0&&(n[i-1][wt]=t),r<o-Se?(t[wt]=n[i],Rd(n,Se+r,t)):(n.push(t),t[wt]=null),t[Pe]=n;let s=t[Dr];s!==null&&n!==s&&Jv(s,t);let a=t[Sr];a!==null&&a.insertView(e),tc(t),t[q]|=128}function Jv(e,t){let n=e[Vo],r=t[Pe];if(rn(r))e[q]|=2;else{let i=r[Pe][ht];t[ht]!==i&&(e[q]|=2)}n===null?e[Vo]=[t]:n.push(t)}var zn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[$];return Ko(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Ie]}set context(t){this._lView[Ie]=t}get destroyed(){return xr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Pe];if(Bt(t)){let n=t[jo],r=n?n.indexOf(this):-1;r>-1&&(Yo(t,r),ko(n,r))}this._attachedToViewContainer=!1}$c(this._lView[$],this._lView)}onDestroy(t){qd(this._lView,t)}markForCheck(){ch(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){tc(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,qv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ci(this._lView),n=this._lView[Dr];n!==null&&!t&&nh(n,this._lView),Nv(this._lView[$],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t;let n=Ci(this._lView),r=this._lView[Dr];r!==null&&!n&&Jv(r,this._lView),tc(this._lView)}};var Wc=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=nD;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=zc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new zn(o)}}return e})();function nD(){return rD(We(),Y())}function rD(e,t){return e.type&4?new Wc(t,e,kc(e,t)):null}function rs(e,t,n,r,i){let o=e.data[t];if(o===null)o=iD(e,t,n,r,i),Jg()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Kg();o.injectorIndex=s===null?-1:s.injectorIndex}return Di(o,!0),o}function iD(e,t,n,r,i){let o=Yd(),s=Zd(),a=s?o:o&&o.parent,c=e.data[t]=sD(e,a,n,t,r,i);return oD(e,c,o,s),c}function oD(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function sD(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Wg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function aD(e){let t=e[Vd]??[],r=e[Pe][de],i=[];for(let o of t)o.data[lv]!==void 0?i.push(o):cD(o,r);e[Vd]=i}function cD(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[cv];for(;n<i;){let o=r.nextSibling;_v(t,r,!1),r=o,n++}}}var lD=()=>null,uD=()=>null;function Af(e,t){return lD(e,t)}function Qv(e,t,n){return uD(e,t,n)}var Xv=class{},Kc=class{},Rf=class{resolveComponentFactory(t){throw new S(917,!1)}},is=class{static NULL=new Rf},kr=class{},Mn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>dD()}return e})();function dD(){let e=Y(),t=We(),n=Dt(t.index,e);return(rn(n)?n:e)[de]}var ey=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>null})}return e})();var pc={},Nf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,pc,r);return i!==pc||n===pc?i:this.parentInjector.get(t,n,r)}};function Dc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Ga(i,a);else if(o==2){let c=a,l=t[++s];r=Ga(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function X(e,t=0){let n=Y();if(n===null)return P(e,t);let r=We();return ev(r,n,ze(e),t)}function ty(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}pD(e,t,n,a,o,c,l)}o!==null&&r!==null&&fD(n,r,o)}function fD(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new S(-301,!1);r.push(t[i],o)}}function hD(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function pD(e,t,n,r,i,o,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&on(f)&&(c=f,hD(e,n,h)),Ef(_c(n,t),e,f.type)}bD(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Sv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Ti(n.mergedAttrs,f.hostAttrs),mD(e,n,t,d,f),_D(d,f,i),s!==null&&s.has(f)){let[_,C]=s.get(f);n.directiveToIndex.set(f.type,[d,_+n.directiveStart,C+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}gD(e,n,o)}function gD(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Tm(0,t,i,r),Tm(1,t,i,r),xm(t,r,!1);else{let o=n.get(i);Mm(0,t,o,r),Mm(1,t,o,r),xm(t,r,!0)}}}function Tm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),ny(t,o)}}function Mm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ny(t,s)}}function ny(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function xm(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Zf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function mD(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=yr(i.type,!0)),s=new Nr(o,on(i),X,null);e.blueprint[r]=s,n[r]=s,vD(e,t,r,Sv(e,n,i.hostVars,Ke),i)}function vD(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;yD(s)!=a&&s.push(a),s.push(n,r,o)}}function yD(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function _D(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;on(t)&&(n[""]=e)}}function bD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ry(e,t,n,r,i,o,s,a){let c=t[$],l=c.consts,u=It(l,s),d=rs(c,e,n,r,u);return o&&ty(c,t,d,It(l,a),i),d.mergedAttrs=Ti(d.mergedAttrs,d.attrs),d.attrs!==null&&Dc(d,d.attrs,!1),d.mergedAttrs!==null&&Dc(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function iy(e,t){zm(e,t),Ud(t)&&e.queries.elementEnd(t)}function wD(e,t,n,r,i,o){let s=t.consts,a=It(s,i),c=rs(t,e,n,r,a);if(c.mergedAttrs=Ti(c.mergedAttrs,c.attrs),o!=null){let l=It(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Dc(c,c.attrs,!1),c.mergedAttrs!==null&&Dc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function oy(e,t,n){return e[t]=n}function CD(e,t){return e[t]}function Tt(e,t,n){if(n===Ke)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function sy(e,t,n,r){let i=Tt(e,t,n);return Tt(e,t+1,r)||i}function ED(e,t,n,r,i){let o=sy(e,t,n,r);return Tt(e,t+2,i)||o}function gc(e,t,n){return function r(i){let o=Hn(e)?Dt(e.index,t):t;ch(o,5);let s=t[Ie],a=Am(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Am(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Am(e,t,n,r){let i=L(null);try{return le(re.OutputStart,t,n),n(r)!==!1}catch(o){return VE(e,o),!1}finally{le(re.OutputEnd,t,n),L(i)}}function ay(e,t,n,r,i,o,s,a){let c=Uo(e),l=!1,u=null;if(!r&&c&&(u=ID(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=$t(e,n),h=r?r(d):d;LC(n,h,o,a);let f=i.listen(h,o,a);if(!DD(o)){let p=r?_=>r(Et(_[e.index])):e.index;cy(p,t,n,o,a,f,!1)}}return l}function DD(e){return e.startsWith("animation")||e.startsWith("transition")}function ID(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[bi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function cy(e,t,n,r,i,o,s){let a=t.firstCreatePass?qg(t):null,c=Hg(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function Rm(e,t,n,r,i,o){let s=t[n],a=t[$],l=a.data[n].outputs[r],d=s[l].subscribe(o);cy(e.index,a,t,i,o,d,!0)}var Of=Symbol("BINDING");var Ic=class extends is{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Un(t);return new xi(n,this.ngModule)}};function SD(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Uc.SignalBased)!==0};return i&&(o.transform=i),o})}function TD(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function MD(e,t,n){let r=t instanceof _e?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Nf(n,r):n}function xD(e){let t=e.get(kr,null);if(t===null)throw new S(407,!1);let n=e.get(ey,null),r=e.get(Vn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function AD(e,t){let n=ly(e);return vv(t,n,n==="svg"?jg:n==="math"?Vg:null)}function ly(e){return(e.selectors[0][0]||"div").toLowerCase()}var xi=class extends Kc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=SD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=TD(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=rE(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){le(re.DynamicComponentStart);let a=L(null);try{let c=this.componentDef,l=RD(r,c,s,o),u=MD(c,i||this.ngModule,t),d=xD(u),h=d.rendererFactory.createRenderer(null,c),f=r?TE(h,r,c.encapsulation,u):AD(c,h),p=s?.some(Nm)||o?.some(w=>typeof w!="function"&&w.bindings.some(Nm)),_=Qf(null,l,null,512|Iv(c),null,null,d,h,u,null,fv(f,u,!0));_[Le]=f,rc(_);let C=null;try{let w=ry(Le,_,2,"#host",()=>l.directiveRegistry,!0,0);bv(h,f,w),Mi(f,_),oh(l,_,w),pv(l,w,_),iy(l,w),n!==void 0&&OD(w,this.ngContentSelectors,n),C=Dt(w.index,_),_[Ie]=C[Ie],ah(l,_,null)}catch(w){throw C!==null&&If(C),If(_),w}finally{le(re.DynamicComponentEnd),ic()}return new Sc(this.componentType,_,!!p)}finally{L(a)}}};function RD(e,t,n,r){let i=e?["ng-version","21.1.2"]:iE(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Of].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[Of].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=Md(d);c.push(h)}return Jf(0,null,ND(o,s),1,a,c,null,null,null,[i],null)}function ND(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Nm(e){let t=e[Of].kind;return t==="input"||t==="twoWay"}var Sc=class extends Xv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Bo(n[$],Le),this.location=kc(this._tNode,n),this.instance=Dt(this._tNode.index,n)[Ie],this.hostView=this.changeDetectorRef=new zn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=sh(r,i[$],i,t,n);this.previousInputValues.set(t,n);let s=Dt(r.index,i);ch(s,1)}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function OD(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ri=(()=>{class e{static __NG_ELEMENT_ID__=kD}return e})();function kD(){let e=We();return FD(e,Y())}var PD=Ri,uy=class extends PD{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return kc(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){let t=qf(this._hostTNode,this._hostLView);if(Km(t)){let n=yc(t,this._hostLView),r=vc(t),i=n[$].data[r+8];return new Rr(i,n)}else return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Om(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Se}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Af(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Wo(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!uC(t),l;if(c)l=n;else{let C=n||{};l=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef,s=C.directives,a=C.bindings}let u=c?t:new xi(Un(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let w=(c?d:this.parentInjector).get(_e,null);w&&(o=w)}let h=Un(u.componentType??{}),f=Af(this._lContainer,h?.id??null),p=f?.firstChild??null,_=u.create(d,i,p,o,s,a);return this.insertImpl(_.hostView,l,Wo(this._hostTNode,f)),_}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(Ug(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Pe],l=new uy(c,c[Ct],c[Pe]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Gc(s,i,o,r),t.attachToViewContainerRef(),Rd(gf(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Om(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Yo(this._lContainer,n);r&&(ko(gf(this._lContainer),n),$c(r[$],r))}detach(t){let n=this._adjustIndex(t,-1),r=Yo(this._lContainer,n);return r&&ko(gf(this._lContainer),n)!=null?new zn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Om(e){return e[jo]}function gf(e){return e[jo]||(e[jo]=[])}function FD(e,t){let n,r=t[e.index];return Bt(r)?n=r:(n=Kv(r,t,null,e),t[e.index]=n,Xf(t,n)),jD(n,t,e,r),new uy(n,e,t)}function LD(e,t){let n=e[de],r=n.createComment(""),i=$t(t,e),o=n.parentNode(i);return Cc(n,o,r,n.nextSibling(i),!1),r}var jD=BD,VD=()=>!1;function UD(e,t,n){return VD(e,t,n)}function BD(e,t,n,r){if(e[$n])return;let i;n.type&8?i=Et(r):i=LD(t,n),e[$n]=i}var Pr=class{},Yc=class{};var Tc=class extends Pr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ic(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Td(t);this._bootstrapComponents=Ev(o.bootstrap),this._r3Injector=of(t,n,[{provide:Pr,useValue:this},{provide:is,useValue:this.componentFactoryResolver},...r],_n(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Mc=class extends Yc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Tc(this.moduleType,t,[])}};var Zo=class extends Pr{injector;componentFactoryResolver=new Ic(this);instance=null;constructor(t){super();let n=new br([...t.providers,{provide:Pr,useValue:this},{provide:is,useValue:this.componentFactoryResolver}],t.parent||Fo(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function os(e,t,n=null){return new Zo({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var $D=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=kd(!1,n.type),i=r.length>0?os([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(P(_e))})}return e})();function be(e){return Qo(()=>{let t=dy(e),n=ee(I({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===zf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get($D).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gt.Emulated,styles:e.styles||at,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Gn("NgStandalone"),fy(n);let r=e.dependencies;return n.directiveDefs=km(r,HD),n.pipeDefs=km(r,Sg),n.id=GD(n),n})}function HD(e){return Un(e)||Md(e)}function Wt(e){return Qo(()=>({type:e.type,bootstrap:e.bootstrap||at,declarations:e.declarations||at,imports:e.imports||at,exports:e.exports||at,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function qD(e,t){if(e==null)return Bn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Uc.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function zD(e){if(e==null)return Bn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ce(e){return Qo(()=>{let t=dy(e);return fy(t),t})}function dy(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Bn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||at,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:qD(e.inputs,t),outputs:zD(e.outputs),debugInfo:null}}function fy(e){e.features?.forEach(t=>t(e))}function km(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function GD(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function WD(e){return Object.getPrototypeOf(e.prototype).constructor}function Mt(e){let t=WD(e.type),n=!0,r=[e];for(;t;){let i;if(on(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=mf(e.inputs),s.declaredInputs=mf(e.declaredInputs),s.outputs=mf(e.outputs);let a=i.hostBindings;a&&QD(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&ZD(e,c),l&&JD(e,l),KD(e,i),Ig(e.outputs,i.outputs),on(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Mt&&(n=!1)}}t=Object.getPrototypeOf(t)}YD(r)}function KD(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function YD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ti(i.hostAttrs,n=Ti(n,i.hostAttrs))}}function mf(e){return e===Bn?{}:e===at?[]:e}function ZD(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function JD(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function QD(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function hy(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Ti(e.mergedAttrs,e.attrs);let u=e.tView=Jf(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Di(e,!1);let c=eI(n,t,e,r);sc()&&rh(n,t,c,e),Mi(c,t);let l=Kv(c,t,c,e);t[r+Le]=l,Xf(t,l),UD(l,e,t)}function XD(e,t,n,r,i,o,s,a,c,l,u){let d=n+Le,h;return t.firstCreatePass?(h=rs(t,d,4,s||null,a||null),Gd()&&ty(t,e,h,It(t.consts,l),Fv),zm(t,h)):h=t.data[d],hy(h,e,t,n,r,i,o,c),Uo(h)&&oh(t,e,h),l!=null&&qc(e,h,u),h}function xc(e,t,n,r,i,o,s,a,c,l,u){let d=n+Le,h;if(t.firstCreatePass){if(h=rs(t,d,4,s||null,a||null),l!=null){let f=It(t.consts,l);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return hy(h,e,t,n,r,i,o,c),l!=null&&qc(e,h,u),h}function Zc(e,t,n,r,i,o,s,a){let c=Y(),l=je(),u=It(l.consts,o);return XD(c,l,e,t,n,r,i,u,void 0,s,a),Zc}var eI=tI;function tI(e,t,n,r){return ac(!0),t[de].createComment("")}var lh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function py(e){return typeof e=="function"&&e[it]!==void 0}function uh(e){return py(e)&&typeof e.set=="function"}var dh=new R("");function Wn(e){return!!e&&typeof e.then=="function"}function fh(e){return!!e&&typeof e.subscribe=="function"}var hh=new R("");function Jc(e){return Vt([{provide:hh,multi:!0,useValue:e}])}var ph=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=y(hh,{optional:!0})??[];injector=y(dt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Fe(this.injector,i);if(Wn(o))n.push(o);else if(fh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qc=new R("");function gy(){qu(()=>{let e="";throw new S(600,e)})}function my(e){return e.isBoundToModule}var nI=10;var Kt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(gt);afterRenderManager=y(th);zonelessEnabled=y(qo);rootEffectScheduler=y(df);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y(Dn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(V(n=>!n))}constructor(){y(Tn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=y(_e);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=dt.NULL){return this._injector.get(Ge).run(()=>{le(re.BootstrapComponentStart);let s=n instanceof Kc;if(!this._injector.get(ph).done){let p="";throw new S(405,p)}let c;s?c=n:c=this._injector.get(is).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=my(c)?void 0:this._injector.get(Pr),u=r||c.selector,d=c.create(i,[],u,l),h=d.location.nativeElement,f=d.injector.get(dh,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Go(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),le(re.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){le(re.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Bc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw le(re.ChangeDetectionEnd),new S(101,!1);let n=L(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,L(n),this.afterTick.next(),le(re.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(kr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<nI;){le(re.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{le(re.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$o(i))continue;let o=r&&!this.zonelessEnabled?0:1;qv(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$o(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Go(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Qc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Go(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Go(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ni(e,t,n,r){let i=Y(),o=Ar();if(Tt(i,o,t)){let s=je(),a=oc();FE(a,i,e,t,n,r)}return Ni}var Cj=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var kf=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function vf(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function rI(e,t,n,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){L(r);let l=t.length-1;for(L(null);s<=a&&s<=l;){let u=e.at(s),d=t[s],h=vf(s,u,s,d,n);if(h!==0){h<0&&e.updateValue(s,d),s++;continue}let f=e.at(a),p=t[l],_=vf(a,f,l,p,n);if(_!==0){_<0&&e.updateValue(a,p),a--,l--;continue}let C=n(s,u),w=n(a,f),O=n(s,d);if(Object.is(O,w)){let M=n(l,p);Object.is(M,C)?(e.swap(s,a),e.updateValue(a,p),l--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(i??=new Ac,o??=Fm(e,s,a,n),Pf(e,i,s,O))e.updateValue(s,d),s++,a++;else if(o.has(O))i.set(C,e.detach(s)),a--;else{let M=e.create(s,t[s]);e.attach(s,M),s++,a++}}for(;s<=l;)Pm(e,i,n,s,t[s]),s++}else if(t!=null){L(r);let l=t[Symbol.iterator]();L(null);let u=l.next();for(;!u.done&&s<=a;){let d=e.at(s),h=u.value,f=vf(s,d,s,h,n);if(f!==0)f<0&&e.updateValue(s,h),s++,u=l.next();else{i??=new Ac,o??=Fm(e,s,a,n);let p=n(s,h);if(Pf(e,i,s,p))e.updateValue(s,h),s++,a++,u=l.next();else if(!o.has(p))e.attach(s,e.create(s,h)),s++,a++,u=l.next();else{let _=n(s,d);i.set(_,e.detach(s)),a--}}}for(;!u.done;)Pm(e,i,n,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}function Pf(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function Pm(e,t,n,r,i){if(Pf(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function Fm(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Ac=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function U(e,t,n,r,i,o,s,a){Gn("NgControlFlow");let c=Y(),l=je(),u=It(l.consts,o);return xc(c,l,e,t,n,r,i,u,256,s,a),gh}function gh(e,t,n,r,i,o,s,a){Gn("NgControlFlow");let c=Y(),l=je(),u=It(l.consts,o);return xc(c,l,e,t,n,r,i,u,512,s,a),gh}function B(e,t){Gn("NgControlFlow");let n=Y(),r=Ar(),i=n[r]!==Ke?n[r]:-1,o=i!==-1?Rc(n,Le+i):void 0,s=0;if(Tt(n,r,e)){let a=L(null);try{if(o!==void 0&&Zv(o,s),e!==-1){let c=Le+e,l=Rc(n,c),u=Vf(n[$],c),d=Qv(l,u,n),h=zc(n,u,t,{dehydratedView:d});Gc(l,h,s,Wo(u,d))}}finally{L(a)}}else if(o!==void 0){let a=Yv(o,s);a!==void 0&&(a[Ie]=t)}}var Ff=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Se}};function Kn(e,t){return t}var Lf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function et(e,t,n,r,i,o,s,a,c,l,u,d,h){Gn("NgControlFlow");let f=Y(),p=je(),_=c!==void 0,C=Y(),w=a?s.bind(C[ht][Ie]):s,O=new Lf(_,w);C[Le+e]=O,xc(f,p,e+1,t,n,r,i,It(p.consts,o),256),_&&xc(f,p,e+2,c,l,u,d,It(p.consts,h),512)}var jf=class extends kf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Se}at(t){return this.getLView(t)[Ie].$implicit}attach(t,n){let r=n[_i];this.needsIndexUpdate||=t!==this.length,Gc(this.lContainer,n,t,Wo(this.templateTNode,r)),iI(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,oI(this.lContainer,t),sI(this.lContainer,t)}create(t,n){let r=Af(this.lContainer,this.templateTNode.tView.ssrId);return zc(this.hostLView,this.templateTNode,new Ff(this.lContainer,n,t),{dehydratedView:r})}destroy(t){$c(t[$],t)}updateValue(t,n){this.getLView(t)[Ie].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Ie].$index=t}getLView(t){return aI(this.lContainer,t)}};function tt(e){let t=L(null),n=Ht();try{let r=Y(),i=r[$],o=r[n],s=n+1,a=Rc(r,s);if(o.liveCollection===void 0){let l=Vf(i,s);o.liveCollection=new jf(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(rI(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){let l=Ar(),u=c.length===0;if(Tt(r,l,u)){let d=n+2,h=Rc(r,d);if(u){let f=Vf(i,d),p=Qv(h,f,r),_=zc(r,f,void 0,{dehydratedView:p});Gc(h,_,0,Wo(f,p))}else i.firstUpdatePass&&aD(h),Zv(h,0)}}}finally{L(t)}}function Rc(e,t){return e[t]}function iI(e,t){if(e.length<=Se)return;let n=Se+t,r=e[n],i=r?r[Mr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Cn];dE(o,i),Or.delete(r[En]),i.detachedLeaveAnimationFns=void 0}}function oI(e,t){if(e.length<=Se)return;let n=Se+t,r=e[n],i=r?r[Mr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function sI(e,t){return Yo(e,t)}function aI(e,t){return Yv(e,t)}function Vf(e,t){return Bo(e,t)}function Ee(e,t,n){let r=Y(),i=Ar();if(Tt(r,i,t)){let o=je(),s=oc();Pv(s,r,e,t,r[de],n)}return Ee}function Uf(e,t,n,r,i){sh(t,e,n,i?"class":"style",r)}function g(e,t,n,r){let i=Y(),o=i[$],s=e+Le,a=o.firstCreatePass?ry(s,i,2,t,Fv,Gd(),n,r):o.data[s];if(Lv(a,i,e,t,vy),Uo(a)){let c=i[$];oh(c,i,a),pv(c,a,i)}return r!=null&&qc(i,a),g}function m(){let e=je(),t=We(),n=jv(t);return e.firstCreatePass&&iy(e,n),Wd(n)&&Kd(),zd(),n.classesWithoutHost!=null&&mC(n)&&Uf(e,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&vC(n)&&Uf(e,n,Y(),n.stylesWithoutHost,!1),m}function xn(e,t,n,r){return g(e,t,n,r),m(),xn}function Re(e,t,n,r){let i=Y(),o=i[$],s=e+Le,a=o.firstCreatePass?wD(s,o,2,t,n,r):o.data[s];return Lv(a,i,e,t,vy),r!=null&&qc(i,a),Re}function Ve(){let e=We(),t=jv(e);return Wd(t)&&Kd(),zd(),Ve}var vy=(e,t,n,r,i)=>(ac(!0),vv(t[de],r,om()));function te(){return Y()}var ss="en-US";var cI=ss;function yy(e){typeof e=="string"&&(cI=e.toLowerCase().replace(/_/g,"-"))}function H(e,t,n){let r=Y(),i=je(),o=We();return _y(i,r,r[de],o,e,t,n),H}function xt(e,t,n){let r=Y(),i=je(),o=We();return(o.type&3||n)&&ay(o,i,r,n,r[de],e,t,gc(o,r,t)),xt}function _y(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=gc(r,t,o),ay(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=gc(r,t,o),Rm(r,t,h,f,i,c)}if(l&&l.length)for(let d of l)c??=gc(r,t,o),Rm(r,t,d,i,i,c)}}function E(e=1){return im(e)}function dc(e,t){return e<<17|t<<2}function Fr(e){return e>>17&32767}function lI(e){return(e&2)==2}function uI(e,t){return e&131071|t<<17}function Bf(e){return e|2}function Ai(e){return(e&131068)>>2}function yf(e,t){return e&-131069|t<<2}function dI(e){return(e&1)===1}function $f(e){return e|1}function fI(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Fr(s),c=Ai(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||yi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Fr(e[a+1]);e[r+1]=dc(h,a),h!==0&&(e[h+1]=yf(e[h+1],r)),e[a+1]=uI(e[a+1],r)}else e[r+1]=dc(a,0),a!==0&&(e[a+1]=yf(e[a+1],r)),a=r;else e[r+1]=dc(c,0),a===0?a=r:e[c+1]=yf(e[c+1],r),c=r;l&&(e[r+1]=Bf(e[r+1])),Lm(e,u,r,!0),Lm(e,u,r,!1),hI(t,u,e,r,o),s=dc(a,c),o?t.classBindings=s:t.styleBindings=s}function hI(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&yi(o,t)>=0&&(n[r+1]=$f(n[r+1]))}function Lm(e,t,n,r){let i=e[n+1],o=t===null,s=r?Fr(i):Ai(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];pI(c,t)&&(a=!0,e[s+1]=r?$f(l):Bf(l)),s=r?Fr(l):Ai(l)}a&&(e[n+1]=r?Bf(i):$f(i))}function pI(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?yi(e,t)>=0:!1}var zt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gI(e){return e.substring(zt.key,zt.keyEnd)}function mI(e){return vI(e),by(e,wy(e,0,zt.textEnd))}function by(e,t){let n=zt.textEnd;return n===t?-1:(t=zt.keyEnd=yI(e,zt.key=t,n),wy(e,t,n))}function vI(e){zt.key=0,zt.keyEnd=0,zt.value=0,zt.valueEnd=0,zt.textEnd=e.length}function wy(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function yI(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Lr(e,t){return bI(e,t,null,!0),Lr}function as(e){wI(TI,_I,e,!0)}function _I(e,t){for(let n=mI(t);n>=0;n=by(t,n))Ja(e,gI(t),!0)}function bI(e,t,n,r){let i=Y(),o=je(),s=Ho(2);if(o.firstUpdatePass&&Ey(o,e,s,r),t!==Ke&&Tt(i,s,t)){let a=o.data[Ht()];Dy(o,a,i,i[de],e,i[s+1]=xI(t,n),r,s)}}function wI(e,t,n,r){let i=je(),o=Ho(2);i.firstUpdatePass&&Ey(i,null,o,r);let s=Y();if(n!==Ke&&Tt(s,o,n)){let a=i.data[Ht()];if(Iy(a,r)&&!Cy(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Ga(c,n||"")),Uf(i,a,s,n,r)}else MI(i,a,s,s[de],s[o+1],s[o+1]=SI(e,t,n),r,o)}}function Cy(e,t){return t>=e.expandoStartIndex}function Ey(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Ht()],s=Cy(e,n);Iy(o,r)&&t===null&&!s&&(t=!1),t=CI(i,o,t,r),fI(i,o,t,n,s,r)}}function CI(e,t,n,r){let i=em(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=_f(null,e,t,n,r),n=Jo(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=_f(i,e,t,n,r),o===null){let c=EI(e,t,r);c!==void 0&&Array.isArray(c)&&(c=_f(null,e,t,c[1],r),c=Jo(c,t.attrs,r),DI(e,t,r,c))}else o=II(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function EI(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ai(r)!==0)return e[Fr(r)]}function DI(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Fr(i)]=r}function II(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Jo(r,s,n)}return Jo(r,t.attrs,n)}function _f(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Jo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Jo(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ja(e,s,n?!0:t[++o]))}return e===void 0?null:e}function SI(e,t,n){if(n==null||n==="")return at;let r=[],i=ts(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(i instanceof Set)for(let o of i)e(r,o,!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function TI(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Ja(e,r,n)}function MI(e,t,n,r,i,o,s,a){i===Ke&&(i=at);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,p=null,_;u===d?(c+=2,l+=2,h!==f&&(p=d,_=f)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,_=f),p!==null&&Dy(e,t,n,r,p,_,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Dy(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=dI(l)?jm(c,t,n,i,Ai(l),s):void 0;if(!Nc(u)){Nc(o)||lI(l)&&(o=jm(c,null,n,i,a,s));let d=Bd(Ht(),n);SE(r,s,d,i,o)}}function jm(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Ke&&(h=d?at:void 0);let f=d?Qa(h,r):u===r?h:void 0;if(l&&!Nc(f)&&(f=Qa(c,r)),Nc(f)&&(a=f,s))return a;let p=e[i+1];i=s?Fr(p):Ai(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Qa(c,r))}return a}function Nc(e){return e!==void 0}function xI(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=_n(ts(e)))),e}function Iy(e,t){return(e.flags&(t?8:16))!==0}function v(e,t=""){let n=Y(),r=je(),i=e+Le,o=r.firstCreatePass?rs(r,i,1,t,null):r.data[i],s=AI(r,n,o,t);n[i]=s,sc()&&rh(r,n,s,o),Di(o,!1)}var AI=(e,t,n,r)=>(ac(!0),BC(t[de],r));function RI(e,t,n,r=""){return Tt(e,Ar(),n)?t+wn(n)+r:Ke}function NI(e,t,n,r,i,o=""){let s=ef(),a=sy(e,s,n,i);return Ho(2),a?t+wn(n)+r+wn(i)+o:Ke}function OI(e,t,n,r,i,o,s,a=""){let c=ef(),l=ED(e,c,n,i,s);return Ho(3),l?t+wn(n)+r+wn(i)+o+wn(s)+a:Ke}function K(e){return fe("",e),K}function fe(e,t,n){let r=Y(),i=RI(r,e,t,n);return i!==Ke&&mh(r,Ht(),i),fe}function Xc(e,t,n,r,i){let o=Y(),s=NI(o,e,t,n,r,i);return s!==Ke&&mh(o,Ht(),s),Xc}function Oi(e,t,n,r,i,o,s){let a=Y(),c=OI(a,e,t,n,r,i,o,s);return c!==Ke&&mh(a,Ht(),c),Oi}function mh(e,t,n){let r=Bd(t,e);$C(e[de],r,n)}function he(e,t,n){uh(t)&&(t=t());let r=Y(),i=Ar();if(Tt(r,i,t)){let o=je(),s=oc();Pv(s,r,e,t,r[de],n)}return he}function ve(e,t){let n=uh(e);return n&&e.set(t),n}function pe(e,t){let n=Y(),r=je(),i=We();return _y(r,n,n[de],i,e,t),pe}function Vm(e,t,n){let r=je();r.firstCreatePass&&Sy(t,r.data,r.blueprint,on(e),n)}function Sy(e,t,n,r,i){if(e=ze(e),Array.isArray(e))for(let o=0;o<e.length;o++)Sy(e[o],t,n,r,i);else{let o=je(),s=Y(),a=We(),c=_r(e)?e:ze(e.provide),l=Fd(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(_r(e)||!e.multi){let f=new Nr(l,i,X,null),p=wf(c,t,i?u:u+h,d);p===-1?(Ef(_c(a,s),o,c),bf(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=wf(c,t,u+h,d),p=wf(c,t,u,u+h),_=f>=0&&n[f],C=p>=0&&n[p];if(i&&!C||!i&&!_){Ef(_c(a,s),o,c);let w=FI(i?PI:kI,n.length,i,r,l,e);!i&&C&&(n[p].providerFactory=w),bf(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=Ty(n[i?p:f],l,!i&&r);bf(o,e,f>-1?f:p,w)}!i&&r&&C&&n[p].componentProviders++}}}function bf(e,t,n,r){let i=_r(t),o=Pg(t);if(i||o){let c=(o?ze(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Ty(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function wf(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function kI(e,t,n,r,i){return Hf(this.multi,[])}function PI(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=bc(r,r[$],this.providerFactory.index,i);s=c.slice(0,a),Hf(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Hf(o,s);return s}function Hf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function FI(e,t,n,r,i,o){let s=new Nr(e,n,X,null);return s.multi=[],s.index=t,s.componentProviders=0,Ty(s,i,r&&!n),s}function Yn(e,t){return n=>{n.providersResolver=(r,i)=>Vm(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>Vm(r,i?i(t):t,!0))}}function vh(e,t){let n=Xd()+e,r=Y();return r[n]===Ke?oy(r,n,t()):CD(r,n)}function An(e,t,n){return jI(Y(),Xd(),e,t,n)}function LI(e,t){let n=e[t];return n===Ke?void 0:n}function jI(e,t,n,r,i,o){let s=t+n;return Tt(e,s,i)?oy(e,s+1,o?r.call(o,i):r(i)):LI(e,s+1)}var Oc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},yh=(()=>{class e{compileModuleSync(n){return new Mc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Td(n),o=Ev(i.declarations).reduce((s,a)=>{let c=Un(a);return c&&s.push(new xi(c)),s},[]);return new Oc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var My=(()=>{class e{applicationErrorHandler=y(gt);appRef=y(Kt);taskService=y(Dn);ngZone=y(Ge);zonelessEnabled=y(qo);tracing=y(Tn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ao):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(uf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?lm:sf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ao+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xy(){return[{provide:Vn,useExisting:My},{provide:Ge,useClass:Ro},{provide:qo,useValue:!0}]}function VI(){return typeof $localize<"u"&&$localize.locale||ss}var el=new R("",{factory:()=>y(el,{optional:!0,skipSelf:!0})||VI()});function Ye(e,t){return pa(e,t?.equal)}var Ry=Symbol("InputSignalNode#UNSET"),sS=ee(I({},ga),{transformFn:void 0,applyValueToInputSignal(e,t){wo(e,t)}});function Ny(e,t){let n=Object.create(sS);n.value=e,n.transformFn=t?.transform;function r(){if(yo(n),n.value===Ry){let i=null;throw new S(-950,i)}return n.value}return r[it]=n,r}var nl=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Xo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function Ay(e,t){return Ny(e,t)}function aS(e){return Ny(Ry,e)}var Oy=(Ay.required=aS,Ay);var _h=new R(""),cS=new R("");function cs(e){return!e.moduleRef}function lS(e){let t=cs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Ge);return n.run(()=>{cs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(gt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),cs(e)){let o=()=>t.destroy(),s=e.platformInjector.get(_h);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(_h);s.add(o),e.moduleRef.onDestroy(()=>{Go(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return dS(r,n,()=>{let o=t.get(Dn),s=o.add(),a=t.get(ph);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(el,ss);if(yy(c||ss),!t.get(cS,!0))return cs(e)?t.get(Kt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(cs(e)){let u=t.get(Kt);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return uS?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(s)})})})}var uS;function dS(e,t,n){try{let r=n();return Wn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var tl=null;function fS(e=[],t){return dt.create({name:t,providers:[{provide:Po,useValue:"platform"},{provide:_h,useValue:new Set([()=>tl=null])},...e]})}function hS(e=[]){if(tl)return tl;let t=fS(e);return tl=t,gy(),pS(t),t}function pS(e){let t=e.get(Fc,null);Fe(e,()=>{t?.forEach(n=>n())})}function ky(){return!1}var gS=1e4;var FH=gS-1e3;var jr=(()=>{class e{static __NG_ELEMENT_ID__=mS}return e})();function mS(e){return vS(We(),Y(),(e&16)===16)}function vS(e,t,n){if(Hn(e)&&!n){let r=Dt(e.index,t);return new zn(r,r)}else if(e.type&175){let r=t[ht];return new zn(r,t)}return null}function Py(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;le(re.BootstrapApplicationStart);try{let o=i?.injector??hS(r),s=[xy(),dm,...n||[]],a=new Zo({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return lS({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{le(re.BootstrapApplicationEnd)}}function Vr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var Fy=null;function At(){return Fy}function bh(e){Fy??=e}var ls=class{},ki=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(Ly),providedIn:"platform"})}return e})();var Ly=(()=>{class e extends ki{_location;_history;_doc=y(Te);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return At().getBaseHref(this._doc)}onPopState(n){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=At().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Uy(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function jy(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Zn(e){return e&&e[0]!=="?"?`?${e}`:e}var Pi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(_S),providedIn:"root"})}return e})(),yS=new R(""),_S=(()=>{class e extends Pi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Zn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Zn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Zn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(P(ki),P(yS,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fi=(()=>{class e{_subject=new ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=CS(jy(Vy(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Zn(r))}normalize(n){return e.stripTrailingSlash(wS(this._basePath,Vy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Zn;static joinWithSlash=Uy;static stripTrailingSlash=jy;static \u0275fac=function(r){return new(r||e)(P(Pi))};static \u0275prov=T({token:e,factory:()=>bS(),providedIn:"root"})}return e})();function bS(){return new Fi(P(Pi))}function wS(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Vy(e){return e.replace(/\/index.html$/,"")}function CS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var wh=(()=>{class e{_viewContainer;_context=new rl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){By(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){By(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(X(Ri),X(Wc))};static \u0275dir=Ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),rl=class{$implicit=null;ngIf=null};function By(e,t){if(e&&!e.createEmbeddedView)throw new S(2020,!1)}var nt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wt({type:e});static \u0275inj=bt({})}return e})();function us(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Ur=class{};var $y="browser";var ds=class{_doc;constructor(t){this._doc=t}manager},il=(()=>{class e extends ds{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(P(Te))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),al=new R(""),Ih=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof il));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof il);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(P(al),P(Ge))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Ch="ng-app-id";function qy(e){for(let t of e)t.remove()}function zy(e,t){let n=t.createElement("style");return n.textContent=e,n}function DS(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Ch}="${t}"],link[${Ch}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Ch),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Dh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Sh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,DS(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,zy);r?.forEach(i=>this.addUsage(i,this.external,Dh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(qy(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])qy(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,zy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Dh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(P(Te),P(Pc),P(Lc,8),P(es))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Eh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Th=/%COMP%/g;var Wy="%COMP%",IS=`_nghost-${Wy}`,SS=`_ngcontent-${Wy}`,TS=!0,MS=new R("",{factory:()=>TS});function xS(e){return SS.replace(Th,e)}function AS(e){return IS.replace(Th,e)}function Ky(e,t){return t.map(n=>n.replace(Th,e))}var Mh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new fs(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof sl?i.applyToHost(n):i instanceof hs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Gt.Emulated:o=new sl(c,l,r,this.appId,u,s,a,d);break;case Gt.ShadowDom:return new ol(c,n,r,s,a,this.nonce,d,l);case Gt.ExperimentalIsolatedShadowDom:return new ol(c,n,r,s,a,this.nonce,d);default:o=new hs(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(P(Ih),P(Sh),P(Pc),P(MS),P(Te),P(Ge),P(Lc),P(Tn,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),fs=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Eh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Gy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Gy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Eh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Eh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(an.DashCase|an.Important)?t.style.setProperty(n,r,i&an.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&an.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=At().getGlobalEventTarget(this.doc,t),!t))throw new S(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Gy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ol=class extends fs{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,s,a,c){super(t,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Ky(r.id,l);for(let d of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=Dh(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},hs=class extends fs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Ky(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Or.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sl=class extends hs{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=xS(l),this.hostAttr=AS(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var cl=class e extends ls{supportsDOMEvents=!0;static makeCurrent(){bh(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=RS();return n==null?null:NS(n)}resetBaseElement(){ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return us(document.cookie,t)}},ps=null;function RS(){return ps=ps||document.head.querySelector("base"),ps?ps.getAttribute("href"):null}function NS(e){return new URL(e,document.baseURI).pathname}var OS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Yy=["alt","control","meta","shift"],kS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Zy=(()=>{class e extends ds{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>At().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Yy.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=kS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Yy.forEach(s=>{if(s!==i){let a=PS[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(P(Te))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();async function xh(e,t,n){let r=I({rootComponent:e},FS(t,n));return Py(r)}function FS(e,t){return{platformRef:t?.platformRef,appProviders:[...BS,...e?.providers??[]],platformProviders:US}}function LS(){cl.makeCurrent()}function jS(){return new tn}function VS(){return Gf(document),document}var US=[{provide:es,useValue:$y},{provide:Fc,useValue:LS,multi:!0},{provide:Te,useFactory:VS}];var BS=[{provide:Po,useValue:"root"},{provide:tn,useFactory:jS},{provide:al,useClass:il,multi:!0},{provide:al,useClass:Zy,multi:!0},Mh,Sh,Ih,{provide:kr,useExisting:Mh},{provide:Ur,useClass:OS},[]];var Br=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var ul=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},dl=class{encodeKey(t){return Jy(t)}encodeValue(t){return Jy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function $S(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var HS=/%(\d[a-f0-9])/gi,qS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jy(e){return encodeURIComponent(e).replace(HS,(t,n)=>qS[n]??t)}function ll(e){return`${e}`}var Jn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new dl,t.fromString){if(t.fromObject)throw new S(2805,!1);this.map=$S(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(ll):[ll(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(ll(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(ll(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function zS(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Qy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Xy(e){return typeof Blob<"u"&&e instanceof Blob}function e_(e){return typeof FormData<"u"&&e instanceof FormData}function GS(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var t_="Content-Type",n_="Accept",r_="text/plain",i_="application/json",WS=`${i_}, ${r_}, */*`,gs=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(zS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new S(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Br,this.context??=new ul,!this.params)this.params=new Jn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Qy(this.body)||Xy(this.body)||e_(this.body)||GS(this.body)?this.body:this.body instanceof Jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||e_(this.body)?null:Xy(this.body)?this.body.type||null:Qy(this.body)?null:typeof this.body=="string"?r_:this.body instanceof Jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?i_:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,f=t.referrerPolicy||this.referrerPolicy,p=t.transferCache??this.transferCache,_=t.timeout??this.timeout,C=t.body!==void 0?t.body:this.body,w=t.withCredentials??this.withCredentials,O=t.reportProgress??this.reportProgress,M=t.headers||this.headers,D=t.params||this.params,Z=t.context??this.context;return t.setHeaders!==void 0&&(M=Object.keys(t.setHeaders).reduce((Je,ne)=>Je.set(ne,t.setHeaders[ne]),M)),t.setParams&&(D=Object.keys(t.setParams).reduce((Je,ne)=>Je.set(ne,t.setParams[ne]),D)),new e(n,r,C,{params:D,headers:M,context:Z,reportProgress:O,responseType:i,withCredentials:w,transferCache:p,keepalive:o,cache:a,priority:s,timeout:_,mode:c,redirect:l,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},Li=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Li||{}),ji=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new Br,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},fl=class e extends ji{constructor(t={}){super(t)}type=Li.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},hl=class e extends ji{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Li.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},ms=class extends ji{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},KS=200,YS=204;var ZS=new R("");var JS=/^\)\]\}',?\n/;var Rh=(()=>{class e{xhrFactory;tracingService=y(Tn,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new S(-2800,!1);let r=this.xhrFactory;return Q(null).pipe(Xe(()=>new W(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),n.headers.has(n_)||s.setRequestHeader(n_,WS),!n.headers.has(t_)){let C=n.detectContentTypeHeader();C!==null&&s.setRequestHeader(t_,C)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let C=n.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let C=s.statusText||"OK",w=new Br(s.getAllResponseHeaders()),O=s.responseURL||n.url;return c=new fl({headers:w,status:s.status,statusText:C,url:O}),c},u=this.maybePropagateTrace(()=>{let{headers:C,status:w,statusText:O,url:M}=l(),D=null;w!==YS&&(D=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=D?KS:0);let Z=w>=200&&w<300;if(n.responseType==="json"&&typeof D=="string"){let Je=D;D=D.replace(JS,"");try{D=D!==""?JSON.parse(D):null}catch(ne){D=Je,Z&&(Z=!1,D={error:ne,text:D})}}Z?(o.next(new hl({body:D,headers:C,status:w,statusText:O,url:M||void 0})),o.complete()):o.error(new ms({error:D,headers:C,status:w,statusText:O,url:M||void 0}))}),d=this.maybePropagateTrace(C=>{let{url:w}=l(),O=new ms({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(O)}),h=d;n.timeout&&(h=this.maybePropagateTrace(C=>{let{url:w}=l(),O=new ms({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:w||void 0});o.error(O)}));let f=!1,p=this.maybePropagateTrace(C=>{f||(o.next(l()),f=!0);let w={type:Li.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),n.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)}),_=this.maybePropagateTrace(C=>{let w={type:Li.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),o.next(w)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Li.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(P(Ur))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QS(e,t){return t(e)}function XS(e,t,n){return(r,i)=>Fe(n,()=>t(r,o=>e(o,i)))}var o_=new R("",{factory:()=>[]}),eT=new R(""),s_=new R("",{factory:()=>!0});var Nh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=P(Rh),i},providedIn:"root"})}return e})();var pl=(()=>{class e{backend;injector;chain=null;pendingTasks=y(lc);contributeToStability=y(s_);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(o_),...this.injector.get(eT,[])]));this.chain=r.reduceRight((i,o)=>XS(i,o,this.injector),QS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Io(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(P(Nh),P(_e))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Oh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=P(pl),i},providedIn:"root"})}return e})();function Ah(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var tT=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof gs)o=n;else{let c;i.headers instanceof Br?c=i.headers:c=new Br(i.headers);let l;i.params&&(i.params instanceof Jn?l=i.params:l=new Jn({fromObject:i.params})),o=new gs(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=Q(o).pipe(gi(c=>this.handler.handle(c)));if(n instanceof gs||i.observe==="events")return s;let a=s.pipe(ut(c=>c instanceof hl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(V(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new S(2806,!1);return c.body}));case"blob":return a.pipe(V(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new S(2807,!1);return c.body}));case"text":return a.pipe(V(c=>{if(c.body!==null&&typeof c.body!="string")throw new S(2808,!1);return c.body}));default:return a.pipe(V(c=>c.body))}case"response":return a;default:throw new S(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Jn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Ah(i,r))}post(n,r,i={}){return this.request("POST",n,Ah(i,r))}put(n,r,i={}){return this.request("PUT",n,Ah(i,r))}static \u0275fac=function(r){return new(r||e)(P(Oh))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var nT=new R("",{factory:()=>!0}),rT="XSRF-TOKEN",iT=new R("",{factory:()=>rT}),oT="X-XSRF-TOKEN",sT=new R("",{factory:()=>oT}),aT=(()=>{class e{cookieName=y(iT);doc=y(Te);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=us(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),a_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=P(aT),i},providedIn:"root"})}return e})();function cT(e,t){if(!y(nT)||e.method==="GET"||e.method==="HEAD")return t(e);try{let i=y(ki).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return t(e)}catch{return t(e)}let n=y(a_).getToken(),r=y(sT);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function kh(...e){let t=[tT,pl,{provide:Oh,useExisting:pl},{provide:Nh,useFactory:()=>y(ZS,{optional:!0})??y(Rh)},{provide:o_,useValue:cT,multi:!0}];for(let n of e)t.push(...n.\u0275providers);return Vt(t)}var c_=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(P(Te))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z="primary",Ms=Symbol("RouteTitle"),Vh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qr(e){return new Vh(e)}function Ph(e,t,n){for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function y_(e,t,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let c={},l=e.slice(0,r.length);return Ph(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let a={};return!Ph(o,e.slice(0,o.length),a)||!Ph(s,e.slice(e.length-s.length),a)?null:{consumed:e,posParams:a}}function bl(e){return new Promise((t,n)=>{e.pipe(vn()).subscribe({next:r=>t(r),error:r=>n(r)})})}function uT(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!un(e[n],t[n]))return!1;return!0}function un(e,t){let n=e?Uh(e):void 0,r=t?Uh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!__(e[i],t[i]))return!1;return!0}function Uh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function __(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function dT(e){return e.length>0?e[e.length-1]:null}function Wr(e){return Pa(e)?e:Wn(e)?ie(Promise.resolve(e)):Q(e)}function b_(e){return Pa(e)?bl(e):Promise.resolve(e)}var fT={exact:C_,subset:E_},w_={exact:hT,subset:pT,ignored:()=>!0};function l_(e,t,n){return fT[n.paths](e.root,t.root,n.matrixParams)&&w_[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function hT(e,t){return un(e,t)}function C_(e,t,n){if(!$r(e.segments,t.segments)||!vl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!C_(e.children[r],t.children[r],n))return!1;return!0}function pT(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>__(e[n],t[n]))}function E_(e,t,n){return D_(e,t,t.segments,n)}function D_(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!$r(i,n)||t.hasChildren()||!vl(i,n,r))}else if(e.segments.length===n.length){if(!$r(e.segments,n)||!vl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!E_(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!$r(e.segments,i)||!vl(e.segments,i,r)||!e.children[z]?!1:D_(e.children[z],t,o,r)}}function vl(e,t,n){return t.every((r,i)=>w_[n](e[i].parameters,r.parameters))}var Zt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new oe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qr(this.queryParams),this._queryParamMap}toString(){return vT.serialize(this)}},oe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yl(this)}},Qn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=qr(this.parameters),this._parameterMap}toString(){return S_(this)}};function gT(e,t){return $r(e,t)&&e.every((n,r)=>un(n.parameters,t[r].parameters))}function $r(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function mT(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(n=n.concat(t(i,r)))}),n}var xs=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new Xn,providedIn:"root"})}return e})(),Xn=class{parse(t){let n=new $h(t);return new Zt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${vs(t.root,!0)}`,r=bT(t.queryParams),i=typeof t.fragment=="string"?`#${yT(t.fragment)}`:"";return`${n}${r}${i}`}},vT=new Xn;function yl(e){return e.segments.map(t=>S_(t)).join("/")}function vs(e,t){if(!e.hasChildren())return yl(e);if(t){let n=e.children[z]?vs(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${vs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=mT(e,(r,i)=>i===z?[vs(e.children[z],!1)]:[`${i}:${vs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[z]!=null?`${yl(e)}/${n[0]}`:`${yl(e)}/(${n.join("//")})`}}function I_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gl(e){return I_(e).replace(/%3B/gi,";")}function yT(e){return encodeURI(e)}function Bh(e){return I_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _l(e){return decodeURIComponent(e)}function u_(e){return _l(e.replace(/\+/g,"%20"))}function S_(e){return`${Bh(e.path)}${_T(e.parameters)}`}function _T(e){return Object.entries(e).map(([t,n])=>`;${Bh(t)}=${Bh(n)}`).join("")}function bT(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${gl(n)}=${gl(i)}`).join("&"):`${gl(n)}=${gl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var wT=/^[^\/()?;#]+/;function Fh(e){let t=e.match(wT);return t?t[0]:""}var CT=/^[^\/()?;=#]+/;function ET(e){let t=e.match(CT);return t?t[0]:""}var DT=/^[^=?&#]+/;function IT(e){let t=e.match(DT);return t?t[0]:""}var ST=/^[^&#]+/;function TT(e){let t=e.match(ST);return t?t[0]:""}var $h=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[z]=new oe(t,n)),r}parseSegment(){let t=Fh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new Qn(_l(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=ET(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fh(this.remaining);i&&(r=i,this.capture(r))}t[_l(n)]=_l(r)}parseQueryParam(t){let n=IT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=TT(this.remaining);s&&(r=s,this.capture(r))}let i=u_(n),o=u_(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=z);let s=this.parseChildren();n[o??z]=Object.keys(s).length===1&&s[z]?s[z]:new oe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}};function T_(e){return e.segments.length>0?new oe([],{[z]:e}):e}function M_(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=M_(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new oe(e.segments,t);return MT(n)}function MT(e){if(e.numberOfChildren===1&&e.children[z]){let t=e.children[z];return new oe(e.segments.concat(t.segments),t.children)}return e}function er(e){return e instanceof Zt}function x_(e,t,n=null,r=null,i=new Xn){let o=A_(e);return R_(o,t,n,r,i)}function A_(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new oe(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=T_(r);return t??i}function R_(e,t,n,r,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Lh(o,o,o,n,r,i);let s=xT(t);if(s.toRoot())return Lh(o,o,new oe([],{}),n,r,i);let a=AT(s,o,e),c=a.processChildren?_s(a.segmentGroup,a.index,s.commands):O_(a.segmentGroup,a.index,s.commands);return Lh(o,a.segmentGroup,c,n,r,i)}function wl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Cs(e){return typeof e=="object"&&e!=null&&e.outlets}function d_(e,t,n){e||="\u0275";let r=new Zt;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function Lh(e,t,n,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>d_(l,d,o)):d_(l,u,o);let a;e===t?a=n:a=N_(e,t,n);let c=T_(M_(a));return new Zt(c,s,i)}function N_(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=N_(o,t,n)}),new oe(e.segments,r)}var Cl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&wl(r[0]))throw new S(4003,!1);let i=r.find(Cs);if(i&&i!==dT(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Cl(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Cl(n,t,r)}var Ui=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function AT(e,t,n){if(e.isAbsolute)return new Ui(t,!0,0);if(!n)return new Ui(t,!1,NaN);if(n.parent===null)return new Ui(n,!0,0);let r=wl(e.commands[0])?0:1,i=n.segments.length-1+r;return RT(n,i,e.numberOfDoubleDots)}function RT(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Ui(r,!1,i-o)}function NT(e){return Cs(e[0])?e[0].outlets:{[z]:e}}function O_(e,t,n){if(e??=new oe([],{}),e.segments.length===0&&e.hasChildren())return _s(e,t,n);let r=OT(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new oe(e.segments.slice(0,r.pathIndex),{});return o.children[z]=new oe(e.segments.slice(r.pathIndex),e.children),_s(o,0,i)}else return r.match&&i.length===0?new oe(e.segments,{}):r.match&&!e.hasChildren()?Hh(e,t,n):r.match?_s(e,0,i):Hh(e,t,n)}function _s(e,t,n){if(n.length===0)return new oe(e.segments,{});{let r=NT(n),i={};if(Object.keys(r).some(o=>o!==z)&&e.children[z]&&e.numberOfChildren===1&&e.children[z].segments.length===0){let o=_s(e.children[z],t,n);return new oe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=O_(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new oe(e.segments,i)}}function OT(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Cs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!h_(c,l,s))return o;r+=2}else{if(!h_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hh(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Cs(o)){let c=kT(o.outlets);return new oe(r,c)}if(i===0&&wl(n[0])){let c=e.segments[t];r.push(new Qn(c.path,f_(n[0]))),i++;continue}let s=Cs(o)?o.outlets[z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&wl(a)?(r.push(new Qn(s,f_(a))),i+=2):(r.push(new Qn(s,{})),i++)}return new oe(r,{})}function kT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Hh(new oe([],{}),0,r))}),t}function f_(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function h_(e,t,n){return e==n.path&&un(t,n.parameters)}var bs="imperative",Ue=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Ue||{}),vt=class{id;url;constructor(t,n){this.id=t,this.url=n}},zr=class extends vt{type=Ue.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dn=class extends vt{urlAfterRedirects;type=Ue.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(rt||{}),Es=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Es||{}),Rt=class extends vt{reason;code;type=Ue.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function k_(e){return e instanceof Rt&&(e.code===rt.Redirect||e.code===rt.SupersededByNewNavigation)}var Nn=class extends vt{reason;code;type=Ue.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Gr=class extends vt{error;target;type=Ue.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$i=class extends vt{urlAfterRedirects;state;type=Ue.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},El=class extends vt{urlAfterRedirects;state;type=Ue.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dl=class extends vt{urlAfterRedirects;state;shouldActivate;type=Ue.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Il=class extends vt{urlAfterRedirects;state;type=Ue.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends vt{urlAfterRedirects;state;type=Ue.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tl=class{route;type=Ue.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ml=class{route;type=Ue.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xl=class{snapshot;type=Ue.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Al=class{snapshot;type=Ue.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rl=class{snapshot;type=Ue.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nl=class{snapshot;type=Ue.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Hi=class{},qi=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function PT(e){return!(e instanceof Hi)&&!(e instanceof qi)}var Ol=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Wi(this.rootInjector)}},Wi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ol(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(P(_e))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=qh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=qh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=zh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return zh(t,this._root).map(n=>n.value)}};function qh(e,t){if(e===t.value)return t;for(let n of t.children){let r=qh(e,n);if(r)return r}return null}function zh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=zh(e,n);if(r.length)return r.unshift(t),r}return[]}var mt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ds=class extends kl{snapshot;constructor(t,n){super(t),this.snapshot=n,Xh(this,t)}toString(){return this.snapshot.toString()}};function P_(e,t){let n=FT(e,t),r=new He([new Qn("",{})]),i=new He({}),o=new He({}),s=new He({}),a=new He(""),c=new ct(r,i,s,a,o,z,e,n.root);return c.snapshot=n.root,new Ds(new mt(c,[]),n)}function FT(e,t){let n={},r={},i={},s=new Hr([],n,i,"",r,z,e,null,{},t);return new Is("",new mt(s,[]))}var ct=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(V(l=>l[Ms]))??Q(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(t=>qr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(t=>qr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pl(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:I(I({},t.params),e.params),data:I(I({},t.data),e.data),resolve:I(I(I(I({},e.data),t.data),i?.data),e._resolvedData)}:r={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},i&&L_(i)&&(r.resolve[Ms]=i.title),r}var Hr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Ms]}constructor(t,n,r,i,o,s,a,c,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l,this._environmentInjector=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Is=class extends kl{url;constructor(t,n){super(n),this.url=t,Xh(this,n)}toString(){return F_(this._root)}};function Xh(e,t){t.value._routerState=e,t.children.forEach(n=>Xh(e,n))}function F_(e){let t=e.children.length>0?` { ${e.children.map(F_).join(", ")} } `:"";return`${e.value}${t}`}function jh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,un(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),un(t.params,n.params)||e.paramsSubject.next(n.params),uT(t.url,n.url)||e.urlSubject.next(n.url),un(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Gh(e,t){let n=un(e.params,t.params)&&gT(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Gh(e.parent,t.parent))}function L_(e){return typeof e.title=="string"||e.title===null}var j_=new R(""),As=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new xe;deactivateEvents=new xe;attachEvents=new xe;detachEvents=new xe;routerOutletData=Oy();parentContexts=y(Wi);location=y(Ri);changeDetector=y(jr);inputBinder=y(Vl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Wh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[In]})}return e})(),Wh=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===ct?this.route:t===Wi?this.childContexts:t===j_?this.outletData:this.parent.get(t,n)}},Vl=new R("");var ep=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=be({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&xn(0,"router-outlet")},dependencies:[As],encapsulation:2})}return e})();function tp(e){let t=e.children&&e.children.map(tp),n=t?ee(I({},e),{children:t}):I({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=ep),n}function LT(e,t,n){let r=Ss(e,t._root,n?n._root:void 0);return new Ds(r,t)}function Ss(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=jT(e,t,n);return new mt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ss(e,a)),s}}let r=VT(t.value),i=t.children.map(o=>Ss(e,o));return new mt(r,i)}}function jT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ss(e,r,i);return Ss(e,r)})}function VT(e){return new ct(new He(e.url),new He(e.params),new He(e.queryParams),new He(e.fragment),new He(e.data),e.outlet,e.component,e)}var zi=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},V_="ngNavigationCancelingError";function Fl(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=er(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=U_(!1,rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function U_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[V_]=!0,n.cancellationCode=t,n}function UT(e){return B_(e)&&er(e.url)}function B_(e){return!!e&&e[V_]}var Kh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),jh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Vi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Vi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Al(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(jh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Ll=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Bi=class{component;route;constructor(t,n){this.component=t,this.route=n}};function BT(e,t,n){let r=e._root,i=t?t._root:null;return ys(r,i,n,[r.value])}function $T(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ki(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!wd(e)?e:t.get(e):r}function ys(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Vi(t);return e.children.forEach(s=>{HT(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ws(a,n.getContext(s),i)),i}function HT(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=qT(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ll(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ys(e,t,a?a.children:null,r,i):ys(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bi(a.outlet.component,s))}else s&&ws(t,a,i),i.canActivateChecks.push(new Ll(r)),o.component?ys(e,null,a?a.children:null,r,i):ys(e,null,n,r,i);return i}function qT(e,t,n){if(typeof n=="function")return Fe(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!$r(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$r(e.url,t.url)||!un(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gh(e,t)||!un(e.queryParams,t.queryParams);default:return!Gh(e,t)}}function ws(e,t,n){let r=Vi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ws(s,t.children.getContext(o),n):ws(s,null,n):ws(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Bi(t.outlet.component,i)):n.canDeactivateChecks.push(new Bi(null,i)):n.canDeactivateChecks.push(new Bi(null,i))}function Rs(e){return typeof e=="function"}function zT(e){return typeof e=="boolean"}function GT(e){return e&&Rs(e.canLoad)}function WT(e){return e&&Rs(e.canActivate)}function KT(e){return e&&Rs(e.canActivateChild)}function YT(e){return e&&Rs(e.canDeactivate)}function ZT(e){return e&&Rs(e.canMatch)}function $_(e){return e instanceof gr||e?.name==="EmptyError"}var ml=Symbol("INITIAL_VALUE");function Gi(){return Xe(e=>nd(e.map(t=>t.pipe(st(1),id(ml)))).pipe(V(t=>{for(let n of t)if(n!==!0){if(n===ml)return ml;if(n===!1||JT(n))return n}return!0}),ut(t=>t!==ml),st(1)))}function JT(e){return er(e)||e instanceof zi}function H_(e){return e.aborted?Q(void 0).pipe(st(1)):new W(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function q_(e){return So(H_(e))}function QT(e){return ot(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=t;return o.length===0&&i.length===0?Q(ee(I({},t),{guardsResult:!0})):XT(o,n,r).pipe(ot(s=>s&&zT(s)?eM(n,i,e):Q(s)),V(s=>ee(I({},t),{guardsResult:s})))})}function XT(e,t,n){return ie(e).pipe(ot(r=>oM(r.component,r.route,n,t)),vn(r=>r!==!0,!0))}function eM(e,t,n){return ie(t).pipe(gi(r=>pi(nM(r.route.parent,n),tM(r.route,n),iM(e,r.path),rM(e,r.route))),vn(r=>r!==!0,!0))}function tM(e,t){return e!==null&&t&&t(new Rl(e)),Q(!0)}function nM(e,t){return e!==null&&t&&t(new xl(e)),Q(!0)}function rM(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return Q(!0);let r=n.map(i=>Eo(()=>{let o=t._environmentInjector,s=Ki(i,o),a=WT(s)?s.canActivate(t,e):Fe(o,()=>s(t,e));return Wr(a).pipe(vn())}));return Q(r).pipe(Gi())}function iM(e,t){let n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(o=>$T(o)).filter(o=>o!==null).map(o=>Eo(()=>{let s=o.guards.map(a=>{let c=o.node._environmentInjector,l=Ki(a,c),u=KT(l)?l.canActivateChild(n,e):Fe(c,()=>l(n,e));return Wr(u).pipe(vn())});return Q(s).pipe(Gi())}));return Q(i).pipe(Gi())}function oM(e,t,n,r){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=t._environmentInjector,c=Ki(s,a),l=YT(c)?c.canDeactivate(e,t,n,r):Fe(a,()=>c(e,t,n,r));return Wr(l).pipe(vn())});return Q(o).pipe(Gi())}function sM(e,t,n,r,i){let o=t.canLoad;if(o===void 0||o.length===0)return Q(!0);let s=o.map(a=>{let c=Ki(a,e),l=GT(c)?c.canLoad(t,n):Fe(e,()=>c(t,n)),u=Wr(l);return i?u.pipe(q_(i)):u});return Q(s).pipe(Gi(),z_(r))}function z_(e){return Qu(Xt(t=>{if(typeof t!="boolean")throw Fl(e,t)}),V(t=>t===!0))}function aM(e,t,n,r,i){let o=t.canMatch;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let c=Ki(a,e),l=ZT(c)?c.canMatch(t,n):Fe(e,()=>c(t,n));return Wr(l).pipe(q_(i))});return Q(s).pipe(Gi(),z_(r))}var Rn=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},Ts=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function cM(e){throw new S(4e3,!1)}function lM(e){throw U_(!1,rt.GuardRejected)}var Yh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[z])throw cM(`${t.redirectTo}`);i=i.children[z]}}async applyRedirectCommands(t,n,r,i,o){let s=await uM(n,i,o);if(s instanceof Zt)throw new Ts(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ts(a);return a}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Zt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new oe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function uM(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d,paramMap:h,queryParamMap:f}=t;return bl(Wr(Fe(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d,paramMap:h,queryParamMap:f}))))}function dM(e,t){return e.providers&&!e._injector&&(e._injector=os(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Yt(e){return e.outlet||z}function fM(e,t){let n=e.filter(r=>Yt(r)===t);return n.push(...e.filter(r=>Yt(r)!==t)),n}var Zh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hM(e,t,n,r,i,o){let s=G_(e,t,n);return s.matched?(r=dM(t,r),aM(r,t,n,i,o).pipe(V(a=>a===!0?s:I({},Zh)))):Q(s)}function G_(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?I({},Zh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||y_)(n,e,t);if(!i)return I({},Zh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function p_(e,t,n,r){return n.length>0&&mM(e,n,r)?{segmentGroup:new oe(t,gM(r,new oe(n,e.children))),slicedSegments:[]}:n.length===0&&vM(e,n,r)?{segmentGroup:new oe(e.segments,pM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new oe(e.segments,e.children),slicedSegments:n}}function pM(e,t,n,r){let i={};for(let o of n)if(Ul(e,t,o)&&!r[Yt(o)]){let s=new oe([],{});i[Yt(o)]=s}return I(I({},r),i)}function gM(e,t){let n={};n[z]=t;for(let r of e)if(r.path===""&&Yt(r)!==z){let i=new oe([],{});n[Yt(r)]=i}return n}function mM(e,t,n){return n.some(r=>Ul(e,t,r)&&Yt(r)!==z)}function vM(e,t,n){return n.some(r=>Ul(e,t,r))}function Ul(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function yM(e,t,n){return t.length===0&&!e.children[n]}var Jh=class{};async function _M(e,t,n,r,i,o,s="emptyOnly",a){return new Qh(e,t,n,r,i,s,o,a).recognize()}var bM=31,Qh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Yh(this.urlSerializer,this.urlTree)}noMatchError(t){return new S(4002,`'${t.segmentGroup}'`)}async recognize(){let t=p_(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),i=new mt(r,n),o=new Is("",i),s=x_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(t){let n=new Hr([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,z,n),rootSnapshot:n}}catch(r){if(r instanceof Ts)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Rn?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,o);let s=await this.processSegment(t,n,r,r.segments,i,!0,o);return s instanceof mt?[s]:[]}async processChildren(t,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=fM(n,c),d=await this.processSegmentGroup(t,u,l,c,i);s.push(...d)}let a=W_(s);return wM(a),a}async processSegment(t,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a)}catch(l){if(l instanceof Rn||$_(l))continue;throw l}if(yM(r,i,o))return new Jh;throw new Rn(r)}async processSegmentAgainstRoute(t,n,r,i,o,s,a,c){if(Yt(r)!==s&&(s===z||!Ul(i,o,r)))throw new Rn(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c);throw new Rn(i)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=G_(n,i,o);if(!c)throw new Rn(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bM&&(this.allowRedirects=!1));let f=new Hr(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,g_(i),Yt(i),i.component??i._loadedComponent??null,i,m_(i),t),p=Pl(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let _=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t),C=await this.applyRedirects.lineralizeSegments(i,_);return this.processSegment(t,r,n,C.concat(h),s,!1,a)}async matchSegmentAgainstRoute(t,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await bl(hM(n,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Rn(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:u,consumedSegments:d,remainingSegments:h}=a,f=new Hr(d,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,g_(r),Yt(r),r.component??r._loadedComponent??null,r,m_(r),t),p=Pl(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:_,slicedSegments:C}=p_(n,d,h,c);if(C.length===0&&_.hasChildren()){let M=await this.processChildren(l,c,_,f);return new mt(f,M)}if(c.length===0&&C.length===0)return new mt(f,[]);let w=Yt(r)===o,O=await this.processSegment(l,c,_,C,w?z:o,!0,f);return new mt(f,O instanceof mt?[O]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await bl(sM(t,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw lM(n)}return{routes:[],injector:t}}};function wM(e){e.sort((t,n)=>t.value.outlet===z?-1:n.value.outlet===z?1:t.value.outlet.localeCompare(n.value.outlet))}function CM(e){let t=e.value.routeConfig;return t&&t.path===""}function W_(e){let t=[],n=new Set;for(let r of e){if(!CM(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=W_(r.children);t.push(new mt(r.value,i))}return t.filter(r=>!n.has(r))}function g_(e){return e.data||{}}function m_(e){return e.resolve||{}}function EM(e,t,n,r,i,o,s){return ot(async a=>{let{state:c,tree:l}=await _M(e,t,n,r,a.extractedUrl,i,o,s);return ee(I({},a),{targetSnapshot:c,urlAfterRedirects:l})})}function DM(e){return ot(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return Q(t);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let c of K_(a))o.add(c);let s=0;return ie(o).pipe(gi(a=>i.has(a)?IM(a,n,e):(a.data=Pl(a,a.parent,e).resolve,Q(void 0))),Xt(()=>s++),Va(1),ot(a=>s===o.size?Q(t):qe))})}function K_(e){let t=e.children.map(n=>K_(n)).flat();return[e,...t]}function IM(e,t,n){let r=e.routeConfig,i=e._resolve;return r?.title!==void 0&&!L_(r)&&(i[Ms]=r.title),Eo(()=>(e.data=Pl(e,e.parent,n).resolve,SM(i,e,t).pipe(V(o=>(e._resolvedData=o,e.data=I(I({},e.data),o),null)))))}function SM(e,t,n){let r=Uh(e);if(r.length===0)return Q({});let i={};return ie(r).pipe(ot(o=>TM(e[o],t,n).pipe(vn(),Xt(s=>{if(s instanceof zi)throw Fl(new Xn,s);i[o]=s}))),Va(1),V(()=>i),Do(o=>$_(o)?qe:td(o)))}function TM(e,t,n){let r=t._environmentInjector,i=Ki(e,r),o=i.resolve?i.resolve(t,n):Fe(r,()=>i(t,n));return Wr(o)}function v_(e){return Xe(t=>{let n=e(t);return n?ie(n).pipe(V(()=>t)):Q(t)})}var np=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(n){return n.data[Ms]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(Y_),providedIn:"root"})}return e})(),Y_=(()=>{class e extends np{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(P(c_))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yi=new R("",{factory:()=>({})}),Ns=new R(""),Z_=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(yh);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await b_(Fe(n,()=>r.loadComponent())),s=await X_(Q_(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await J_(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function J_(e,t,n,r){let i=await b_(Fe(n,()=>e.loadChildren())),o=await X_(Q_(i)),s;o instanceof Yc||Array.isArray(o)?s=o:s=await t.compileModuleAsync(o),r&&r(e);let a,c,l=!1,u;return Array.isArray(s)?(c=s,l=!0):(a=s.create(n).injector,u=s,c=a.get(Ns,[],{optional:!0,self:!0}).flat()),{routes:c.map(tp),injector:a,factory:u}}function MM(e){return e&&typeof e=="object"&&"default"in e}function Q_(e){return MM(e)?e.default:e}async function X_(e){return e}var Bl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(xM),providedIn:"root"})}return e})(),xM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),e0=new R("");var AM=()=>{},t0=new R(""),n0=(()=>{class e{currentNavigation=k(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=k(null);events=new ye;transitionAbortWithErrorSubject=new ye;configLoader=y(Z_);environmentInjector=y(_e);destroyRef=y(St);urlSerializer=y(xs);rootContexts=y(Wi);location=y(Fi);inputBindingEnabled=y(Vl,{optional:!0})!==null;titleStrategy=y(np);options=y(Yi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Bl);createViewTransition=y(e0,{optional:!0});navigationErrorHandler=y(t0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Tl(i)),r=i=>this.events.next(new Ml(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ae(()=>{this.transitions?.next(ee(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new He(null),this.transitions.pipe(ut(r=>r!==null),Xe(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return Q(r).pipe(Xe(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),qe;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?ee(I({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload")return this.events.next(new Nn(a.id,this.urlSerializer.serialize(a.rawUrl),"",Es.IgnoredSameUrlNavigation)),a.resolve(!1),qe;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Q(a).pipe(Xe(d=>(this.events.next(new zr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?qe:Promise.resolve(d))),EM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Xt(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=d.urlAfterRedirects,f));let h=new $i(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:_}=a,C=new zr(d,this.urlSerializer.serialize(h),f,p);this.events.next(C);let w=P_(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=ee(I({},a),{targetSnapshot:w,urlAfterRedirects:h,extras:ee(I({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(O=>(O.finalUrl=h,O)),Q(r)}else return this.events.next(new Nn(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Es.IgnoredByUrlHandlingStrategy)),a.resolve(!1),qe}),V(a=>{let c=new El(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=ee(I({},a),{guards:BT(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),QT(a=>this.events.next(a)),Xe(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Fl(this.urlSerializer,a.guardsResult);let c=new Dl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!s())return qe;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",rt.GuardRejected),qe;if(a.guards.canActivateChecks.length===0)return Q(a);let l=new Il(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return qe;let u=!1;return Q(a).pipe(DM(this.paramsInheritanceStrategy),Xt({next:()=>{u=!0;let d=new Sl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)},complete:()=>{u||this.cancelNavigationTransition(a,"",rt.NoDataFromResolver)}}))}),v_(a=>{let c=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let h=u._environmentInjector;d.push(this.configLoader.loadComponent(h,u.routeConfig).then(f=>{u.component=f}))}for(let h of u.children)d.push(...c(h));return d},l=c(a.targetSnapshot.root);return l.length===0?Q(a):ie(Promise.all(l).then(()=>a))}),v_(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?ie(l).pipe(V(()=>r)):Q(r)}),st(1),V(a=>{let c=LT(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=ee(I({},a),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new Hi),s()&&(new Kh(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=AM,l)),this.lastSuccessfulNavigation.set(Ae(this.currentNavigation)),this.events.next(new dn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),So(H_(o.signal).pipe(ut(()=>!i&&!r.targetRouterState),Xt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",rt.Aborted)}))),Xt({complete:()=>{i=!0}}),So(this.transitionAbortWithErrorSubject.pipe(Xt(a=>{throw a}))),Io(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Do(a=>{if(i=!0,this.destroyed)return r.resolve(!1),qe;if(B_(a))this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),UT(a)?this.events.next(new qi(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Gr(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=Fe(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof zi){let{message:u,cancellationCode:d}=Fl(this.urlSerializer,l);this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new qi(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return qe}))}))}cancelNavigationTransition(n,r,i){let o=new Rt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ae(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RM(e){return e!==bs}var r0=new R("");var i0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(NM),providedIn:"root"})}return e})(),jl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},NM=(()=>{class e extends jl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rp=(()=>{class e{urlSerializer=y(xs);options=y(Yi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Fi);urlHandlingStrategy=y(Bl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Zt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Zt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=P_(null,y(_e));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>y(OM),providedIn:"root"})}return e})(),OM=(()=>{class e extends rp{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof zr?this.updateStateMemento():n instanceof Nn?this.commitTransition(r):n instanceof $i?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Hi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Rt&&!k_(n)?this.restoreHistory(r):n instanceof Gr?this.restoreHistory(r,!0):n instanceof dn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ip(e,t){e.events.pipe(ut(n=>n instanceof dn||n instanceof Rt||n instanceof Gr||n instanceof Nn),V(n=>n instanceof dn||n instanceof Nn?0:(n instanceof Rt?n.code===rt.Redirect||n.code===rt.SupersededByNewNavigation:!1)?2:1),ut(n=>n!==2),st(1)).subscribe(()=>{t()})}var o0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(lh);stateManager=y(rp);options=y(Yi,{optional:!0})||{};pendingTasks=y(Dn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(n0);urlSerializer=y(xs);location=y(Fi);urlHandlingStrategy=y(Bl);injector=y(_e);_events=new ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(i0);injectorCleanup=y(r0,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Ns,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Vl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Ae(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rt&&r.code!==rt.Redirect&&r.code!==rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof dn)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof qi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RM(i.source)},s);this.scheduleNavigation(a,bs,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(gt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ae(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(tp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=A_(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return R_(d,n,u,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=er(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,bs,null,r)}navigate(n,r={skipLocationChange:!1}){return kM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(bn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},o0):r===!1?i=I({},s0):i=r,er(n))return l_(this.currentUrlTree,n,i);let o=this.parseUrl(n);return l_(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return ip(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new S(4008,!1)}var fn=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=k(null);get href(){return Ae(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ye;applicationErrorHandler=y(gt);options=y(Yi,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(y(new nl("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(n=>{n instanceof dn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(er(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:er(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(X(yt),X(ct),Xo("tabindex"),X(Mn),X(cn),X(Pi))};static \u0275dir=Ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ni("href",i.reactiveHref(),Yf)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vr],replaceUrl:[2,"replaceUrl","replaceUrl",Vr],routerLink:"routerLink"},features:[In]})}return e})();var LM=new R("");function op(e,...t){return Vt([{provide:Ns,multi:!0,useValue:e},[],{provide:ct,useFactory:jM},{provide:Qc,multi:!0,useFactory:VM},t.map(n=>n.\u0275providers)])}function jM(){return y(yt).routerState.root}function VM(){let e=y(dt);return t=>{let n=e.get(Kt);if(t!==n.components[0])return;let r=e.get(yt),i=e.get(UM);e.get(BM)===1&&r.initialNavigation(),e.get($M,null,{optional:!0})?.setUpPreloading(),e.get(LM,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var UM=new R("",{factory:()=>new ye}),BM=new R("",{factory:()=>1});var $M=new R("");var a0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Zi=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Os=class extends Zi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ji=class extends Zi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Qi=class extends Zi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},$l=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})($l||{});var ks=class{constructor(t,{headers:n={},customFetch:r,region:i=$l.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=a0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ca(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let _;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",_=l):typeof l=="string"?(h["Content-Type"]="text/plain",_=l):typeof FormData<"u"&&l instanceof FormData?_=l:(h["Content-Type"]="application/json",_=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?_=JSON.stringify(l):_=l;let C=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(C=s.signal,u.addEventListener("abort",()=>s.abort())):C=s.signal);let w=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:_,signal:C}).catch(Z=>{throw new Os(Z)}),O=w.headers.get("x-relay-error");if(O&&O==="true")throw new Ji(w);if(!w.ok)throw new Qi(w);let M=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),D;return M==="application/json"?D=yield w.json():M==="application/octet-stream"||M==="application/pdf"?D=yield w.blob():M==="text/event-stream"?D=w:M==="multipart/form-data"?D=yield w.formData():D=yield w.text(),{data:D,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Qi||a instanceof Ji?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var u0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},HM=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var f;let w=await o.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}let _=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&C&&C.length>1&&(c=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let _=await o.text();try{s=JSON.parse(_),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&_===""?(l=204,u="No Content"):s={message:_}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&n.shouldThrowOnError)throw new u0(s)}return{error:s,data:a,count:c,status:l,statusText:u}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c="",l="",u=o?.cause;if(u){var d,h,f,p;let w=(d=u?.message)!==null&&d!==void 0?d:"",O=(h=u?.code)!==null&&h!==void 0?h:"";a=`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(p=u?.name)!==null&&p!==void 0?p:"Error"}: ${w}`,O&&(a+=` (${O})`),u?.stack&&(a+=`
${u.stack}`)}else{var _;a=(_=o?.stack)!==null&&_!==void 0?_:""}let C=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(l="",c="Request was aborted (timeout or manual cancellation)",C>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${C} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(u?.name==="HeadersOverflowError"||u?.code==="UND_ERR_HEADERS_OVERFLOW")&&(l="",c="HTTP headers exceeded server limits (typically 16KB)",C>this.urlLengthLimit&&(c+=`. Your request URL is ${C} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:c,code:l},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},qM=class extends HM{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},c0=new RegExp("[,()]"),Xi=class extends qM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&c0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&c0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},zM=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new Xi({method:i,url:a,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let i="POST",{url:o,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),n||s.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new Xi({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){let u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Xi({method:s,url:a,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Xi({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;let n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Xi({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function GM(e,t){if(Ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WM(e){var t=GM(e,"string");return Ps(t)=="symbol"?t:t+""}function KM(e,t,n){return(t=WM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l0(Object(n),!0).forEach(function(r){KM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var d0=class f0{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=s;let a=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,l)=>{let u=new AbortController,d=setTimeout(()=>u.abort(),o),h=l?.signal;if(h){if(h.aborted)return clearTimeout(d),a(c,l);let f=()=>{clearTimeout(d),u.abort()};return h.addEventListener("abort",f,{once:!0}),a(c,Hl(Hl({},l),{},{signal:u.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",f)})}return a(c,Hl(Hl({},l),{},{signal:u.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new zM(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new f0(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l,u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=r&&Object.values(n).some(u);d?(a="POST",l=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(a="POST",l=n);let h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new Xi({method:a,url:c,headers:h,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};var sp=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},ap=sp;var h0="2.94.0";var p0=`realtime-js/${h0}`,g0="1.0.0",cp="2.0.0",lp=cp;var Fs=1e4,m0=1e3,v0=100,tr=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(tr||{}),Ne=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Ne||{}),Nt=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Nt||{}),up=(function(e){return e.websocket="websocket",e})(up||{}),Kr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Kr||{});var ql=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),_=0;p.setUint8(_++,this.KINDS.userBroadcastPush),p.setUint8(_++,c.length),p.setUint8(_++,a.length),p.setUint8(_++,s.length),p.setUint8(_++,l.length),p.setUint8(_++,d.length),p.setUint8(_++,n),Array.from(c,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(a,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(s,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(l,w=>p.setUint8(_++,w.charCodeAt(0))),Array.from(d,w=>p.setUint8(_++,w.charCodeAt(0)));var C=new Uint8Array(f.byteLength+r.byteLength);return C.set(new Uint8Array(f),0),C.set(new Uint8Array(r),f.byteLength),C.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+o));c=c+o;let d=r.decode(t.slice(c,c+s));c=c+s;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var eo=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ge=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(ge||{}),fp=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=YM(s,e,t,i),o),{}):{}},YM=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?y0(o,s):dp(s)},y0=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return XM(t,n)}switch(e){case ge.bool:return ZM(t);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return JM(t);case ge.json:case ge.jsonb:return QM(t);case ge.timestamp:return ex(t);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return dp(t);default:return dp(t)}},dp=e=>e,ZM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JM=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},XM=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>y0(t,a))}return e},ex=e=>typeof e=="string"?e.replace(" ","T"):e,zl=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var to=class{constructor(t,n,r={},i=Fs){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Ls=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(C=>C.presence_ref),f=d.map(C=>C.presence_ref),p=u.filter(C=>f.indexOf(C.presence_ref)<0),_=d.filter(C=>h.indexOf(C.presence_ref)<0);p.length>0&&(a[l]=p),_.length>0&&(c[l]=_)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var js=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(js||{}),On=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(On||{});var Vs=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new to(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new eo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ls(this),this.broadcastEndpointURL=zl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[js.PRESENCE]&&this.bindings[js.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(On.CHANNEL_ERROR,f)),this._onClose(()=>t?.(On.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(On.SUBSCRIBED);return}else{let _=this.bindings.postgres_changes,C=(p=_?.length)!==null&&p!==void 0?p:0,w=[];for(let O=0;O<C;O++){let M=_[O],{filter:{event:D,schema:Z,table:Je,filter:ne}}=M,me=f&&f[O];if(me&&me.event===D&&e.isFilterValueEqual(me.schema,Z)&&e.isFilterValueEqual(me.table,Je)&&e.isFilterValueEqual(me.filter,ne))w.push(Object.assign(Object.assign({},M),{id:me.id}));else{this.unsubscribe(),this.state=Ne.errored,t?.(On.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(On.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ne.errored,t?.(On.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(On.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ne.joined&&t===js.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;let l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ne.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new to(this,Nt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new to(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>v0){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Nt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,_,C;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((C=(_=f.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,_,C,w,O,M;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let D=f.id,Z=(p=f.filter)===null||p===void 0?void 0:p.event;return D&&((_=n.ids)===null||_===void 0?void 0:_.includes(D))&&(Z==="*"||Z?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let D=(O=(w=f?.filter)===null||w===void 0?void 0:w.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return D==="*"||D===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:_,table:C,commit_timestamp:w,type:O,errors:M}=p;h=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:w,eventType:O,new:{},old:{},errors:M}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nt.close,{},t)}_onError(t){this._on(Nt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fp(t.columns,t.old_record)),n}};var hp=()=>{},Gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nx=[1e3,2e3,5e3,1e4],rx=1e4,ix=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Us=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fs,this.transport=null,this.heartbeatIntervalMs=Gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hp,this.ref=0,this.reconnectTimer=null,this.vsn=lp,this.logger=hp,this.conn=null,this.sendBuffer=[],this.serializer=new ql,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${up.websocket}`,this.httpEndpoint=zl(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ap.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case tr.connecting:return Kr.Connecting;case tr.open:return Kr.Open;case tr.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Vs(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===tr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===tr.open||this.conn.readyState===tr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([ix],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:p0};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Nt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new eo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,c,l,u,d,h,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Fs,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Gl.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:hp,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:lp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:p=>nx[p-1]||rx,this.vsn){case g0:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(p,_)=>_(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,_)=>_(JSON.parse(p));break;case cp:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var Bs=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ox(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function sx(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ax(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){let a=ox(e.baseUrl,r,i),c=await sx(e.auth),l=await t(a,{method:n,headers:I(I(I({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!l.ok){let f=d?h:void 0,p=f?.error;throw new Bs(p?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:l.status,headers:l.headers,data:h}}}}function Wl(e){return e.join("")}var cx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:Wl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wl(e.namespace)}`}),!0}catch(t){if(t instanceof Bs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Bs&&n.status===409)return;throw n}}};function no(e){return e.join("")}var lx=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Bs&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Bs&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},_0=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ax({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new cx(this.client,t),this.tableOps=new lx(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var Yl=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Zl(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Kl=class extends Yl{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},E0=class extends Yl{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};var ux=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dx=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},pp=e=>{if(Array.isArray(e))return e.map(n=>pp(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=pp(r)}),t},fx=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function hx(e,t){if(Hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function px(e){var t=hx(e,"string");return Hs(t)=="symbol"?t:t+""}function gx(e,t,n){return(t=px(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b0(Object(n),!0).forEach(function(r){gx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var w0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mx=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";t(new Kl(w0(s),o,a,r))}).catch(()=>{if(r==="vectors"){let s=o+"";t(new Kl(i.statusText||`HTTP ${o} error`,o,s,r))}else{let s=o+"";t(new Kl(i.statusText||`HTTP ${o} error`,o,s,r))}});else{let s=o+"";t(new Kl(i.statusText||`HTTP ${o} error`,o,s,r))}}else t(new E0(w0(e),e,r))},vx=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?j(j({},i),n):(dx(r)?(i.headers=j({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),j(j({},i),n))};async function $s(e,t,n,r,i,o,s){return new Promise((a,c)=>{e(n,vx(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;if(s==="vectors"){let u=l.headers.get("content-type");if(l.headers.get("content-length")==="0"||l.status===204)return{};if(!u||!u.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>mx(l,c,r,s))})}function D0(e="storage"){return{get:async(t,n,r,i)=>$s(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>$s(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>$s(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>$s(t,"HEAD",n,j(j({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>$s(t,"DELETE",n,i,o,r,e)}}var yx=D0("storage"),{get:qs,post:Jt,put:gp,head:_x,remove:mp}=yx,_t=D0("vectors"),ro=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ux(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zl(n))return{data:null,error:n};throw n}}},bx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zl(t))return{data:null,error:t};throw t}}},I0;I0=Symbol.toStringTag;var wx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[I0]="BlobDownloadBuilder",this.promise=null}asStream(){return new bx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Zl(t))return{data:null,error:t};throw t}}},Cx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},C0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ex=class extends ro{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o,s=j(j({},C0),r),a=j(j({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=j(j({},a),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=await(e=="PUT"?gp:Jt)(i.fetch,`${i.url}/object/${u}`,o,j({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",t),i.handleOperation(async()=>{let c,l=j({upsert:C0.upsert},r),u=j(j({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{path:o,fullPath:(await gp(i.fetch,a.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),i=j({},n.headers);t?.upsert&&(i["x-upsert"]="true");let o=await Jt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new Yl("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Jt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Jt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Jt(r.fetch,`${r.url}/object/sign/${i}`,j({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{let i=await Jt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(s=>j(j({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>qs(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new wx(s,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);return t.handleOperation(async()=>pp(await qs(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await _x(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Zl(r)&&r instanceof E0){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let o=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await mp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{let i=j(j(j({},Cx),t),{},{prefix:e||""});return await Jt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{let r=j({},e);return await Jt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},Dx="2.94.0",zs={"X-Client-Info":`storage-js/${Dx}`},Ix=class extends ro{constructor(e,t={},n,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));let o=i.href.replace(/\/$/,""),s=j(j({},zs),t);super(o,s,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=t.listBucketOptionsToQueryString(e);return await qs(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Jt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await gp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Jt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Sx=class extends ro{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=j(j({},zs),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Jt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await qs(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!fx(e))throw new Yl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new _0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},Tx=class extends ro{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=j(j({},zs),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await _t.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await _t.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Mx=class extends ro{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=j(j({},zs),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},xx=class extends ro{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=j(j({},zs),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await _t.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Ax=class extends xx{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Rx(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Rx=class extends Tx{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,j(j({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,j(j({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Nx(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Nx=class extends Mx{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,j(j({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,j(j({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,j(j({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,j(j({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,j(j({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},S0=class extends Ix{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Ex(this.url,this.headers,e,this.fetch)}get vectors(){return new Ax(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sx(this.url+"/iceberg",this.headers,this.fetch)}};var Jl="2.94.0";var Yr=30*1e3,Ql=3,Xl=Ql*Yr,T0="http://localhost:9999",M0="supabase.auth.token";var x0={"X-Client-Info":`gotrue-js/${Jl}`};var Gs="X-Supabase-Api-Version",vp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R0=600*1e3;var nr=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function N(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var eu=class extends nr{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function N0(e){return N(e)&&e.name==="AuthApiError"}var Ot=class extends nr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Qt=class extends nr{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},Ze=class extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function nu(e){return N(e)&&e.name==="AuthSessionMissingError"}var kn=class extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Zr=class extends Qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Jr=class extends Qt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function O0(e){return N(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ws=class extends Qt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},tu=class extends Qt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var io=class extends Qt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function ru(e){return N(e)&&e.name==="AuthRetryableFetchError"}var Ks=class extends Qt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Qr=class extends Qt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k0=` 	
\r=`.split(""),Ox=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<k0.length;t+=1)e[k0[t].charCodeAt(0)]=-2;for(let t=0;t<iu.length;t+=1)e[iu[t].charCodeAt(0)]=t;return e})();function P0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(iu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(iu[r]),t.queuedBits-=6}}function F0(e,t,n){let r=Ox[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yp(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{Fx(s,r,n)};for(let s=0;s<e.length;s+=1)F0(e.charCodeAt(s),i,o);return t.join("")}function kx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Px(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}kx(r,t)}}function Fx(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function rr(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)F0(e.charCodeAt(i),n,r);return new Uint8Array(t)}function L0(e){let t=[];return Px(e,n=>t.push(n)),new Uint8Array(t)}function Pn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>P0(i,n,r)),P0(null,n,r),t.join("")}function j0(e){return Math.round(Date.now()/1e3)+e}function V0(){return Symbol("auth-callback")}var Oe=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},ou=()=>{if(!Oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function U0(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var su=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ei=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ir=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Be=async(e,t)=>{await e.removeItem(t)},Ys=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Ys.promiseConstructor=Promise;function Zs(e){let t=e.split(".");if(t.length!==3)throw new Qr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!A0.test(t[r]))throw new Qr("JWT not in base64url format");return{header:JSON.parse(yp(t[0])),payload:JSON.parse(yp(t[1])),signature:rr(t[2]),raw:{header:t[0],payload:t[1]}}}async function $0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function H0(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function Lx(e){return("0"+e.toString(16)).substr(-2)}function jx(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Lx).join("")}async function Vx(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Ux(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await Vx(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(e,t,n=!1){let r=jx(),i=r;n&&(i+="/PASSWORD_RECOVERY"),await ei(e,`${t}-code-verifier`,i);let o=await Ux(r);return[o,r===o?"plain":"s256"]}var Bx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q0(e){let t=e.headers.get(Gs);if(!t||!t.match(Bx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function z0(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function G0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var $x=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ni(e){if(!$x.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function au(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function W0(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function _p(e){return JSON.parse(JSON.stringify(e))}var ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hx=[502,503,504];async function K0(e){var t;if(!B0(e))throw new io(ri(e),0);if(Hx.includes(e.status))throw new io(ri(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ot(ri(o),o)}let r,i=q0(e);if(i&&i.getTime()>=vp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ks(ri(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ze}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ks(ri(n),e.status,n.weak_password.reasons);throw new eu(ri(n),e.status||500,r)}var qx=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function F(e,t,n,r){var i;let o=Object.assign({},r?.headers);o[Gs]||(o[Gs]=vp["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await zx(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function zx(e,t,n,r,i,o){let s=qx(t,r,i,o),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new io(ri(c),0)}if(a.ok||await K0(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await K0(c)}}function kt(e){var t;let n=null;Gx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=j0(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function bp(e){let t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Y0(e){return{data:e,error:null}}function Z0(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=pr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function wp(e){return e}function Gx(e){return e.access_token&&e.refresh_token&&e.expires_in}var cu=["global","local","others"];var oo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=su(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=cu[0]){if(cu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cu.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hn})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=pr(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Z0,redirectTo:n?.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hn})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wp});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(p.split(";")[1].split("=")[1]);l[`${C}Page`]=_}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(N(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){ni(t);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hn})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ni(t);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hn})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ni(t);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hn})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ni(t.userId);try{let{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ni(t.userId),ni(t.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await F(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:wp});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(p.split(";")[1].split("=")[1]);l[`${C}Page`]=_}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(N(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await F(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await F(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await F(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}};function Cp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var ii={debug:!!(globalThis&&ou()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Js=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},lu=class extends Js{};async function Ep(e,t,n){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ii.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function J0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Q0(e){return parseInt(e,16)}function X0(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function eb(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Dp(e.address),p=u?`${u}://${r}`:r,_=e.statement?`${e.statement}
`:"",C=`${p} wants you to sign in with your Ethereum account:
${f}

${_}`,w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),c&&(w+=`
Request ID: ${c}`),l){let O=`
Resources:`;for(let M of l){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);O+=`
- ${M}`}w+=O}return`${C}
${w}`}var we=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},oi=class extends we{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function tb({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new we({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new we({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new we({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new we({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new we({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new we({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new we({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new we({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Ip(s)){if(o.rp.id!==s)return new we({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new we({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function nb({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new we({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new we({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Ip(r)){if(n.rpId!==r)return new we({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Sp=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},Wx=new Sp;function ib(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=pr(e,["challenge","user","excludeCredentials"]),o=rr(t).buffer,s=Object.assign(Object.assign({},n),{id:rr(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:rr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function ob(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=pr(e,["challenge","allowCredentials"]),i=rr(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:rr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function sb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Pn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Pn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ab(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Pn(new Uint8Array(i.authenticatorData)),clientDataJSON:Pn(new Uint8Array(i.clientDataJSON)),signature:Pn(new Uint8Array(i.signature)),userHandle:i.userHandle?Pn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ip(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rb(){var e,t;return!!(Oe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Kx(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oi("Browser returned unexpected credential type",t)}:{data:null,error:new oi("Empty credential response",t)}}catch(t){return{data:null,error:tb({error:t,options:e})}}}async function Yx(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oi("Browser returned unexpected credential type",t)}:{data:null,error:new oi("Empty credential response",t)}}catch(t){return{data:null,error:nb({error:t,options:e})}}}var Zx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Jx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uu(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=uu(a,s):r[o]=uu(s)}else r[o]=s}return r}function Qx(e,t){return uu(Zx,e,t||{})}function Xx(e,t){return uu(Jx,e,t||{})}var du=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var s;try{let{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};let l=i??Wx.createNewAbortSignal();if(a.webauthn.type==="create"){let{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){let d=r;if(d)u.name=`${u.id}:${d}`;else{let f=(await this.client.getUser()).data.user,p=((s=f?.user_metadata)===null||s===void 0?void 0:s.name)||f?.email||f?.id||"User";u.name=`${u.id}:${p}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{let u=Qx(a.webauthn.credential_options.publicKey,o?.create),{data:d,error:h}=await Kx({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{let u=Xx(a.webauthn.credential_options.publicKey,o?.request),{data:d,error:h}=await Yx(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new Ot("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nr("rpId is required for WebAuthn authentication")};try{if(!rb())return{data:null,error:new Ot("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return N(s)?{data:null,error:s}:{data:null,error:new Ot("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new nr("rpId is required for WebAuthn registration")};try{if(!rb())return{data:null,error:new Ot("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return N(s)?{data:null,error:s}:{data:null,error:new Ot("Unexpected error in register",s)}}}};J0();var eA={url:T0,storageKey:M0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function cb(e,t,n){return await n()}var so={},tA=(()=>{class e{get jwks(){var n,r;return(r=(n=so[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=so[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},eA),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Oe()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new oo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=su(s.fetch),this.lock=s.lock||cb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Oe()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Ep:this.lock=cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new du(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ou()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Cp(this.memoryStorage)),Oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jl}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(Oe()&&(r=U0(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Oe()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),O0(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return N(r)?this._returnResult({error:r}):this._returnResult({error:new Ot("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{let s=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:kt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,i,o;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,_=null;this.flowType==="pkce"&&([p,_]=await ti(this.storage,this.storageKey)),s=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:_},xform:kt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:kt})}else throw new Zr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await Be(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Be(this.storage,`${this.storageKey}-code-verifier`),N(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bp})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bp})}else throw new Zr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new kn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,s,a,c,l,u,d,h,f;let p,_;if("message"in n)p=n.message,_=n.signature;else{let{chain:C,wallet:w,statement:O,options:M}=n,D;if(Oe())if(typeof w=="object")D=w;else{let gn=window;if("ethereum"in gn&&typeof gn.ethereum=="object"&&"request"in gn.ethereum&&typeof gn.ethereum.request=="function")D=gn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=w}let Z=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),Je=await D.request({method:"eth_requestAccounts"}).then(gn=>gn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Je||Je.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let ne=Dp(Je[0]),me=(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!me){let gn=await D.request({method:"eth_chainId"});me=Q0(gn)}let $b={domain:Z.host,address:ne,statement:O,uri:Z.href,version:"1",chainId:me,nonce:(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=M?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=M?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=M?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=eb($b),_=await D.request({method:"personal_sign",params:[X0(p),ne]})}try{let{data:C,error:w}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:_},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kt});if(w)throw w;if(!C||!C.session||!C.user){let O=new kn;return this._returnResult({data:{user:null,session:null},error:O})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:w})}catch(C){if(N(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var r,i,o,s,a,c,l,u,d,h,f,p;let _,C;if("message"in n)_=n.message,C=n.signature;else{let{chain:w,wallet:O,statement:M,options:D}=n,Z;if(Oe())if(typeof O=="object")Z=O;else{let ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))Z=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=O}let Je=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){let ne=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:Je.host,uri:Je.href}),M?{statement:M}:null)),me;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")me=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)me=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in me&&"signature"in me&&(typeof me.signedMessage=="string"||me.signedMessage instanceof Uint8Array)&&me.signature instanceof Uint8Array)_=typeof me.signedMessage=="string"?me.signedMessage:new TextDecoder().decode(me.signedMessage),C=me.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Je.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${Je.href}`,`Issued At: ${(o=(i=D?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((h=(d=D?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...D.signInWithSolana.resources.map(me=>`- ${me}`)]:[]].join(`
`);let ne=await Z.signMessage(new TextEncoder().encode(_),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=ne}}try{let{data:w,error:O}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Pn(C)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kt});if(O)throw O;if(!w||!w.session||!w.user){let M=new kn;return this._returnResult({data:{user:null,session:null},error:M})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:O})}catch(w){if(N(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(n){let r=await ir(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new tu;let{data:s,error:a}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:kt});if(await Be(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new kn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await Be(this.storage,`${this.storageKey}-code-verifier`),N(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:kt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new kn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=await ti(this.storage,this.storageKey));let{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Zr("You must provide either an email or phone number.")}catch(c){if(await Be(this.storage,`${this.storageKey}-code-verifier`),N(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:kt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await ti(this.storage,this.storageKey));let u=await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Y0});return!((s=u.data)===null||s===void 0)&&s.url&&Oe()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await Be(this.storage,`${this.storageKey}-code-verifier`),N(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Ze;let{error:o}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Zr("You must provide either an email or phone number and a type")}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<Xl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=await ir(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=au()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=W0(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:hn}):await this._useSession(async r=>{var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ze}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:hn})})}catch(r){if(N(r))return nu(r)&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Ze;let a=o.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=await ti(this.storage,this.storageKey));let{data:u,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:hn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await Be(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ze;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Zs(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(n.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(N(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Ze;let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Oe())throw new Jr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Jr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ws("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ws("No code detected.");let{data:M,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;let Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:M.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new Jr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let p=f-d;p*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let _=f-h;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);let{data:C,error:w}=await this._getUser(s);if(w)throw w;let O={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:n.type},error:null})}catch(i){if(N(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s&&!nu(s))return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(N0(c)&&(c.status===404||c.status===401||c.status===403)||nu(c)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=V0(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ti(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Be(this.storage,`${this.storageKey}-code-verifier`),N(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return Oe()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(N(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,h=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:kt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new kn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(o){if(await Be(this.storage,`${this.storageKey}-code-verifier`),N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await H0(async o=>(o>0&&await $0(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:kt})),(o,s)=>{let a=200*Math.pow(2,o);return s&&ru(s)&&Date.now()+a-i<Yr})}catch(i){if(this._debug(r,"error",i),N(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Oe()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await ir(this.storage,this.storageKey);if(o&&this.userStorage){let a=await ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await ei(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:au()}else if(o&&!o.user&&!o.user){let a=await ir(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await Be(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,o)):o.user=au()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xl;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Xl}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),ru(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Ze;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ys;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ze;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),N(s)){let a={data:null,error:s};return ru(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Be(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ei(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=_p(o);await ei(this.storage,this.storageKey,s)}else{let o=_p(r);await ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Be(this.storage,this.storageKey),await Be(this.storage,this.storageKey+"-code-verifier"),await Be(this.storage,this.storageKey+"-user"),this.userStorage&&await Be(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Oe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Yr}ms, refresh threshold is ${Ql} ticks`),o<=Ql&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Js)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await ti(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await F(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?sb(n.webauthn.credential_response):ab(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await F(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ib(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ob(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,i,o,s;if(n)try{let{payload:p}=Zs(n),_=null;p.aal&&(_=p.aal);let C=_,{data:{user:w},error:O}=await this.getUser(n);if(O)return this._returnResult({data:null,error:O});((i=(r=w?.factors)===null||r===void 0?void 0:r.filter(Z=>Z.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(C="aal2");let D=p.amr||[];return{data:{currentLevel:_,nextLevel:C,currentAuthenticationMethods:D},error:null}}catch(p){if(N(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:l}=Zs(a.access_token),u=null;l.aal&&(u=l.aal);let d=u;((s=(o=a.user.factors)===null||o===void 0?void 0:o.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await F(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ze})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ze});let a=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Oe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Ze});let a=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Oe()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await F(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ze})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await F(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ze})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+R0>o)return i;let{data:s,error:a}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(c=>c.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){let{data:p,error:_}=await this.getSession();if(_||!p.session)return this._returnResult({data:null,error:_});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:c,payload:l}}=Zs(i);r?.allowExpired||z0(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=G0(o.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,L0(`${c}.${l}`)))throw new Qr("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),Tp=tA;var nA=Tp,Mp=nA;var rA="2.94.0",Qs="";typeof Deno<"u"?Qs="deno":typeof document<"u"?Qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qs="react-native":Qs="node";var iA={"X-Client-Info":`supabase-js-${Qs}/${rA}`},oA={headers:iA},sA={schema:"public"},aA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cA={};function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function lA(e,t){if(Xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uA(e){var t=lA(e,"string");return Xs(t)=="symbol"?t:t+""}function dA(e,t,n){return(t=uA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(n),!0).forEach(function(r){dA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var fA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hA=()=>Headers,pA=(e,t,n)=>{let r=fA(n),i=hA();return async(o,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,De(De({},s),{},{headers:l}))}};function gA(e){return e.endsWith("/")?e:e+"/"}function mA(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,h={db:De(De({},c),i),auth:De(De({},l),o),realtime:De(De({},u),s),storage:{},global:De(De(De({},d),a),{},{headers:De(De({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function vA(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var yA=class extends Mp{constructor(e){super(e)}},_A=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;let o=vA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:sA,realtime:cA,auth:De(De({},aA),{},{storageKey:s}),global:oA},c=mA(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=pA(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new d0(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new S0(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ks(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yA({url:this.authUrl.href,headers:De(De({},h),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Us(this.realtimeUrl.href,De(De({},e),{},{params:De(De({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},ub=(e,t,n)=>new _A(e,t,n);function bA(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}bA()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var wA="https://uzkxigqcipcempyyayww.supabase.co",CA="sb_publishable_fsrePnC0uaE5kO5Ji7q_mg_CBnUkRhf",ke=ub(wA,CA);var or=class e{user=k(null);session=k(null);isAuthenticated=k(!1);constructor(){ke.auth.getSession().then(({data:{session:t}})=>{this.session.set(t),this.user.set(t?.user??null),this.isAuthenticated.set(!!t)}),ke.auth.onAuthStateChange((t,n)=>{this.session.set(n),this.user.set(n?.user??null),this.isAuthenticated.set(!!n)})}async signIn(t,n){let{error:r}=await ke.auth.signInWithPassword({email:t,password:n});return{error:r?.message??null}}async signUp(t,n){let{error:r,data:i}=await ke.auth.signUp({email:t,password:n,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});return r?{error:r.message,needsConfirmation:!1}:{error:null,needsConfirmation:i.session===null}}async signOut(){await ke.auth.signOut(),this.user.set(null),this.session.set(null),this.isAuthenticated.set(!1)}async resetPassword(t){let{error:n}=await ke.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});return{error:n?.message??null}}get currentUser(){return this.user()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};function EA(e,t){if(e&1){let n=te();Re(0,"button",3),xt("click",function(){x(n);let i=E();return A(i.goToMenu())}),v(1," Ir al Men\xFA "),Ve()}}function DA(e,t){if(e&1){let n=te();Re(0,"button",3),xt("click",function(){x(n);let i=E();return A(i.openLogin())}),v(1," Iniciar Sesi\xF3n "),Ve()}}var fu=class e{authService=y(or);router=y(yt);openLogin(){window.dispatchEvent(new CustomEvent("open-auth-modal"))}goToMenu(){this.router.navigate(["/menu"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-home"]],decls:8,vars:1,consts:[[1,"welcome-container"],[1,"welcome-content"],[1,"btn","btn-primary","btn-start"],[1,"btn","btn-primary","btn-start",3,"click"]],template:function(n,r){n&1&&(Re(0,"div",0)(1,"div",1)(2,"h1"),v(3,"INVENTARIO ADEX"),Ve(),Re(4,"p"),v(5,"Sistema de Gesti\xF3n del \xC1rea de Soporte Inform\xE1tico"),Ve(),U(6,EA,2,0,"button",2)(7,DA,2,0,"button",2),Ve()()),n&2&&(b(6),B(r.authService.isAuthenticated()?6:7))},styles:[".welcome-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#0055a4,#036)}.welcome-content[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:2rem}h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;opacity:.9}.btn-start[_ngcontent-%COMP%]{padding:1rem 3rem;font-size:1.5rem;background:#fff;color:#0055a4;border:none;border-radius:50px;cursor:pointer;font-weight:600;transition:all .3s ease;box-shadow:0 4px 15px #0003}.btn-start[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 20px #0000004d;background:#f0f0f0}.btn-start[_ngcontent-%COMP%]:active{transform:translateY(-1px)}"]})};var hu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-menu"]],decls:21,vars:0,consts:[[1,"menu-container"],[1,"header"],["routerLink","/",1,"btn","btn-secondary"],[1,"menu-options"],["routerLink","/equipos",1,"menu-card"],[1,"card-icon"],["routerLink","/ambientes",1,"menu-card"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"header",1)(2,"h1"),v(3,"Men\xFA Principal"),m(),g(4,"a",2),v(5,"Volver"),m()(),g(6,"div",3)(7,"a",4)(8,"div",5),v(9,"\u{1F5A5}\uFE0F"),m(),g(10,"h2"),v(11,"Equipos"),m(),g(12,"p"),v(13,"Ver y gestionar equipos"),m()(),g(14,"a",6)(15,"div",5),v(16,"\u{1F3E2}"),m(),g(17,"h2"),v(18,"Ambientes"),m(),g(19,"p"),v(20,"Ver y gestionar ambientes"),m()()()())},dependencies:[fn],styles:[".menu-container[_ngcontent-%COMP%]{padding:2rem;min-height:100vh;background:#f5f5f5}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0;color:#333}.menu-options[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}.menu-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;text-decoration:none;color:#333;transition:transform .2s,box-shadow .2s;min-width:250px}.menu-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.card-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#667eea}p[_ngcontent-%COMP%]{margin:0;color:#666}"]})};var bb=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(X(Mn),X(cn))};static \u0275dir=Ce({type:e})}return e})(),Rp=(()=>{class e extends bb{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=Ce({type:e,features:[Mt]})}return e})(),Cu=new R("");var IA={provide:Cu,useExisting:jt(()=>pn),multi:!0};function SA(){let e=At()?At().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var TA=new R(""),pn=(()=>{class e extends bb{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!SA())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(X(Mn),X(cn),X(TA,8))};static \u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Yn([IA]),Mt]})}return e})();function MA(e){return e==null||xA(e)===0}function xA(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Np=new R(""),wb=new R("");function AA(e){return MA(e.value)?{required:!0}:null}function db(e){return null}function Cb(e){return e!=null}function Eb(e){return Wn(e)?ie(e):e}function Db(e){let t={};return e.forEach(n=>{t=n!=null?I(I({},t),n):t}),Object.keys(t).length===0?null:t}function Ib(e,t){return t.map(n=>n(e))}function RA(e){return!e.validate}function Sb(e){return e.map(t=>RA(t)?t:n=>t.validate(n))}function NA(e){if(!e)return null;let t=e.filter(Cb);return t.length==0?null:function(n){return Db(Ib(n,t))}}function Op(e){return e!=null?NA(Sb(e)):null}function OA(e){if(!e)return null;let t=e.filter(Cb);return t.length==0?null:function(n){let r=Ib(n,t).map(Eb);return rd(r).pipe(V(Db))}}function kp(e){return e!=null?OA(Sb(e)):null}function fb(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function kA(e){return e._rawValidators}function PA(e){return e._rawAsyncValidators}function xp(e){return e?Array.isArray(e)?e:[e]:[]}function gu(e,t){return Array.isArray(e)?e.includes(t):e===t}function hb(e,t){let n=xp(t);return xp(e).forEach(i=>{gu(n,i)||n.push(i)}),n}function pb(e,t){return xp(t).filter(n=>!gu(e,n))}var mu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Op(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},lo=class extends mu{name;get formDirective(){return null}get path(){return null}},oa=class extends mu{_parent=null;name=null;valueAccessor=null},vu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var ar=(()=>{class e extends vu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(X(oa,2))};static \u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Lr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Mt]})}return e})(),uo=(()=>{class e extends vu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(X(lo,10))};static \u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Lr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Mt]})}return e})();var ea="VALID",pu="INVALID",ao="PENDING",ta="DISABLED",sr=class{},yu=class extends sr{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ra=class extends sr{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ia=class extends sr{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},co=class extends sr{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Ap=class extends sr{source;constructor(t){super(),this.source=t}},_u=class extends sr{source;constructor(t){super(),this.source=t}};function Tb(e){return(Eu(e)?e.validators:e)||null}function FA(e){return Array.isArray(e)?Op(e):e||null}function Mb(e,t){return(Eu(t)?t.asyncValidators:e)||null}function LA(e){return Array.isArray(e)?kp(e):e||null}function Eu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function jA(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function VA(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var bu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ae(this.statusReactive)}set status(t){Ae(()=>this.statusReactive.set(t))}_status=Ye(()=>this.statusReactive());statusReactive=k(void 0);get valid(){return this.status===ea}get invalid(){return this.status===pu}get pending(){return this.status==ao}get disabled(){return this.status===ta}get enabled(){return this.status!==ta}errors;get pristine(){return Ae(this.pristineReactive)}set pristine(t){Ae(()=>this.pristineReactive.set(t))}_pristine=Ye(()=>this.pristineReactive());pristineReactive=k(!0);get dirty(){return!this.pristine}get touched(){return Ae(this.touchedReactive)}set touched(t){Ae(()=>this.touchedReactive.set(t))}_touched=Ye(()=>this.touchedReactive());touchedReactive=k(!1);get untouched(){return!this.touched}_events=new ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(hb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pb(t,this._rawAsyncValidators))}hasValidator(t){return gu(this._rawValidators,t)}hasAsyncValidator(t){return gu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ee(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ia(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ia(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ee(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ra(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ra(!0,r))}markAsPending(t={}){this.status=ao;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new co(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ee(I({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ta,this.errors=null,this._forEachChild(i=>{i.disable(ee(I({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yu(this.value,r)),this._events.next(new co(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ea,this._forEachChild(r=>{r.enable(ee(I({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ee(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ea||this.status===ao)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yu(this.value,n)),this._events.next(new co(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ee(I({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ta:ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ao,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=Eb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new co(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?ta:this.errors?pu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ao)?ao:this._anyControlsHaveStatus(pu)?pu:ea}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new ra(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ia(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Eu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=FA(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=LA(this._rawAsyncValidators)}},wu=class extends bu{constructor(t,n,r){super(Tb(n),Mb(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){VA(this,!0,t),Object.keys(t).forEach(r=>{jA(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,ee(I({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new _u(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Pp=new R("",{factory:()=>Fp}),Fp="always";function UA(e,t){return[...t.path,e]}function xb(e,t,n=Fp){Ab(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),$A(e,t),qA(e,t),HA(e,t),BA(e,t)}function gb(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function BA(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Ab(e,t){let n=kA(e);t.validator!==null?e.setValidators(fb(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=PA(e);t.asyncValidator!==null?e.setAsyncValidators(fb(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();gb(t._rawValidators,i),gb(t._rawAsyncValidators,i)}function $A(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Rb(e,t)})}function HA(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Rb(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Rb(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function qA(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function zA(e,t){e==null,Ab(e,t)}function GA(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function WA(e){return Object.getPrototypeOf(e.constructor)===Rp}function KA(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function YA(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===pn?n=o:WA(o)?r=o:i=o}),i||r||n||null}var ZA={provide:lo,useExisting:jt(()=>si)},na=Promise.resolve(),si=(()=>{class e extends lo{callSetDisabledState;get submitted(){return Ae(this.submittedReactive)}_submitted=Ye(()=>this.submittedReactive());submittedReactive=k(!1);_directives=new Set;form;ngSubmit=new xe;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new wu({},Op(n),kp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){na.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),xb(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){na.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){na.then(()=>{let r=this._findContainer(n.path),i=new wu({});zA(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){na.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){na.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),KA(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Ap(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(X(Np,10),X(wb,10),X(Pp,8))};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Yn([ZA]),Mt]})}return e})();function mb(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function vb(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var JA=class extends bu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Tb(n),Mb(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new _u(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){mb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){mb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){vb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var QA={provide:oa,useExisting:jt(()=>Fn)},yb=Promise.resolve(),Fn=(()=>{class e extends oa{_changeDetectorRef;callSetDisabledState;control=new JA;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new xe;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YA(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),GA(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){yb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Vr(r);yb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?UA(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(X(lo,9),X(Np,10),X(wb,10),X(Cu,10),X(jr,8),X(Pp,8))};static \u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Yn([QA]),Mt,In]})}return e})();var fo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var XA={provide:Cu,useExisting:jt(()=>ho),multi:!0};function Nb(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function eR(e){return e.split(":")[0]}var ho=(()=>{class e extends Rp{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=y(Kt).injector;destroyRef=y(St);cdr=y(jr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ns({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=Nb(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=eR(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Yn([XA]),Mt]})}return e})(),Du=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Nb(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(X(cn),X(Mn),X(ho,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),tR={provide:Cu,useExisting:jt(()=>Ob),multi:!0};function _b(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function nR(e){return e.split(":")[0]}var Ob=(()=>{class e extends Rp{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=nR(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&H("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Yn([tR]),Mt]})}return e})(),Iu=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(_b(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(_b(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(X(cn),X(Mn),X(Ob,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var rR=(()=>{class e{_validator=db;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):db,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,features:[In]})}return e})();var iR={provide:Np,useExisting:jt(()=>ai),multi:!0};var ai=(()=>{class e extends rR{required;inputName="required";normalizeInput=Vr;createValidator=n=>AA;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Sn(e)))(i||e)}})();static \u0275dir=Ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ni("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Yn([iR]),Mt]})}return e})();var oR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wt({type:e});static \u0275inj=bt({})}return e})();var cr=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Pp,useValue:n.callSetDisabledState??Fp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Wt({type:e});static \u0275inj=bt({imports:[oR]})}return e})();var po=class e{tableName="equipo";getAll(){return ie(ke.from(this.tableName).select("*").order("id",{ascending:!0})).pipe(V(t=>{if(t.error)throw new Error(t.error.message);return t.data}))}getById(t){return ie(ke.from(this.tableName).select("*").eq("id",t).single()).pipe(V(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}create(t){return ie(ke.from(this.tableName).insert([t]).select().single()).pipe(V(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}update(t,n){return ie(ke.from(this.tableName).update(n).eq("id",t).select().single()).pipe(V(r=>{if(r.error)throw new Error(r.error.message);return r.data}))}delete(t){return ie(ke.from(this.tableName).delete().eq("id",t)).pipe(V(n=>{if(n.error)throw new Error(n.error.message)}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var Tu=["Micr\xF3fonos","Parlantes","Teclados","Mouse"];var go=class e{isOpen=k(!1);data=k({title:"",message:""});resolve=null;open(t,n){return this.data.set({title:t,message:n}),this.isOpen.set(!0),new Promise(r=>{this.resolve=r})}confirm(){this.isOpen.set(!1),this.resolve&&this.resolve(!0)}cancel(){this.isOpen.set(!1),this.resolve&&this.resolve(!1)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pt=class e{toasts=k([]);nextId=0;show(t,n="info",r=3e3){let i={id:this.nextId++,message:t,type:n};this.toasts.update(o=>[...o,i]),setTimeout(()=>{this.remove(i.id)},r)}success(t,n){this.show(t,"success",n)}error(t,n){this.show(t,"error",n)}info(t,n){this.show(t,"info",n)}warning(t,n){this.show(t,"warning",n)}remove(t){this.toasts.update(n=>n.filter(r=>r.id!==t))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var sR=()=>["/equipos","nuevo"],aR=e=>({categoria:e}),Lp=e=>["/equipos",e],kb=(e,t)=>t.id;function cR(e,t){if(e&1){let n=te();g(0,"button",12),H("click",function(){x(n);let i=E();return i.clearCategoria(),A(i.router.navigate(["/equipos"]))}),v(1," \u2190 Ver todas las categor\xEDas "),m()}}function lR(e,t){if(e&1&&xn(0,"img",15),e&2){let n=E().$implicit,r=E(2);Ee("src","icons/"+r.getCategoriaIcon(n),Vc)("alt",n)}}function uR(e,t){if(e&1&&(g(0,"div",16),v(1),m()),e&2){let n=E().$implicit,r=E(2);b(),K(r.getCategoriaIcon(n))}}function dR(e,t){if(e&1){let n=te();g(0,"div",14),H("click",function(){let i=x(n).$implicit,o=E(2);return A(o.selectCategoria(i))}),U(1,lR,1,2,"img",15)(2,uR,2,1,"div",16),g(3,"div",17),v(4),m(),g(5,"div",18),v(6),m()()}if(e&2){let n=t.$implicit,r=E(2);b(),B(r.getCategoriaIcon(n).endsWith(".png")||r.getCategoriaIcon(n).endsWith(".jpg")||r.getCategoriaIcon(n).endsWith(".svg")?1:2),b(3),K(n),b(2),fe("",r.equiposPorCategoria()[n]||0," equipos")}}function fR(e,t){if(e&1&&(g(0,"div",8),et(1,dR,7,3,"div",13,Kn),m()),e&2){let n=E();b(),tt(n.categorias)}}function hR(e,t){if(e&1&&(g(0,"option",28),v(1),m()),e&2){let n=t.$implicit;Ee("value",n),b(),K(n)}}function pR(e,t){if(e&1&&(g(0,"option",28),v(1),m()),e&2){let n=t.$implicit;Ee("value",n),b(),K(n)}}function gR(e,t){if(e&1&&(g(0,"option",28),v(1),m()),e&2){let n=t.$implicit;Ee("value",n),b(),K(n)}}function mR(e,t){if(e&1){let n=te();g(0,"div",9)(1,"div",19)(2,"h3"),v(3,"Filtros"),m(),g(4,"button",20),H("click",function(){x(n);let i=E();return A(i.clearFilters())}),v(5," Limpiar "),m()(),g(6,"div",21)(7,"div",22)(8,"label",23),v(9,"Buscar"),m(),g(10,"input",24),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.filterSearch,i)||(o.filterSearch=i),A(i)}),m()(),g(11,"div",22)(12,"label",25),v(13,"Piso"),m(),g(14,"select",26),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.filterPiso,i)||(o.filterPiso=i),A(i)}),g(15,"option",27),v(16,"Todos los pisos"),m(),et(17,hR,2,2,"option",28,Kn),m()(),g(19,"div",22)(20,"label",29),v(21,"Estado"),m(),g(22,"select",30),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.filterEstado,i)||(o.filterEstado=i),A(i)}),g(23,"option",27),v(24,"Todos los estados"),m(),et(25,pR,2,2,"option",28,Kn),m()(),g(27,"div",22)(28,"label",31),v(29,"Ambiente"),m(),g(30,"select",32),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.filterAmbiente,i)||(o.filterAmbiente=i),A(i)}),g(31,"option",27),v(32,"Todos los ambientes"),m(),et(33,gR,2,2,"option",28,Kn),m()()()()}if(e&2){let n=E();b(10),he("ngModel",n.filterSearch),b(4),he("ngModel",n.filterPiso),b(3),tt(n.pisos),b(5),he("ngModel",n.filterEstado),b(3),tt(n.estados),b(5),he("ngModel",n.filterAmbiente),b(3),tt(n.ambientes())}}function vR(e,t){e&1&&(g(0,"div",10),v(1,"Cargando equipos..."),m())}function yR(e,t){if(e&1&&(g(0,"div",11),v(1),m()),e&2){let n=E();b(),K(n.error())}}function _R(e,t){if(e&1&&(g(0,"span",34),v(1),m()),e&2){let n=E(3);b(),fe("Piso: ",n.filterPiso())}}function bR(e,t){if(e&1&&(g(0,"span",34),v(1),m()),e&2){let n=E(3);b(),fe("Estado: ",n.filterEstado())}}function wR(e,t){if(e&1&&(g(0,"span",34),v(1),m()),e&2){let n=E(3);b(),fe("Ambiente: ",n.filterAmbiente())}}function CR(e,t){if(e&1&&(g(0,"span",34),v(1),m()),e&2){let n=E(3);b(),fe("Busqueda: ",n.filterSearch())}}function ER(e,t){if(e&1&&(g(0,"div",33)(1,"span"),v(2,"Filtros activos:"),m(),U(3,_R,2,1,"span",34),U(4,bR,2,1,"span",34),U(5,wR,2,1,"span",34),U(6,CR,2,1,"span",34),m()),e&2){let n=E(2);b(3),B(n.filterPiso()?3:-1),b(),B(n.filterEstado()?4:-1),b(),B(n.filterAmbiente()?5:-1),b(),B(n.filterSearch()?6:-1)}}function DR(e,t){if(e&1){let n=te();g(0,"tr")(1,"td")(2,"strong"),v(3),m()(),g(4,"td"),v(5),m(),g(6,"td"),v(7),m(),g(8,"td"),v(9),m(),g(10,"td"),v(11),m(),g(12,"td"),v(13),m(),g(14,"td",42)(15,"a",43),v(16," Editar "),m(),g(17,"button",44),H("click",function(){let i=x(n).$implicit,o=E(3);return A(o.deleteEquipo(i.id,i.nombre))}),v(18," Eliminar "),m()()()}if(e&2){let n=t.$implicit;b(3),K(n.codigoid),b(2),K(n.nombre),b(2),K(n.piso||"-"),b(2),K(n.descripcion||"-"),b(2),K(n.estado),b(2),K(n.ambientecodigo||"Sin asignar"),b(2),Ee("routerLink",An(7,Lp,n.id))}}function IR(e,t){e&1&&(g(0,"tr")(1,"td",45),v(2,"No hay equipos en esta categor\xEDa"),m()())}function SR(e,t){if(e&1){let n=te();g(0,"div",38)(1,"button",46),H("click",function(){x(n);let i=E(3);return A(i.prevPage())}),v(2," \u2190 Anterior "),m(),g(3,"span",47),v(4),m(),g(5,"button",46),H("click",function(){x(n);let i=E(3);return A(i.nextPage())}),v(6," Siguiente \u2192 "),m()()}if(e&2){let n=E(3);b(),Ee("disabled",n.currentPage()===1),b(3),Oi(" ",n.equiposFiltradosOrdenados().length," equipos - P\xE1gina ",n.currentPage()," de ",n.totalPages()," "),b(),Ee("disabled",n.currentPage()===n.totalPages())}}function TR(e,t){if(e&1&&(g(0,"p",52),v(1),m()),e&2){let n=E().$implicit;b(),fe("\u{1F3F7}\uFE0F ID: ",n.codigoid)}}function MR(e,t){if(e&1&&(g(0,"p",53),v(1),m()),e&2){let n=E().$implicit;b(),fe("\u{1F3E2} Piso: ",n.piso)}}function xR(e,t){if(e&1&&(g(0,"p",54),v(1),m()),e&2){let n=E().$implicit;b(),K(n.descripcion)}}function AR(e,t){if(e&1&&(g(0,"p",57),v(1),m()),e&2){let n=E().$implicit;b(),fe(" \u{1F4CD} ",n.ambientecodigo," ")}}function RR(e,t){if(e&1){let n=te();g(0,"div",40)(1,"div",48)(2,"span",49),v(3),m(),g(4,"span",50),v(5),m()(),g(6,"div",51),U(7,TR,2,1,"p",52),U(8,MR,2,1,"p",53),U(9,xR,2,1,"p",54),Zc(10,AR,2,1,"p",55),m(),g(11,"div",56)(12,"a",43),v(13," Editar "),m(),g(14,"button",44),H("click",function(){let i=x(n).$implicit,o=E(3);return A(o.deleteEquipo(i.id,i.nombre))}),v(15," Eliminar "),m()()()}if(e&2){let n=t.$implicit;b(3),K(n.nombre),b(),as(n.estado==null?null:n.estado.toLowerCase()),b(),K(n.estado),b(),Ee("routerLink",An(10,Lp,n.id)),b(),B(n.codigoid?7:-1),b(),B(n.piso?8:-1),b(),B(n.descripcion?9:-1),b(),Ee("ngIf",n.ambientecodigo),b(2),Ee("routerLink",An(12,Lp,n.id))}}function NR(e,t){e&1&&(g(0,"div",41),v(1,"No hay equipos en esta categor\xEDa"),m())}function OR(e,t){if(e&1){let n=te();g(0,"div",35)(1,"table",36)(2,"thead")(3,"tr")(4,"th",37),H("click",function(){x(n);let i=E(2);return A(i.setSortField("codigoid"))}),v(5),m(),g(6,"th",37),H("click",function(){x(n);let i=E(2);return A(i.setSortField("nombre"))}),v(7),m(),g(8,"th"),v(9,"Piso"),m(),g(10,"th"),v(11,"Descripci\xF3n"),m(),g(12,"th"),v(13,"Estado"),m(),g(14,"th",37),H("click",function(){x(n);let i=E(2);return A(i.setSortField("ambientecodigo"))}),v(15),m(),g(16,"th"),v(17,"Acciones"),m()()(),g(18,"tbody"),et(19,DR,19,9,"tr",null,kb,!1,IR,3,0,"tr"),m()(),U(22,SR,7,5,"div",38),m(),g(23,"div",39),et(24,RR,16,14,"div",40,kb,!1,NR,2,0,"div",41),m()}if(e&2){let n=E(2);b(5),fe(" ID ",n.getSortIcon("codigoid")," "),b(2),fe(" Nombre ",n.getSortIcon("nombre")," "),b(8),fe(" Ambiente ",n.getSortIcon("ambientecodigo")," "),b(4),tt(n.equiposPaginados()),b(3),B(n.totalPages()>1?22:-1),b(2),tt(n.equiposFiltradosOrdenados())}}function kR(e,t){if(e&1&&(U(0,ER,7,4,"div",33),U(1,OR,27,6)),e&2){let n=E();B((n.filterPiso()||n.filterEstado()||n.filterAmbiente()||n.filterSearch())&&n.selectedCategoria()?0:-1),b(),B(n.selectedCategoria()?1:-1)}}var Mu=class e{equipoService=y(po);route=y(ct);router=y(yt);confirmDialog=y(go);toastService=y(Pt);equipos=k([]);loading=k(!0);error=k(null);categorias=Tu;selectedCategoria=k(null);showFilters=k(!1);filterPiso=k("");filterEstado=k("");filterAmbiente=k("");filterSearch=k("");sortField=k("codigoid");sortOrder=k("asc");pageSize=10;currentPage=k(1);estados=["Nuevo","Usado","Desgastado","Obsoleto"];pisos=["S\xF3tano","Piso 1","Piso 2","Piso 3","Piso 4","Piso 5","Piso 6","Piso 7","Piso 8"];equiposPorCategoria=Ye(()=>{let t={};return this.categorias.forEach(n=>t[n]=0),this.equipos().forEach(n=>{n.categoria&&t.hasOwnProperty(n.categoria)&&t[n.categoria]++}),t});ambientes=Ye(()=>{let t=new Set;return this.equiposFiltrados().forEach(n=>{n.ambientecodigo&&t.add(n.ambientecodigo)}),Array.from(t).sort((n,r)=>n.localeCompare(r,void 0,{numeric:!0}))});totalPages=Ye(()=>Math.ceil(this.equiposFiltradosOrdenados().length/this.pageSize));equiposFiltrados=Ye(()=>{let t=[...this.equipos()],n=this.selectedCategoria();return n&&(t=t.filter(r=>r.categoria===n)),t});equiposFiltradosOrdenados=Ye(()=>{let t=this.equiposFiltrados(),n=this.filterPiso(),r=this.filterEstado().toLowerCase(),i=this.filterAmbiente().toLowerCase(),o=this.filterSearch().toLowerCase();n&&(t=t.filter(c=>c.piso===n)),r&&(t=t.filter(c=>c.estado?.toLowerCase()===r)),i&&(t=t.filter(c=>c.ambientecodigo?.toLowerCase().includes(i))),o&&(t=t.filter(c=>c.nombre?.toLowerCase().includes(o)||c.marca?.toLowerCase().includes(o)||c.modelo?.toLowerCase().includes(o)));let s=this.sortField(),a=this.sortOrder();return t.sort((c,l)=>{let u=c[s]||"",d=l[s]||"",h=u.localeCompare(d,void 0,{numeric:!0,sensitivity:"base"});return a==="asc"?h:-h}),t});equiposPaginados=Ye(()=>{let t=(this.currentPage()-1)*this.pageSize,n=t+this.pageSize;return this.equiposFiltradosOrdenados().slice(t,n)});ngOnInit(){let t=this.route.snapshot.queryParamMap.get("categoria");t&&this.selectedCategoria.set(t),this.loadEquipos()}loadEquipos(){this.loading.set(!0),this.error.set(null),this.equipoService.getAll().subscribe({next:t=>{this.equipos.set(t),this.loading.set(!1)},error:t=>{this.error.set("Error al cargar equipos"),this.loading.set(!1),console.error(t)}})}selectCategoria(t){this.selectedCategoria.set(t),this.currentPage.set(1),this.clearFilters()}clearCategoria(){this.selectedCategoria.set(null),this.currentPage.set(1)}toggleFilters(){this.showFilters.update(t=>!t)}clearFilters(){this.filterPiso.set(""),this.filterEstado.set(""),this.filterAmbiente.set(""),this.filterSearch.set(""),this.currentPage.set(1)}setSortField(t){this.sortField()===t?this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc"):(this.sortField.set(t),this.sortOrder.set("asc"))}getSortIcon(t){return this.sortField()!==t?"\u2195":this.sortOrder()==="asc"?"\u2191":"\u2193"}getCategoriaIcon(t){return{Micr\u00F3fonos:"\u{1F3A4}",Parlantes:"\u{1F50A}",Teclados:"\u2328\uFE0F",Mouse:"\u{1F5B1}\uFE0F"}[t]||"\u{1F4E6}"}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}prevPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}deleteEquipo(t,n){this.confirmDialog.open("Eliminar equipo",`\xBFEst\xE1s seguro de que deseas eliminar "${n}"?`).then(r=>{r&&this.equipoService.delete(t).subscribe({next:()=>{this.toastService.success("Equipo eliminado exitosamente"),this.loadEquipos()},error:i=>{this.toastService.error("Error al eliminar equipo"),console.error(i)}})})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-inventario-list"]],decls:18,vars:14,consts:[[1,"container"],[1,"header"],[1,"header-title"],["routerLink","/menu","title","Volver al men\xFA",1,"btn-volver"],[1,"header-actions"],[1,"btn","btn-secondary"],[1,"btn","btn-filter",3,"click"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"categorias-grid"],[1,"filter-panel"],[1,"loading"],[1,"error"],[1,"btn","btn-secondary",3,"click"],[1,"categoria-card"],[1,"categoria-card",3,"click"],[1,"categoria-img",3,"src","alt"],[1,"categoria-icon"],[1,"categoria-nombre"],[1,"categoria-count"],[1,"filter-header"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"filter-content"],[1,"filter-group"],["for","filter-search"],["type","text","id","filter-search","placeholder","Nombre, marca, modelo...",1,"form-control",3,"ngModelChange","ngModel"],["for","filter-piso"],["id","filter-piso",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","filter-estado"],["id","filter-estado",1,"form-control",3,"ngModelChange","ngModel"],["for","filter-ambiente"],["id","filter-ambiente",1,"form-control",3,"ngModelChange","ngModel"],[1,"filter-summary"],[1,"filter-tag"],[1,"table-container","desktop-only"],[1,"table"],[1,"sortable",3,"click"],[1,"pagination"],[1,"cards-container","mobile-only"],[1,"card"],[1,"empty-card"],[1,"actions"],[1,"btn","btn-sm","btn-edit",3,"routerLink"],[1,"btn","btn-sm","btn-delete",3,"click"],["colspan","7",1,"empty"],[1,"btn","btn-sm","btn-secondary",3,"click","disabled"],[1,"pagination-info"],[1,"card-header"],[1,"card-nombre"],[1,"card-estado"],[1,"card-body",3,"routerLink"],[1,"card-id"],[1,"card-piso"],[1,"card-descripcion"],["class","card-ambiente",4,"ngIf"],[1,"card-actions"],[1,"card-ambiente"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),v(4," \u2190 "),m(),g(5,"h1"),v(6),m()(),g(7,"div",4),U(8,cR,2,0,"button",5),g(9,"button",6),H("click",function(){return r.toggleFilters()}),v(10," \u{1F50D} Filtros "),m(),g(11,"a",7),v(12," + Agregar "),m()()(),U(13,fR,3,0,"div",8),U(14,mR,35,4,"div",9),U(15,vR,2,0,"div",10),U(16,yR,2,1,"div",11),U(17,kR,2,2),m()),n&2&&(b(6),K(r.selectedCategoria()?r.selectedCategoria():"Equipos"),b(2),B(r.selectedCategoria()?8:-1),b(3),Lr("disabled",!r.selectedCategoria()),Ee("routerLink",vh(11,sR))("queryParams",An(12,aR,r.selectedCategoria())),b(2),B(r.selectedCategoria()?-1:13),b(),B(r.showFilters()&&r.selectedCategoria()?14:-1),b(),B(r.loading()?15:-1),b(),B(r.error()?16:-1),b(),B(!r.loading()&&!r.error()?17:-1))},dependencies:[nt,wh,fn,cr,Du,Iu,pn,ho,ar,Fn],styles:[".table-container[_ngcontent-%COMP%]{display:block}.desktop-only[_ngcontent-%COMP%]{display:table}.mobile-only[_ngcontent-%COMP%]{display:none}.cards-container[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.card-nombre[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.card-descripcion[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#666;font-size:.875rem}.card-estado[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem;border-radius:20px;background:#fff3}.card-estado.nuevo[_ngcontent-%COMP%]{background:#28a745}.card-estado.usado[_ngcontent-%COMP%]{background:#0055a4}.card-estado.desgastado[_ngcontent-%COMP%]{background:#fd7e14;color:#333}.card-estado.obsoleto[_ngcontent-%COMP%]{background:#dc3545}.card-body[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;transition:background-color .2s}.card-body[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;color:#1a1a2e}.card-marca[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#666;font-size:.875rem}.card-ambiente[_ngcontent-%COMP%]{margin:0;color:#0055a4;font-size:.875rem;font-weight:500}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #eee}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.empty-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#999;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.btn-filter[_ngcontent-%COMP%]{background:#0055a4;color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-size:.875rem;font-weight:500;transition:background-color .2s}.btn-filter[_ngcontent-%COMP%]:hover{background:#004080}.filter-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 16px #00000026;margin-bottom:1rem;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.filter-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.filter-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600}.filter-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#333}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:6px;font-size:.875rem}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;box-shadow:0 0 0 2px #0055a433}.filter-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;padding:.75rem 1rem;background:#e8f4ff;border-radius:8px;margin-bottom:1rem;font-size:.875rem;color:#0055a4}.filter-tag[_ngcontent-%COMP%]{background:#0055a4;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-top:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.pagination[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media(max-width:1000px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:flex!important}.cards-container[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.filter-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.btn-volver[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;font-size:1.5rem;font-weight:700;color:#0055a4;background:#fff;border:2px solid #0055A4;border-radius:50%;text-decoration:none;transition:all .3s ease;cursor:pointer}.btn-volver[_ngcontent-%COMP%]:hover{background:#0055a4;color:#fff;box-shadow:0 4px 12px #0055a466;transform:translate(-4px)}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.card-piso[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#0055a4;font-size:.875rem;font-weight:500}.card-id[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#1a1a2e;font-size:.875rem;font-weight:600}.categorias-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem;padding:1rem 0}.categoria-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;text-align:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0000001a;border:2px solid transparent}.categoria-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026;border-color:#0055a4}.categoria-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.75rem}.categoria-nombre[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1a1a2e;margin-bottom:.5rem}.categoria-count[_ngcontent-%COMP%]{font-size:.875rem;color:#666;background:#f0f4f8;padding:.25rem .75rem;border-radius:20px;display:inline-block}.categoria-img[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:contain;margin-bottom:.75rem}@media(max-width:600px){.categorias-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:.75rem}.categoria-card[_ngcontent-%COMP%]{padding:1rem}.categoria-icon[_ngcontent-%COMP%]{font-size:2rem}.categoria-nombre[_ngcontent-%COMP%]{font-size:.875rem}.categoria-count[_ngcontent-%COMP%]{font-size:.75rem}}"]})};var lr=class e{tableName="ambiente";getAll(){return ie(ke.from(this.tableName).select("*").order("id",{ascending:!0})).pipe(V(t=>{if(t.error)throw new Error(t.error.message);return t.data}))}getById(t){return ie(ke.from(this.tableName).select("*").eq("id",t).single()).pipe(V(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}create(t){return ie(ke.from(this.tableName).insert([t]).select().single()).pipe(V(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}update(t,n){return ie(ke.from(this.tableName).update(n).eq("id",t).select().single()).pipe(V(r=>{if(r.error)throw new Error(r.error.message);return r.data}))}delete(t){return ie(ke.from(this.tableName).delete().eq("id",t)).pipe(V(n=>{if(n.error)throw new Error(n.error.message)}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var PR=(e,t)=>t.id;function FR(e,t){e&1&&(g(0,"div",2),v(1,"Cargando..."),m())}function LR(e,t){if(e&1&&(g(0,"div",3),v(1),m()),e&2){let n=E();b(),K(n.error())}}function jR(e,t){if(e&1&&(g(0,"option",14),v(1),m()),e&2){let n=t.$implicit;Ee("value",n),b(),K(n)}}function VR(e,t){if(e&1&&(g(0,"option",41),v(1),m()),e&2){let n=t.$implicit,r=E(2);Ee("value",n.id)("selected",r.form.ambientecodigo===n.codigo),b(),Xc(" ",n.codigo," - ",n.nombre," ")}}function UR(e,t){if(e&1){let n=te();g(0,"form",5),H("ngSubmit",function(){x(n);let i=E();return A(i.onSubmit())}),g(1,"div",6)(2,"label",7),v(3,"ID del Equipo (DNI)"),m(),g(4,"input",8),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.codigoid,i)||(o.form.codigoid=i),A(i)}),m()(),g(5,"div",6)(6,"label",9),v(7,"Nombre *"),m(),g(8,"input",10),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.nombre,i)||(o.form.nombre=i),A(i)}),m()(),g(9,"div",6)(10,"label",11),v(11,"Categor\xEDa *"),m(),g(12,"select",12),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.categoria,i)||(o.form.categoria=i),A(i)}),g(13,"option",13),v(14,"Seleccionar categor\xEDa"),m(),et(15,jR,2,2,"option",14,Kn),m()(),g(17,"div",6)(18,"label",15),v(19,"Descripci\xF3n"),m(),g(20,"textarea",16),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.descripcion,i)||(o.form.descripcion=i),A(i)}),m()(),g(21,"div",6)(22,"label",17),v(23,"Piso"),m(),g(24,"select",18),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.piso,i)||(o.form.piso=i),A(i)}),g(25,"option",13),v(26,"Sin asignar"),m(),g(27,"option",19),v(28,"S\xF3tano"),m(),g(29,"option",20),v(30,"Piso 1"),m(),g(31,"option",21),v(32,"Piso 2"),m(),g(33,"option",22),v(34,"Piso 3"),m(),g(35,"option",23),v(36,"Piso 4"),m(),g(37,"option",24),v(38,"Piso 5"),m(),g(39,"option",25),v(40,"Piso 6"),m(),g(41,"option",26),v(42,"Piso 7"),m(),g(43,"option",27),v(44,"Piso 8"),m()()(),g(45,"div",28)(46,"div",6)(47,"label",29),v(48,"Marca *"),m(),g(49,"input",30),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.marca,i)||(o.form.marca=i),A(i)}),m()(),g(50,"div",6)(51,"label",31),v(52,"Modelo *"),m(),g(53,"input",32),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.modelo,i)||(o.form.modelo=i),A(i)}),m()()(),g(54,"div",28)(55,"div",6)(56,"label",33),v(57,"Estado *"),m(),g(58,"select",34),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.estado,i)||(o.form.estado=i),A(i)}),g(59,"option",13),v(60,"Seleccionar estado"),m(),g(61,"option",35),v(62,"Nuevo"),m(),g(63,"option",36),v(64,"Usado"),m(),g(65,"option",37),v(66,"Desgastado"),m(),g(67,"option",38),v(68,"Obsoleto"),m()()(),g(69,"div",6)(70,"label",39),v(71,"Ambiente (C\xF3digo)"),m(),g(72,"select",40),H("change",function(i){x(n);let o=E();return A(o.onAmbienteChange(i))}),g(73,"option",13),v(74,"Sin asignar"),m(),et(75,VR,2,4,"option",41,PR),m()()(),g(77,"div",42)(78,"button",43),v(79),m(),g(80,"button",44),H("click",function(){x(n);let i=E();return A(i.cancel())}),v(81," Cancelar "),m()()()}if(e&2){let n=E();b(4),he("ngModel",n.form.codigoid),b(4),he("ngModel",n.form.nombre),b(4),he("ngModel",n.form.categoria),b(3),tt(n.categorias),b(5),he("ngModel",n.form.descripcion),b(4),he("ngModel",n.form.piso),b(25),he("ngModel",n.form.marca),b(4),he("ngModel",n.form.modelo),b(5),he("ngModel",n.form.estado),b(17),tt(n.ambientes()),b(4),fe(" ",n.isEditing()?"Actualizar":"Crear"," ")}}var sa=class e{equipoService=y(po);ambienteService=y(lr);router=y(yt);route=y(ct);toastService=y(Pt);isEditing=k(!1);loading=k(!1);error=k(null);ambientes=k([]);categorias=Tu;form={codigoid:"",nombre:"",descripcion:"",piso:"",categoria:"",marca:"",modelo:"",estado:"",ambientecodigo:"",ambientenombre:""};equipoId=null;fromCategoria=null;equipoCategoria=null;ngOnInit(){this.loadAmbientes(),this.fromCategoria=this.route.snapshot.queryParamMap.get("categoria");let t=this.route.snapshot.paramMap.get("id");t?(this.isEditing.set(!0),this.equipoId=+t,this.loadEquipo(this.equipoId)):this.fromCategoria&&(this.form.categoria=this.fromCategoria)}loadAmbientes(){this.ambienteService.getAll().subscribe({next:t=>{this.ambientes.set(t)},error:t=>{console.error("Error al cargar ambientes",t)}})}loadEquipo(t){this.loading.set(!0),this.equipoService.getById(t).subscribe({next:n=>{this.form={codigoid:n.codigoid,nombre:n.nombre,descripcion:n.descripcion||"",piso:n.piso||"",categoria:n.categoria||"",marca:n.marca,modelo:n.modelo,estado:n.estado,ambientecodigo:n.ambientecodigo||"",ambientenombre:n.ambientenombre||""},this.equipoCategoria=n.categoria||null,this.loading.set(!1)},error:n=>{this.error.set("Error al cargar equipo"),this.loading.set(!1),console.error(n)}})}getCategoria(){return this.equipoCategoria?this.equipoCategoria:this.fromCategoria}navigateToList(){let t=this.getCategoria();t?this.router.navigate(["/equipos"],{queryParams:{categoria:t}}):this.router.navigate(["/equipos"])}onAmbienteChange(t){let r=t.target.value;if(!r){this.form.ambientecodigo="",this.form.ambientenombre="";return}let i=this.ambientes().find(o=>o.id===+r);i&&(this.form.ambientecodigo=i.codigo,this.form.ambientenombre=i.nombre)}onSubmit(){this.equipoId?this.update():this.create()}create(){this.loading.set(!0),this.error.set(null),this.equipoService.create(this.form).subscribe({next:()=>{this.toastService.success("Equipo creado exitosamente"),this.navigateToList()},error:t=>{this.error.set("Error al crear equipo"),this.loading.set(!1),console.error(t)}})}update(){this.equipoId&&(this.loading.set(!0),this.error.set(null),this.equipoService.update(this.equipoId,this.form).subscribe({next:()=>{this.toastService.success("Equipo actualizado exitosamente"),this.navigateToList()},error:t=>{this.error.set("Error al actualizar equipo"),this.loading.set(!1),console.error(t)}}))}cancel(){this.toastService.success("Se cancel\xF3 exitosamente"),this.navigateToList()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-producto-form"]],decls:7,vars:4,consts:[[1,"container"],[1,"header"],[1,"loading"],[1,"error"],[1,"form"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","codigoid"],["type","text","id","codigoid","name","codigoid","placeholder","Ej: ADEX-001",1,"form-control",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria"],["id","categoria","name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","piso"],["id","piso","name","piso",1,"form-control",3,"ngModelChange","ngModel"],["value","S\xF3tano"],["value","Piso 1"],["value","Piso 2"],["value","Piso 3"],["value","Piso 4"],["value","Piso 5"],["value","Piso 6"],["value","Piso 7"],["value","Piso 8"],[1,"form-row"],["for","marca"],["type","text","id","marca","name","marca","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","modelo"],["type","text","id","modelo","name","modelo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Nuevo"],["value","Usado"],["value","Desgastado"],["value","Obsoleto"],["for","ambiente"],["id","ambiente",1,"form-control",3,"change"],[3,"value","selected"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"header",1)(2,"h1"),v(3),m()(),U(4,FR,2,0,"div",2),U(5,LR,2,1,"div",3),U(6,UR,82,9,"form",4),m()),n&2&&(b(3),fe("",r.isEditing()?"Editar":"Nuevo"," Equipo"),b(),B(r.loading()?4:-1),b(),B(r.error()?5:-1),b(),B(r.loading()?-1:6))},dependencies:[nt,cr,fo,Du,Iu,pn,ho,ar,uo,ai,Fn,si],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333}.form[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;box-shadow:0 0 0 2px #0055a440}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:24px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#0055a4;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#004080}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:12px;border-radius:4px;margin-bottom:20px}"]})};var Fb=e=>["/ambientes",e],Pb=(e,t)=>t.id;function BR(e,t){e&1&&(g(0,"div",4),v(1,"Cargando ambientes..."),m())}function $R(e,t){if(e&1&&(g(0,"div",5),v(1),m()),e&2){let n=E();b(),K(n.error())}}function HR(e,t){if(e&1){let n=te();g(0,"tr")(1,"td"),v(2),m(),g(3,"td"),v(4),m(),g(5,"td"),v(6),m(),g(7,"td",12)(8,"a",13),v(9," Editar "),m(),g(10,"button",14),H("click",function(){let i=x(n).$implicit,o=E(2);return A(o.deleteAmbiente(i.id))}),v(11," Eliminar "),m()()()}if(e&2){let n=t.$implicit;b(2),K(n.codigo),b(2),K(n.nombre),b(2),K(n.ubicacion),b(2),Ee("routerLink",An(4,Fb,n.id))}}function qR(e,t){e&1&&(g(0,"tr")(1,"td",15),v(2,"No hay ambientes"),m()())}function zR(e,t){if(e&1){let n=te();g(0,"div",8)(1,"button",16),H("click",function(){x(n);let i=E(2);return A(i.prevPage())}),v(2," \u2190 Anterior "),m(),g(3,"span",17),v(4),m(),g(5,"button",16),H("click",function(){x(n);let i=E(2);return A(i.nextPage())}),v(6," Siguiente \u2192 "),m()()}if(e&2){let n=E(2);b(),Ee("disabled",n.currentPage()===1),b(3),Oi(" ",n.ambientes().length," ambientes - P\xE1gina ",n.currentPage()," de ",n.totalPages()," "),b(),Ee("disabled",n.currentPage()===n.totalPages())}}function GR(e,t){if(e&1){let n=te();g(0,"div",10)(1,"div",18)(2,"span",19),v(3),m()(),g(4,"div",20)(5,"h3"),v(6),m(),g(7,"p",21),v(8),m()(),g(9,"div",22)(10,"a",13),v(11," Editar "),m(),g(12,"button",14),H("click",function(){let i=x(n).$implicit,o=E(2);return A(o.deleteAmbiente(i.id))}),v(13," Eliminar "),m()()()}if(e&2){let n=t.$implicit;b(3),K(n.codigo),b(3),K(n.nombre),b(2),fe("\u{1F4CD} ",n.ubicacion),b(2),Ee("routerLink",An(4,Fb,n.id))}}function WR(e,t){e&1&&(g(0,"div",11),v(1,"No hay ambientes registrados"),m())}function KR(e,t){if(e&1&&(g(0,"div",6)(1,"table",7)(2,"thead")(3,"tr")(4,"th"),v(5,"C\xF3digo"),m(),g(6,"th"),v(7,"Nombre"),m(),g(8,"th"),v(9,"Ubicaci\xF3n"),m(),g(10,"th"),v(11,"Acciones"),m()()(),g(12,"tbody"),et(13,HR,12,6,"tr",null,Pb,!1,qR,3,0,"tr"),m()(),U(16,zR,7,5,"div",8),m(),g(17,"div",9),et(18,GR,14,6,"div",10,Pb,!1,WR,2,0,"div",11),m()),e&2){let n=E();b(13),tt(n.ambientesPaginados()),b(3),B(n.totalPages()>1?16:-1),b(2),tt(n.ambientes())}}var xu=class e{ambienteService=y(lr);ambientes=k([]);loading=k(!0);error=k(null);pageSize=10;currentPage=k(1);totalPages=Ye(()=>Math.ceil(this.ambientes().length/this.pageSize));ambientesPaginados=Ye(()=>{let t=(this.currentPage()-1)*this.pageSize,n=t+this.pageSize;return this.ambientes().slice(t,n)});ngOnInit(){this.loadAmbientes()}loadAmbientes(){this.loading.set(!0),this.error.set(null),this.ambienteService.getAll().subscribe({next:t=>{this.ambientes.set(t),this.currentPage.set(1),this.loading.set(!1)},error:t=>{this.error.set("Error al cargar ambientes"),this.loading.set(!1),console.error(t)}})}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}prevPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}deleteAmbiente(t){confirm("\xBFEst\xE1s seguro de eliminar este ambiente?")&&this.ambienteService.delete(t).subscribe({next:()=>{this.loadAmbientes()},error:n=>{this.error.set("Error al eliminar ambiente"),console.error(n)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-ambiente-list"]],decls:12,vars:3,consts:[[1,"container"],[1,"header"],["routerLink","/menu",1,"btn","btn-secondary","btn-sm"],["routerLink","/ambientes/nuevo",1,"btn","btn-primary"],[1,"loading"],[1,"error"],[1,"table-container","desktop-only"],[1,"table"],[1,"pagination"],[1,"cards-container","mobile-only"],[1,"card"],[1,"empty-card"],[1,"actions"],[1,"btn","btn-sm","btn-edit",3,"routerLink"],[1,"btn","btn-sm","btn-delete",3,"click"],["colspan","4",1,"empty"],[1,"btn","btn-sm","btn-secondary",3,"click","disabled"],[1,"pagination-info"],[1,"card-header"],[1,"card-codigo"],[1,"card-body"],[1,"card-ubicacion"],[1,"card-actions"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"header",1)(2,"div")(3,"a",2),v(4,"\u2190 Volver"),m(),g(5,"h1"),v(6,"Ambientes"),m()(),g(7,"a",3),v(8," + Agregar "),m()(),U(9,BR,2,0,"div",4),U(10,$R,2,1,"div",5),U(11,KR,21,3),m()),n&2&&(b(9),B(r.loading()?9:-1),b(),B(r.error()?10:-1),b(),B(!r.loading()&&!r.error()?11:-1))},dependencies:[nt,fn],styles:[".container[_ngcontent-%COMP%]{padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}h1[_ngcontent-%COMP%]{margin:0}.table-container[_ngcontent-%COMP%]{display:block}.desktop-only[_ngcontent-%COMP%]{display:table}.mobile-only[_ngcontent-%COMP%]{display:none}.cards-container[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.card-codigo[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;color:#1a1a2e}.card-ubicacion[_ngcontent-%COMP%]{margin:0;color:#0055a4;font-size:.875rem;font-weight:500}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #eee}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.empty-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#999;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-top:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.pagination[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 4px #0000001a}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#0055a4;color:#fff}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.loading[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#666}.error[_ngcontent-%COMP%]{padding:1rem;background:#fee;color:#c00;border-radius:4px;margin-bottom:1rem}.empty[_ngcontent-%COMP%]{text-align:center;color:#999;padding:2rem}@media(max-width:1000px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:flex!important}.cards-container[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}"]})};function YR(e,t){e&1&&(g(0,"div",2),v(1,"Cargando..."),m())}function ZR(e,t){if(e&1&&(g(0,"div",3),v(1),m()),e&2){let n=E();b(),K(n.error())}}function JR(e,t){if(e&1){let n=te();g(0,"form",5),H("ngSubmit",function(){x(n);let i=E();return A(i.onSubmit())}),g(1,"div",6)(2,"label",7),v(3,"C\xF3digo *"),m(),g(4,"input",8),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.codigo,i)||(o.form.codigo=i),A(i)}),m()(),g(5,"div",6)(6,"label",9),v(7,"Nombre *"),m(),g(8,"input",10),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.nombre,i)||(o.form.nombre=i),A(i)}),m()(),g(9,"div",6)(10,"label",11),v(11,"Ubicaci\xF3n *"),m(),g(12,"input",12),pe("ngModelChange",function(i){x(n);let o=E();return ve(o.form.ubicacion,i)||(o.form.ubicacion=i),A(i)}),m()(),g(13,"div",13)(14,"button",14),v(15),m(),g(16,"button",15),H("click",function(){x(n);let i=E();return A(i.cancel())}),v(17," Cancelar "),m()()()}if(e&2){let n=E();b(4),he("ngModel",n.form.codigo),b(4),he("ngModel",n.form.nombre),b(4),he("ngModel",n.form.ubicacion),b(3),fe(" ",n.isEditing()?"Actualizar":"Crear"," ")}}var aa=class e{ambienteService=y(lr);router=y(yt);route=y(ct);isEditing=k(!1);loading=k(!1);error=k(null);form={codigo:"",nombre:"",ubicacion:""};ambienteId=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.isEditing.set(!0),this.ambienteId=+t,this.loadAmbiente(this.ambienteId))}loadAmbiente(t){this.loading.set(!0),this.ambienteService.getById(t).subscribe({next:n=>{this.form={codigo:n.codigo,nombre:n.nombre,ubicacion:n.ubicacion},this.loading.set(!1)},error:n=>{this.error.set("Error al cargar ambiente"),this.loading.set(!1),console.error(n)}})}onSubmit(){this.ambienteId?this.update():this.create()}create(){this.loading.set(!0),this.error.set(null),this.ambienteService.create(this.form).subscribe({next:()=>{this.router.navigate(["/ambientes"])},error:t=>{this.error.set("Error al crear ambiente"),this.loading.set(!1),console.error(t)}})}update(){this.ambienteId&&(this.loading.set(!0),this.error.set(null),this.ambienteService.update(this.ambienteId,this.form).subscribe({next:()=>{this.router.navigate(["/ambientes"])},error:t=>{this.error.set("Error al actualizar ambiente"),this.loading.set(!1),console.error(t)}}))}cancel(){this.router.navigate(["/ambientes"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-ambiente-form"]],decls:7,vars:4,consts:[[1,"container"],[1,"header"],[1,"loading"],[1,"error"],[1,"form"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","codigo"],["type","text","id","codigo","name","codigo","required","","placeholder","Ej: A001",1,"form-control",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","id","nombre","name","nombre","required","","placeholder","Ej: Aula 101",1,"form-control",3,"ngModelChange","ngModel"],["for","ubicacion"],["type","text","id","ubicacion","name","ubicacion","required","","placeholder","Ej: Edificio A - Piso 1",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"header",1)(2,"h1"),v(3),m()(),U(4,YR,2,0,"div",2),U(5,ZR,2,1,"div",3),U(6,JR,18,4,"form",4),m()),n&2&&(b(3),fe("",r.isEditing()?"Editar":"Nuevo"," Ambiente"),b(),B(r.loading()?4:-1),b(),B(r.error()?5:-1),b(),B(r.loading()?-1:6))},dependencies:[nt,cr,fo,pn,ar,uo,ai,Fn,si],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#4a5568}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.loading[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#666}.error[_ngcontent-%COMP%]{padding:1rem;background:#fee;color:#c00;border-radius:8px;margin-bottom:1rem}"]})};var Lb=[{path:"",component:fu},{path:"menu",component:hu},{path:"equipos",component:Mu},{path:"equipos/nuevo",component:sa},{path:"equipos/:id",component:sa},{path:"ambientes",component:xu},{path:"ambientes/nuevo",component:aa},{path:"ambientes/:id",component:aa}];var jp="Service workers are disabled or not supported by this browser",mo=class{serviceWorker;worker;registration;events;constructor(t,n){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new W(r=>r.error(new S(5601,!1)));else{let r=null,i=new ye;this.worker=new W(l=>(r!==null&&l.next(r),i.subscribe(u=>l.next(u))));let o=()=>{let{controller:l}=t;l!==null&&(r=l,i.next(r))};t.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Xe(()=>t.getRegistration().then(l=>{if(!l)throw new S(5601,!1);return l})));let s=new ye;this.events=s.asObservable();let a=l=>{let{data:u}=l;u?.type&&s.next(u)};t.addEventListener("message",a),n?.get(Kt,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",o),t.removeEventListener("message",a)})}}postMessage(t,n){return new Promise(r=>{this.worker.pipe(st(1)).subscribe(i=>{i.postMessage(I({action:t},n)),r()})})}postMessageWithOperation(t,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(t,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let n;return typeof t=="string"?n=r=>r.type===t:n=r=>t.includes(r.type),this.events.pipe(ut(n))}nextEventOfType(t){return this.eventsOfType(t).pipe(st(1))}waitForOperationCompleted(t){return new Promise((n,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(ut(i=>i.nonce===t),st(1),V(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:n,error:r})})}get isEnabled(){return!!this.serviceWorker}},QR=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ye;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=mn,this.notificationClicks=mn,this.notificationCloses=mn,this.pushSubscriptionChanges=mn,this.subscription=mn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(V(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(V(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(V(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(V(i=>i.data)),this.pushManager=this.sw.registration.pipe(V(i=>i.pushManager));let r=this.pushManager.pipe(Xe(i=>i.getSubscription()));this.subscription=new W(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(jp));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Xe(c=>c.subscribe(r)),st(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(jp));let n=r=>{if(r===null)throw new S(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new S(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(st(1),Xe(n)).subscribe({next:r,error:i})})}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||e)(P(mo))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),XR=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=mn,this.unrecoverable=mn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jp));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new S(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||e)(P(mo))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Vb=new R("");function eN(){let e=y(ca);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let t=y(Vb),n=y(Ge),r=y(Kt);n.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),n.runOutsideAngular(()=>{let i,{registrationStrategy:o}=e;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=jb(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),jb(+a[0])]);break;default:throw new S(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(t,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(s=>console.error(bn(5604,!1)))})})}function jb(e){return new Promise(t=>setTimeout(t,e))}function tN(){let e=y(ca),t=y(dt),n=!0;return new mo(n&&e.enabled!==!1?navigator.serviceWorker:void 0,t)}var ca=class{enabled;updateViaCache;type;scope;registrationStrategy};function Ub(e,t={}){return Vt([QR,XR,{provide:Vb,useValue:e},{provide:ca,useValue:t},{provide:mo,useFactory:tN},Jc(eN)])}var Bb={providers:[lf(),op(Lb),kh(),Ub("ngsw-worker.js",{enabled:!ky(),registrationStrategy:"registerWhenStable:30000"})]};var nN=(e,t)=>t.id;function rN(e,t){if(e&1){let n=te();Re(0,"div",2)(1,"span",3),v(2),Ve(),Re(3,"button",4),xt("click",function(){let i=x(n).$implicit,o=E();return A(o.toastService.remove(i.id))}),v(4,"\xD7"),Ve()()}if(e&2){let n=t.$implicit;as("toast-"+n.type),b(2),K(n.message)}}var Au=class e{toastService=y(Pt);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-container"],[1,"toast",3,"class"],[1,"toast"],[1,"toast-message"],[1,"toast-close",3,"click"]],template:function(n,r){n&1&&(Re(0,"div",0),et(1,rN,5,3,"div",1,nN),Ve()),n&2&&(b(),tt(r.toastService.toasts()))},dependencies:[nt],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:9999;display:flex;flex-direction:column;gap:12px}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 20px;border-radius:10px;box-shadow:0 4px 16px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease;min-width:280px;max-width:400px}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.toast-message[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}.toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.4rem;cursor:pointer;opacity:.7;padding:0;line-height:1}.toast-close[_ngcontent-%COMP%]:hover{opacity:1}.toast-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border-left:4px solid #28a745}.toast-success[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#155724}.toast-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border-left:4px solid #dc3545}.toast-error[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#721c24}.toast-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460;border-left:4px solid #17a2b8}.toast-info[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#0c5460}.toast-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;border-left:4px solid #ffc107}.toast-warning[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#856404}"]})};function iN(e,t){if(e&1){let n=te();Re(0,"div",1),xt("click",function(){x(n);let i=E();return A(i.dialogService.cancel())}),Re(1,"div",2),xt("click",function(i){return x(n),A(i.stopPropagation())}),Re(2,"div",3),v(3,"\u{1F5D1}\uFE0F"),Ve(),Re(4,"h3",4),v(5),Ve(),Re(6,"p",5),v(7),Ve(),Re(8,"div",6)(9,"button",7),xt("click",function(){x(n);let i=E();return A(i.dialogService.cancel())}),v(10," Cancelar "),Ve(),Re(11,"button",8),xt("click",function(){x(n);let i=E();return A(i.dialogService.confirm())}),v(12," Eliminar "),Ve()()()()}if(e&2){let n=E();b(5),K(n.dialogService.data().title),b(2),K(n.dialogService.data().message)}}var Ru=class e{dialogService=y(go);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-confirm-dialog"]],decls:1,vars:1,consts:[[1,"dialog-overlay"],[1,"dialog-overlay",3,"click"],[1,"dialog",3,"click"],[1,"dialog-icon"],[1,"dialog-title"],[1,"dialog-message"],[1,"dialog-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&U(0,iN,13,2,"div",0),n&2&&B(r.dialogService.isOpen()?0:-1)},dependencies:[nt],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.dialog[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;max-width:400px;width:90%;text-align:center;animation:_ngcontent-%COMP%_slideUp .3s ease;box-shadow:0 10px 40px #0003}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.dialog-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.dialog-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;color:#1a1a2e;font-weight:600}.dialog-message[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#666;font-size:1rem;line-height:1.5}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-2px);box-shadow:0 4px 12px #dc35454d}"]})};function oN(e,t){e&1&&(g(0,"div",6),v(1,"Cargando..."),m())}function sN(e,t){if(e&1&&(g(0,"div",7),v(1),m()),e&2){let n=E(2);b(),K(n.error())}}function aN(e,t){if(e&1){let n=te();g(0,"div",10)(1,"label",17),v(2,"Nombre"),m(),g(3,"input",18),pe("ngModelChange",function(i){x(n);let o=E(3);return ve(o.nombre,i)||(o.nombre=i),A(i)}),m()()}if(e&2){let n=E(3);b(3),he("ngModel",n.nombre)}}function cN(e,t){if(e&1){let n=te();g(0,"div",10)(1,"label",19),v(2,"Confirmar Contrase\xF1a"),m(),g(3,"input",20),pe("ngModelChange",function(i){x(n);let o=E(3);return ve(o.confirmPassword,i)||(o.confirmPassword=i),A(i)}),m()()}if(e&2){let n=E(3);b(3),he("ngModel",n.confirmPassword)}}function lN(e,t){if(e&1){let n=te();g(0,"p"),v(1,"\xBFNo tienes cuenta? "),g(2,"a",21),H("click",function(){x(n);let i=E(3);return A(i.setMode("register"))}),v(3,"Reg\xEDstrate"),m()(),g(4,"p",22)(5,"a",21),H("click",function(){x(n);let i=E(3);return A(i.setMode("reset"))}),v(6,"\xBFOlvidaste tu contrase\xF1a?"),m()()}}function uN(e,t){if(e&1){let n=te();g(0,"p"),v(1,"\xBFRecordaste tu contrase\xF1a? "),g(2,"a",21),H("click",function(){x(n);let i=E(3);return A(i.setMode("login"))}),v(3,"Inicia Sesi\xF3n"),m()()}}function dN(e,t){if(e&1){let n=te();g(0,"p"),v(1,"\xBFYa tienes cuenta? "),g(2,"a",21),H("click",function(){x(n);let i=E(3);return A(i.setMode("login"))}),v(3,"Inicia Sesi\xF3n"),m()()}}function fN(e,t){if(e&1){let n=te();g(0,"form",9),H("ngSubmit",function(){x(n);let i=E(2);return A(i.onSubmit())}),U(1,aN,4,1,"div",10),g(2,"div",10)(3,"label",11),v(4,"Correo Electr\xF3nico"),m(),g(5,"input",12),pe("ngModelChange",function(i){x(n);let o=E(2);return ve(o.email,i)||(o.email=i),A(i)}),m()(),g(6,"div",10)(7,"label",13),v(8,"Contrase\xF1a"),m(),g(9,"input",14),pe("ngModelChange",function(i){x(n);let o=E(2);return ve(o.password,i)||(o.password=i),A(i)}),m()(),U(10,cN,4,1,"div",10),g(11,"button",15),v(12),m()(),g(13,"div",16),U(14,lN,7,0)(15,uN,4,0,"p")(16,dN,4,0,"p"),m()}if(e&2){let n=E(2);b(),B(n.isLogin()?-1:1),b(4),he("ngModel",n.email),b(4),he("ngModel",n.password),b(),B(n.isLogin()?-1:10),b(2),fe(" ",n.isLogin()?"Iniciar Sesi\xF3n":"Crear Cuenta"," "),b(2),B(n.isLogin()?14:n.isReset()?15:16)}}function hN(e,t){if(e&1){let n=te();g(0,"div",8)(1,"div",23),v(2,"\u2713"),m(),g(3,"h3"),v(4,"\xA1Cuenta creada!"),m(),g(5,"p"),v(6,"Por favor verifica tu correo electr\xF3nico para activar tu cuenta."),m(),g(7,"button",24),H("click",function(){x(n);let i=E(2);return A(i.setMode("login"))}),v(8,"Ir a Iniciar Sesi\xF3n"),m()()}}function pN(e,t){if(e&1){let n=te();g(0,"div",1),H("click",function(){x(n);let i=E();return A(i.close())}),g(1,"div",2),H("click",function(i){return x(n),A(i.stopPropagation())}),g(2,"button",3),H("click",function(){x(n);let i=E();return A(i.close())}),v(3,"\xD7"),m(),g(4,"div",4)(5,"div",5),v(6,"\u{1F3E2} ADEX"),m(),g(7,"h2"),v(8),m()(),U(9,oN,2,0,"div",6),U(10,sN,2,1,"div",7),U(11,fN,17,6),U(12,hN,9,0,"div",8),m()()}if(e&2){let n=E();b(8),K(n.isLogin()?"Iniciar Sesi\xF3n":"Crear Cuenta"),b(),B(n.loading()?9:-1),b(),B(n.error()?10:-1),b(),B(n.loading()?-1:11),b(),B(n.showConfirmationMessage()?12:-1)}}var Nu=class e{authService=y(or);toastService=y(Pt);isOpen=k(!1);isLogin=k(!0);isReset=k(!1);loading=k(!1);error=k(null);showConfirmationMessage=k(!1);email="";password="";confirmPassword="";nombre="";constructor(){window.addEventListener("open-auth-modal",()=>{this.open()})}open(){this.isOpen.set(!0),this.resetForm()}close(){this.isOpen.set(!1)}setMode(t){this.isLogin.set(t==="login"),this.isReset.set(t==="reset"),this.error.set(null),this.showConfirmationMessage.set(!1),this.resetForm()}resetForm(){this.email="",this.password="",this.confirmPassword="",this.nombre="",this.error.set(null),this.loading.set(!1)}async onSubmit(){if(this.error.set(null),!this.email||!this.password){this.error.set("Por favor completa todos los campos");return}if(!this.isLogin()&&this.password!==this.confirmPassword){this.error.set("Las contrase\xF1as no coinciden");return}if(this.loading.set(!0),this.isLogin()){let{error:t}=await this.authService.signIn(this.email,this.password);this.loading.set(!1),t?this.error.set(t):(this.toastService.success("\xA1Bienvenido de nuevo!"),this.close())}else if(this.isReset()){let{error:t}=await this.authService.resetPassword(this.email);this.loading.set(!1),t?this.error.set(t):(this.toastService.success("Se ha enviado un correo para restablecer tu contrase\xF1a"),this.setMode("login"))}else{let{error:t,needsConfirmation:n}=await this.authService.signUp(this.email,this.password);this.loading.set(!1),t?this.error.set(t):n?this.showConfirmationMessage.set(!0):(this.toastService.success("\xA1Cuenta creada exitosamente!"),this.close())}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-auth-modal"]],decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"modal-header"],[1,"logo"],[1,"loading"],[1,"error"],[1,"success-message"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","tu@email.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"toggle-section"],["for","nombre"],["type","text","id","nombre","name","nombre","placeholder","Tu nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],[3,"click"],[1,"forgot-password"],[1,"success-icon"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&U(0,pN,13,5,"div",0),n&2&&B(r.isOpen()?0:-1)},dependencies:[nt,cr,fo,pn,ar,uo,ai,Fn,si],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;width:90%;max-width:400px;position:relative;animation:_ngcontent-%COMP%_slideUp .3s ease;box-shadow:0 10px 40px #0003}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;background:none;border:none;font-size:1.5rem;cursor:pointer;color:#999;transition:color .2s}.close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.logo[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0055a4;margin-bottom:.5rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem;font-weight:500;color:#333;font-size:.875rem}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #ddd;border-radius:8px;font-size:1rem;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;box-shadow:0 0 0 3px #0055a41a}.btn[_ngcontent-%COMP%]{width:100%;padding:.875rem;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:background-color .2s,transform .1s;margin-top:.5rem}.btn-primary[_ngcontent-%COMP%]{background:#0055a4;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#004080}.btn-primary[_ngcontent-%COMP%]:active{transform:scale(.98)}.toggle-section[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;padding-top:1rem;border-top:1px solid #eee}.toggle-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#666;font-size:.875rem}.toggle-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0055a4;cursor:pointer;font-weight:500;text-decoration:none}.toggle-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.forgot-password[_ngcontent-%COMP%]{font-size:.8rem!important}.error[_ngcontent-%COMP%]{background:#fee;color:#c00;padding:.75rem;border-radius:8px;margin-bottom:1rem;font-size:.875rem}.loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.success-message[_ngcontent-%COMP%]{text-align:center;padding:1rem}.success-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:#28a745;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto 1rem}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#333}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}"]})};function gN(e,t){if(e&1){let n=te();g(0,"div",0)(1,"div",1)(2,"div",2),v(3,"\u{1F3E2} ADEX Inventario"),m(),g(4,"div",3)(5,"span",4),v(6),m(),g(7,"button",5),H("click",function(){x(n);let i=E();return A(i.logout())}),v(8,"Cerrar Sesi\xF3n"),m()()()()}if(e&2){let n,r=E();b(6),K((n=r.authService.user())==null?null:n.email)}}var Ou=class e{authService=y(or);toastService=y(Pt);logout(){this.authService.signOut(),this.toastService.success("Sesi\xF3n cerrada")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=be({type:e,selectors:[["app-root"]],decls:5,vars:1,consts:[[1,"header-bar"],[1,"header-content"],["routerLink","/",1,"logo"],[1,"user-section"],[1,"user-email"],[1,"btn","btn-logout",3,"click"]],template:function(n,r){n&1&&(xn(0,"app-toast")(1,"app-confirm-dialog")(2,"app-auth-modal"),U(3,gN,9,1,"div",0),xn(4,"router-outlet")),n&2&&(b(3),B(r.authService.isAuthenticated()?3:-1))},dependencies:[As,fn,Au,Ru,Nu],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;background-color:#f5f5f5;color:#333;line-height:1.6}.header-bar[_ngcontent-%COMP%]{background:#fff;padding:.75rem 2rem;box-shadow:0 2px 8px #0000001a;position:sticky;top:0;z-index:1000}.header-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0055a4;cursor:pointer;transition:opacity .2s}.logo[_ngcontent-%COMP%]:hover{opacity:.8}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-email[_ngcontent-%COMP%]{color:#666;font-size:.875rem}.btn-logout[_ngcontent-%COMP%]{background:transparent;color:#0055a4;border:1px solid #0055A4;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.875rem;font-weight:500;transition:all .2s}.btn-logout[_ngcontent-%COMP%]:hover{background:#0055a4;color:#fff}"]})};xh(Ou,Bb).catch(e=>console.error(e));
