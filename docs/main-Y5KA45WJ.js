var Bw=Object.defineProperty,$w=Object.defineProperties;var Hw=Object.getOwnPropertyDescriptors;var Lp=Object.getOwnPropertySymbols;var qw=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable;var jp=(e,t,n)=>t in e?Bw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D=(e,t)=>{for(var n in t||={})qw.call(t,n)&&jp(e,n,t[n]);if(Lp)for(var n of Lp(t))zw.call(t,n)&&jp(e,n,t[n]);return e},J=(e,t)=>$w(e,Hw(t));var Ye=null,aa=!1,ku=1,Gw=null,et=Symbol("SIGNAL");function k(e){let t=Ye;return Ye=e,t}function la(){return Ye}var ho={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function po(e){if(aa)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(e);let t=Ye.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ye.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ye.producers,n!==void 0&&n.producer===e)){Ye.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ye&&(!r||Kw(i,Ye)))return;let o=ri(Ye),s={producer:e,consumer:Ye,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ye.producersTail=s,t!==void 0?t.nextProducer=s:Ye.producers=s,o&&$p(e,s)}function Vp(){ku++}function Pu(e){if(!(ri(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ku)){if(!e.producerMustRecompute(e)&&!da(e)){Ou(e);return}e.producerRecomputeValue(e),Ou(e)}}function Fu(e){if(e.consumers===void 0)return;let t=aa;aa=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Ww(r)}}finally{aa=t}}function Lu(){return Ye?.consumerAllowSignalWrites!==!1}function Ww(e){e.dirty=!0,Fu(e),e.consumerMarkedDirty?.(e)}function Ou(e){e.dirty=!1,e.lastCleanEpoch=ku}function go(e){return e&&Up(e),k(e)}function Up(e){e.producersTail=void 0,e.recomputing=!0}function ua(e,t){k(t),e&&Bp(e)}function Bp(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(ri(e))do n=ju(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function da(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Pu(n),r!==n.version))return!0}return!1}function mo(e){if(ri(e)){let t=e.producers;for(;t!==void 0;)t=ju(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function $p(e,t){let n=e.consumersTail,r=ri(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)$p(i.producer,i)}function ju(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!ri(t)){let o=t.producers;for(;o!==void 0;)o=ju(o)}return n}function ri(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Vu(e){Gw?.(e)}function Kw(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Uu(e,t){return Object.is(e,t)}function fa(e,t){let n=Object.create(Yw);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Pu(n),po(n),n.value===ca)throw n.error;return n.value};return r[et]=n,Vu(n),r}var Ru=Symbol("UNSET"),Nu=Symbol("COMPUTING"),ca=Symbol("ERRORED"),Yw=J(D({},ho),{value:Ru,dirty:!0,error:null,equal:Uu,kind:"computed",producerMustRecompute(e){return e.value===Ru||e.value===Nu},producerRecomputeValue(e){if(e.value===Nu)throw new Error("");let t=e.value;e.value=Nu;let n=go(e),r,i=!1;try{r=e.computation(),k(null),i=t!==Ru&&t!==ca&&r!==ca&&e.equal(t,r)}catch(o){r=ca,e.error=o}finally{ua(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Zw(){throw new Error}var Hp=Zw;function qp(e){Hp(e)}function Bu(e){Hp=e}var Jw=null;function $u(e,t){let n=Object.create(ha);n.value=e,t!==void 0&&(n.equal=t);let r=()=>zp(n);return r[et]=n,Vu(n),[r,s=>vo(n,s),s=>Gp(n,s)]}function zp(e){return po(e),e.value}function vo(e,t){Lu()||qp(e),e.equal(e.value,t)||(e.value=t,Qw(e))}function Gp(e,t){Lu()||qp(e),vo(e,t(e.value))}var ha=J(D({},ho),{equal:Uu,value:void 0,kind:"signal"});function Qw(e){e.version++,Vp(),Fu(e),Jw?.(e)}function Hu(e){let t=k(null);try{return e()}finally{k(t)}}function H(e){return typeof e=="function"}function ii(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pa=ii(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ve=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){t=o instanceof pa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Wp(o)}catch(s){t=t??[],s instanceof pa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new pa(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Wp(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&yo(n,t)}remove(t){let{_finalizers:n}=this;n&&yo(n,t),t instanceof e&&t._removeParent(this)}};Ve.EMPTY=(()=>{let e=new Ve;return e.closed=!0,e})();var qu=Ve.EMPTY;function ga(e){return e instanceof Ve||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function Wp(e){H(e)?e():e.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var oi={setTimeout(e,t,...n){let{delegate:r}=oi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=oi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ma(e){oi.setTimeout(()=>{let{onUnhandledError:t}=Ot;if(t)t(e);else throw e})}function sr(){}var Kp=zu("C",void 0,void 0);function Yp(e){return zu("E",void 0,e)}function Zp(e){return zu("N",e,void 0)}function zu(e,t,n){return{kind:e,value:t,error:n}}var ar=null;function si(e){if(Ot.useDeprecatedSynchronousErrorHandling){let t=!ar;if(t&&(ar={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ar;if(ar=null,n)throw r}}else e()}function Jp(e){Ot.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=e)}var cr=class extends Ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ga(t)&&t.add(this)):this.destination=t0}static create(t,n,r){return new ai(t,n,r)}next(t){this.isStopped?Wu(Zp(t),this):this._next(t)}error(t){this.isStopped?Wu(Yp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wu(Kp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Xw=Function.prototype.bind;function Gu(e,t){return Xw.call(e,t)}var Ku=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){va(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){va(r)}else va(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){va(n)}}},ai=class extends cr{constructor(t,n,r){super();let i;if(H(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ot.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Gu(t.next,o),error:t.error&&Gu(t.error,o),complete:t.complete&&Gu(t.complete,o)}):i=t}this.destination=new Ku(i)}};function va(e){Ot.useDeprecatedSynchronousErrorHandling?Jp(e):ma(e)}function e0(e){throw e}function Wu(e,t){let{onStoppedNotification:n}=Ot;n&&oi.setTimeout(()=>n(e,t))}var t0={closed:!0,next:sr,error:e0,complete:sr};var ci=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(e){return e}function Yu(...e){return Zu(e)}function Zu(e){return e.length===0?kt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var q=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=r0(n)?n:new ai(n,r,i);return si(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Qp(r),new r((i,o)=>{let s=new ai({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ci](){return this}pipe(...n){return Zu(n)(this)}toPromise(n){return n=Qp(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Qp(e){var t;return(t=e??Ot.Promise)!==null&&t!==void 0?t:Promise}function n0(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}function r0(e){return e&&e instanceof cr||n0(e)&&ga(e)}function i0(e){return H(e?.lift)}function oe(e){return t=>{if(i0(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(e,t,n,r,i){return new Ju(e,t,n,r,i)}var Ju=class extends cr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var Xp=ii(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class e extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ya(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xp}next(n){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qu:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,yo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return e.create=(t,n)=>new ya(t,n),e})(),ya=class extends he{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:qu}};var Ue=class extends he{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Be=new q(e=>e.complete());function eg(e){return e&&H(e.schedule)}function tg(e){return e[e.length-1]}function _a(e){return H(tg(e))?e.pop():void 0}function On(e){return eg(tg(e))?e.pop():void 0}function ur(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ba(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function ng(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lr(e){return this instanceof lr?(this.v=e,this):new lr(e)}function rg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(y){return new Promise(function(w,_){o.push([f,y,w,_])>1||c(f,y)})},p&&(i[f]=p(i[f])))}function c(f,p){try{l(r[f](p))}catch(y){h(o[0][3],y)}}function l(f){f.value instanceof lr?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ig(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ng=="function"?ng(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var wa=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ea(e){return H(e?.then)}function Ca(e){return H(e[ci])}function Da(e){return Symbol.asyncIterator&&H(e?.[Symbol.asyncIterator])}function Ia(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sa=o0();function Ta(e){return H(e?.[Sa])}function Ma(e){return rg(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield lr(n.read());if(i)return yield lr(void 0);yield yield lr(r)}}finally{n.releaseLock()}})}function xa(e){return H(e?.getReader)}function Ie(e){if(e instanceof q)return e;if(e!=null){if(Ca(e))return s0(e);if(wa(e))return a0(e);if(Ea(e))return c0(e);if(Da(e))return og(e);if(Ta(e))return l0(e);if(xa(e))return u0(e)}throw Ia(e)}function s0(e){return new q(t=>{let n=e[ci]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a0(e){return new q(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function c0(e){return new q(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ma)})}function l0(e){return new q(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function og(e){return new q(t=>{d0(e,t).catch(n=>t.error(n))})}function u0(e){return og(Ma(e))}function d0(e,t){var n,r,i,o;return ba(this,void 0,void 0,function*(){try{for(n=ig(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function ot(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Aa(e,t=0){return oe((n,r)=>{n.subscribe(se(r,i=>ot(r,e,()=>r.next(i),t),()=>ot(r,e,()=>r.complete(),t),i=>ot(r,e,()=>r.error(i),t)))})}function Ra(e,t=0){return oe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function sg(e,t){return Ie(e).pipe(Ra(t),Aa(t))}function ag(e,t){return Ie(e).pipe(Ra(t),Aa(t))}function cg(e,t){return new q(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function lg(e,t){return new q(n=>{let r;return ot(n,t,()=>{r=e[Sa](),ot(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function Na(e,t){if(!e)throw new Error("Iterable cannot be null");return new q(n=>{ot(n,t,()=>{let r=e[Symbol.asyncIterator]();ot(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ug(e,t){return Na(Ma(e),t)}function dg(e,t){if(e!=null){if(Ca(e))return sg(e,t);if(wa(e))return cg(e,t);if(Ea(e))return ag(e,t);if(Da(e))return Na(e,t);if(Ta(e))return lg(e,t);if(xa(e))return ug(e,t)}throw Ia(e)}function re(e,t){return t?dg(e,t):Ie(e)}function K(...e){let t=On(e);return re(e,t)}function Qu(e,t){let n=H(e)?e:()=>e,r=i=>i.error(n());return new q(t?i=>t.schedule(r,0,i):r)}function Oa(e){return!!e&&(e instanceof q||H(e.lift)&&H(e.subscribe))}var dr=ii(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function F(e,t){return oe((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:f0}=Array;function h0(e,t){return f0(t)?e(...t):e(t)}function ka(e){return F(t=>h0(e,t))}var{isArray:p0}=Array,{getPrototypeOf:g0,prototype:m0,keys:v0}=Object;function Pa(e){if(e.length===1){let t=e[0];if(p0(t))return{args:t,keys:null};if(y0(t)){let n=v0(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function y0(e){return e&&typeof e=="object"&&g0(e)===m0}function Fa(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Xu(...e){let t=On(e),n=_a(e),{args:r,keys:i}=Pa(e);if(r.length===0)return re([],t);let o=new q(_0(r,t,i?s=>Fa(i,s):kt));return n?o.pipe(ka(n)):o}function _0(e,t,n=kt){return r=>{fg(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)fg(t,()=>{let l=re(e[c],t),u=!1;l.subscribe(se(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fg(e,t,n){e?ot(n,e,t):t()}function hg(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=y=>l<r?p(y):c.push(y),p=y=>{o&&t.next(y),l++;let w=!1;Ie(n(y,u++)).subscribe(se(t,_=>{i?.(_),o?f(_):t.next(_)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let _=c.shift();s?ot(t,s,()=>p(_)):p(_)}h()}catch(_){t.error(_)}}))};return e.subscribe(se(t,f,()=>{d=!0,h()})),()=>{a?.()}}function tt(e,t,n=1/0){return H(t)?tt((r,i)=>F((o,s)=>t(r,o,i,s))(Ie(e(r,i))),n):(typeof t=="number"&&(n=t),oe((r,i)=>hg(r,i,e,n)))}function pg(e=1/0){return tt(kt,e)}function gg(){return pg(1)}function li(...e){return gg()(re(e,On(e)))}function _o(e){return new q(t=>{Ie(e()).subscribe(t)})}function ed(...e){let t=_a(e),{args:n,keys:r}=Pa(e),i=new q(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ie(n[u]).subscribe(se(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Fa(r,a):a),o.complete())}))}});return t?i.pipe(ka(t)):i}var fn=new q(sr);function st(e,t){return oe((n,r)=>{let i=0;n.subscribe(se(r,o=>e.call(t,o,i++)&&r.next(o)))})}function bo(e){return oe((t,n)=>{let r=null,i=!1,o;r=t.subscribe(se(n,void 0,void 0,s=>{o=Ie(e(s,bo(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ui(e,t){return H(t)?tt(e,t,1):tt(e,1)}function mg(e){return oe((t,n)=>{let r=!1;t.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function nt(e){return e<=0?()=>Be:oe((t,n)=>{let r=0;t.subscribe(se(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function vg(e=b0){return oe((t,n)=>{let r=!1;t.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function b0(){return new dr}function wo(e){return oe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function hn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?st((i,o)=>e(i,o,r)):kt,nt(1),n?mg(t):vg(()=>new dr))}function La(e){return e<=0?()=>Be:oe((t,n)=>{let r=[];t.subscribe(se(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function td(...e){let t=On(e);return oe((n,r)=>{(t?li(e,n,t):li(e,n)).subscribe(r)})}function Ze(e,t){return oe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,c=>{i?.unsubscribe();let l=0,u=o++;Ie(e(c,u)).subscribe(i=se(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Eo(e){return oe((t,n)=>{Ie(e).subscribe(se(n,()=>n.complete(),sr)),!n.closed&&t.subscribe(n)})}function Jt(e,t,n){let r=H(e)||t||n?{next:e,error:t,complete:n}:e;return r?oe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var nd;function ja(){return nd}function Qt(e){let t=nd;return nd=e,t}var yg=Symbol("NotFound");function di(e){return e===yg||e?.name==="\u0275NotFound"}var Ha="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(t,n){super(mn(t,n)),this.code=t}};function C0(e){return`NG0${Math.abs(e)}`}function mn(e,t){return`${C0(e)}${t?": "+t:""}`}var Mo=globalThis;function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("")}function Cg(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function gn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(gn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function qa(e,t){return e?t?`${e} ${t}`:e:t||""}var D0=ae({__forward_ref__:ae});function Pt(e){return e.__forward_ref__=Pt,e.toString=function(){return gn(this())},e}function $e(e){return vd(e)?e():e}function vd(e){return typeof e=="function"&&e.hasOwnProperty(D0)&&e.__forward_ref__===Pt}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vt(e){return{providers:e.providers||[],imports:e.imports||[]}}function xo(e){return I0(e,za)}function yd(e){return xo(e)!==null}function I0(e,t){return e.hasOwnProperty(t)&&e[t]||null}function S0(e){let t=e?.[za]??null;return t||null}function id(e){return e&&e.hasOwnProperty(Ua)?e[Ua]:null}var za=ae({\u0275prov:ae}),Ua=ae({\u0275inj:ae}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _d(e){return e&&!!e.\u0275providers}var bd=ae({\u0275cmp:ae}),wd=ae({\u0275dir:ae}),Ed=ae({\u0275pipe:ae}),Cd=ae({\u0275mod:ae}),Do=ae({\u0275fac:ae}),vr=ae({__NG_ELEMENT_ID__:ae}),_g=ae({__NG_ENV_ID__:ae});function Dd(e){return Ga(e,"@NgModule"),e[Cd]||null}function Fn(e){return Ga(e,"@Component"),e[bd]||null}function Id(e){return Ga(e,"@Directive"),e[wd]||null}function Dg(e){return Ga(e,"@Pipe"),e[Ed]||null}function Ga(e,t){if(e==null)throw new I(-919,!1)}function vn(e){return typeof e=="string"?e:e==null?"":String(e)}var Ig=ae({ngErrorCode:ae}),T0=ae({ngErrorMessage:ae}),M0=ae({ngTokenPath:ae});function Sd(e,t){return Sg("",-200,t)}function Wa(e,t){throw new I(-201,!1)}function Sg(e,t,n){let r=new I(t,e);return r[Ig]=t,r[T0]=e,n&&(r[M0]=n),r}function x0(e){return e[Ig]}var od;function Tg(){return od}function ut(e){let t=od;return od=e,t}function Td(e,t,n){let r=xo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Wa(e,"")}var A0={},fr=A0,R0="__NG_DI_FLAG__",sd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=hr(n)||0;try{return this.injector.get(t,r&8?null:fr,r)}catch(i){if(di(i))return i;throw i}}};function N0(e,t=0){let n=ja();if(n===void 0)throw new I(-203,!1);if(n===null)return Td(e,void 0,t);{let r=O0(t),i=n.retrieve(e,r);if(di(i)){if(r.optional)return null;throw i}return i}}function N(e,t=0){return(Tg()||N0)($e(e),t)}function b(e,t){return N(e,hr(t))}function hr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function O0(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function ad(e){let t=[];for(let n=0;n<e.length;n++){let r=$e(e[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=k0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(N(i,o))}else t.push(N(r))}return t}function k0(e){return e[R0]}function pr(e,t){let n=e.hasOwnProperty(Do);return n?e[Do]:null}function Ka(e,t){e.forEach(n=>Array.isArray(n)?Ka(n,t):t(n))}function Md(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ao(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Mg(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Ya(e,t,n){let r=hi(e,t);return r>=0?e[r|1]=n:(r=~r,Mg(e,r,t,n)),r}function Za(e,t){let n=hi(e,t);if(n>=0)return e[n|1]}function hi(e,t){return P0(e,t,1)}function P0(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Ln={},rt=[],yr=new x(""),xd=new x("",-1),Ad=new x(""),Io=class{get(t,n=fr){if(n===fr){let i=Sg("",-201);throw i.name="\u0275NotFound",i}return n}};function Ft(e){return{\u0275providers:e}}function xg(e){return Ft([{provide:yr,multi:!0,useValue:e}])}function Ag(...e){return{\u0275providers:Rd(!0,e),\u0275fromNgModule:!0}}function Rd(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ka(t,s=>{let a=s;Ba(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Rg(i,o),n}function Rg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Nd(i,o=>{t(o,r)})}}function Ba(e,t,n,r){if(e=$e(e),!e)return!1;let i=null,o=id(e),s=!o&&Fn(e);if(!o&&!s){let c=e.ngModule;if(o=id(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ba(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Ka(o.imports,u=>{Ba(u,t,n,r)&&(l||=[],l.push(u))}),l!==void 0&&Rg(l,t)}if(!a){let l=pr(i)||(()=>new i);t({provide:i,useFactory:l,deps:rt},i),t({provide:Ad,useValue:i,multi:!0},i),t({provide:yr,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Nd(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Nd(e,t){for(let n of e)_d(n)&&(n=n.\u0275providers),Array.isArray(n)?Nd(n,t):t(n)}var F0=ae({provide:String,useValue:ae});function Ng(e){return e!==null&&typeof e=="object"&&F0 in e}function L0(e){return!!(e&&e.useExisting)}function j0(e){return!!(e&&e.useFactory)}function gr(e){return typeof e=="function"}function Og(e){return!!e.useClass}var Ro=new x(""),Va={},bg={},rd;function No(){return rd===void 0&&(rd=new Io),rd}var pe=class{},mr=class extends pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ld(t,s=>this.processProvider(s)),this.records.set(xd,fi(void 0,this)),i.has("environment")&&this.records.set(pe,fi(void 0,this));let o=this.records.get(Ro);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ad,rt,{self:!0}))}retrieve(t,n){let r=hr(n)||0;try{return this.get(t,fr,r)}catch(i){if(di(i))return i;throw i}}destroy(){Co(this),this._destroyed=!0;let t=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(t)}}onDestroy(t){return Co(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Co(this);let n=Qt(this),r=ut(void 0),i;try{return t()}finally{Qt(n),ut(r)}}get(t,n=fr,r){if(Co(this),t.hasOwnProperty(_g))return t[_g](this);let i=hr(r),o,s=Qt(this),a=ut(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=H0(t)&&xo(t);u&&this.injectableDefInScope(u)?l=fi(cd(t),Va):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?No():this.parent;return n=i&8&&n===fr?null:n,c.get(t,n)}catch(c){let l=x0(c);throw l===-200||l===-201?new I(l,null):c}finally{ut(a),Qt(s)}}resolveInjectorInitializers(){let t=k(null),n=Qt(this),r=ut(void 0),i;try{let o=this.get(yr,rt,{self:!0});for(let s of o)s()}finally{Qt(n),ut(r),k(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(gn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=$e(t);let n=gr(t)?t:$e(t&&t.provide),r=U0(t);if(!gr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=fi(void 0,Va,!0),i.factory=()=>ad(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=k(null);try{if(n.value===bg)throw Sd(gn(t));return n.value===Va&&(n.value=bg,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&$0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{k(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$e(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cd(e){let t=xo(e),n=t!==null?t.factory:pr(e);if(n!==null)return n;if(e instanceof x)throw new I(204,!1);if(e instanceof Function)return V0(e);throw new I(204,!1)}function V0(e){if(e.length>0)throw new I(204,!1);let n=S0(e);return n!==null?()=>n.factory(e):()=>new e}function U0(e){if(Ng(e))return fi(void 0,e.useValue);{let t=Od(e);return fi(t,Va)}}function Od(e,t,n){let r;if(gr(e)){let i=$e(e);return pr(i)||cd(i)}else if(Ng(e))r=()=>$e(e.useValue);else if(j0(e))r=()=>e.useFactory(...ad(e.deps||[]));else if(L0(e))r=(i,o)=>N($e(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=$e(e&&(e.useClass||e.provide));if(B0(e))r=()=>new i(...ad(e.deps));else return pr(i)||cd(i)}return r}function Co(e){if(e.destroyed)throw new I(205,!1)}function fi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function B0(e){return!!e.deps}function $0(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function H0(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function ld(e,t){for(let n of e)Array.isArray(n)?ld(n,t):n&&_d(n)?ld(n.\u0275providers,t):t(n)}function Oe(e,t){let n;e instanceof mr?(Co(e),n=e):n=new sd(e);let r,i=Qt(n),o=ut(void 0);try{return t()}finally{Qt(i),ut(o)}}function kg(){return Tg()!==void 0||ja()!=null}var Lt=0,V=1,B=2,Ne=3,yt=4,_t=5,pi=6,gi=7,be=8,yn=9,en=10,le=11,mi=12,kd=13,_r=14,dt=15,br=16,wr=17,Er=18,_n=19,Pd=20,pn=21,Ja=22,Oo=23,ft=24,Cr=25,Dr=26,ke=27,Pg=1,Fd=6,jn=7,ko=8,Po=9,we=10;function tn(e){return Array.isArray(e)&&typeof e[Pg]=="object"}function jt(e){return Array.isArray(e)&&e[Pg]===!0}function Ld(e){return(e.flags&4)!==0}function Vn(e){return e.componentOffset>-1}function Fo(e){return(e.flags&1)===1}function nn(e){return!!e.template}function vi(e){return(e[B]&512)!==0}function Ir(e){return(e[B]&256)===256}var Fg="svg",Lg="math";function bt(e){for(;Array.isArray(e);)e=e[Lt];return e}function jd(e,t){return bt(t[e])}function Vt(e,t){return bt(t[e.index])}function Lo(e,t){return e.data[t]}function wt(e,t){let n=t[e];return tn(n)?n:n[Lt]}function Qa(e){return(e[B]&128)===128}function jg(e){return jt(e[Ne])}function Et(e,t){return t==null?null:e[t]}function Vd(e){e[wr]=0}function Ud(e){e[B]&1024||(e[B]|=1024,Qa(e)&&yi(e))}function Vg(e,t){for(;e>0;)t=t[_r],e--;return t}function jo(e){return!!(e[B]&9216||e[ft]?.dirty)}function Xa(e){e[en].changeDetectionScheduler?.notify(8),e[B]&64&&(e[B]|=1024),jo(e)&&yi(e)}function yi(e){e[en].changeDetectionScheduler?.notify(0);let t=kn(e);for(;t!==null&&!(t[B]&8192||(t[B]|=8192,!Qa(t)));)t=kn(t)}function Bd(e,t){if(Ir(e))throw new I(911,!1);e[pn]===null&&(e[pn]=[]),e[pn].push(t)}function Ug(e,t){if(e[pn]===null)return;let n=e[pn].indexOf(t);n!==-1&&e[pn].splice(n,1)}function kn(e){let t=e[Ne];return jt(t)?t[Ne]:t}function Bg(e){return e[gi]??=[]}function $g(e){return e.cleanup??=[]}var W={lFrame:em(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ud=!1;function Hg(){return W.lFrame.elementDepthCount}function qg(){W.lFrame.elementDepthCount++}function $d(){W.lFrame.elementDepthCount--}function Hd(){return W.bindingsEnabled}function zg(){return W.skipHydrationRootTNode!==null}function qd(e){return W.skipHydrationRootTNode===e}function zd(){W.skipHydrationRootTNode=null}function z(){return W.lFrame.lView}function Pe(){return W.lFrame.tView}function L(e){return W.lFrame.contextLView=e,e[be]}function j(e){return W.lFrame.contextLView=null,e}function qe(){let e=Gd();for(;e!==null&&e.type===64;)e=e.parent;return e}function Gd(){return W.lFrame.currentTNode}function Gg(){let e=W.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function _i(e,t){let n=W.lFrame;n.currentTNode=e,n.isParent=t}function Wd(){return W.lFrame.isParent}function Wg(){W.lFrame.isParent=!1}function Kd(){return ud}function Yd(e){let t=ud;return ud=e,t}function Zd(){let e=W.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Jd(){return W.lFrame.bindingIndex}function Kg(e){return W.lFrame.bindingIndex=e}function Sr(){return W.lFrame.bindingIndex++}function Vo(e){let t=W.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Yg(){return W.lFrame.inI18n}function Zg(e,t){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=e,ec(t)}function Jg(){return W.lFrame.currentDirectiveIndex}function ec(e){W.lFrame.currentDirectiveIndex=e}function Qg(e){let t=W.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Qd(e){W.lFrame.currentQueryIndex=e}function q0(e){let t=e[V];return t.type===2?t.declTNode:t.type===1?e[_t]:null}function Xd(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=q0(o),i===null||(o=o[_r],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=W.lFrame=Xg();return r.currentTNode=t,r.lView=e,!0}function tc(e){let t=Xg(),n=e[V];W.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Xg(){let e=W.lFrame,t=e===null?null:e.child;return t===null?em(e):t}function em(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function tm(){let e=W.lFrame;return W.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ef=tm;function nc(){let e=tm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nm(e){return(W.lFrame.contextLView=Vg(e,W.lFrame.contextLView))[be]}function Ut(){return W.lFrame.selectedIndex}function Un(e){W.lFrame.selectedIndex=e}function rc(){let e=W.lFrame;return Lo(e.tView,e.selectedIndex)}function rm(){return W.lFrame.currentNamespace}var im=!0;function ic(){return im}function oc(e){im=e}function dd(e,t=null,n=null,r){let i=tf(e,t,n,r);return i.resolveInjectorInitializers(),i}function tf(e,t=null,n=null,r,i=new Set){let o=[n||rt,Ag(e)];return r=r||(typeof e=="object"?void 0:gn(e)),new mr(o,t||No(),r||null,i)}var at=class e{static THROW_IF_NOT_FOUND=fr;static NULL=new Io;static create(t,n){if(Array.isArray(t))return dd({name:""},n,t,"");{let r=t.name??"";return dd({name:r},t.parent,t.providers,r)}}static \u0275prov=M({token:e,providedIn:"any",factory:()=>N(xd)});static __NG_ELEMENT_ID__=-1},Ee=new x(""),Ct=(()=>{class e{static __NG_ELEMENT_ID__=z0;static __NG_ENV_ID__=n=>n}return e})(),fd=class extends Ct{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ir(this._lView)}onDestroy(t){let n=this._lView;return Bd(n,t),()=>Ug(n,t)}};function z0(){return new fd(z())}var om=!1,sm=new x(""),bn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ue(!1);debugTaskTracker=b(sm,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),hd=class extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,kg()&&(this.destroyRef=b(Ct,{optional:!0})??void 0,this.pendingTasks=b(bn,{optional:!0})??void 0)}emit(t){let n=k(null);try{super.next(t)}finally{k(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ve&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Se=hd;function $a(...e){}function nf(e){let t,n;function r(){e=$a;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function am(e){return queueMicrotask(()=>e()),()=>{e=$a}}var rf="isAngularZone",So=rf+"_ID",G0=0,He=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Se(!1);onMicrotaskEmpty=new Se(!1);onStable=new Se(!1);onError=new Se(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=om}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Y0(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,W0,$a,$a);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},W0={};function of(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function K0(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){nf(()=>{e.callbackScheduled=!1,pd(e),e.isCheckStableRunning=!0,of(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),pd(e)}function Y0(e){let t=()=>{K0(e)},n=G0++;e._inner=e._inner.fork({name:"angular",properties:{[rf]:!0,[So]:n,[So+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Z0(c))return r.invokeTask(o,s,a,c);try{return wg(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Eg(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return wg(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!J0(c)&&t(),Eg(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,pd(e),of(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function pd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function wg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Eg(e){e._nesting--,of(e)}var To=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Se;onMicrotaskEmpty=new Se;onStable=new Se;onError=new Se;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Z0(e){return cm(e,"__ignore_ng_zone__")}function J0(e){return cm(e,"__scheduler_tick__")}function cm(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Xt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ht=new x("",{factory:()=>{let e=b(He),t=b(pe),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(Xt),n.handleError(r))})}}}),lm={provide:yr,useValue:()=>{let e=b(Xt,{optional:!0})},multi:!0},Q0=new x("",{factory:()=>{let e=b(Ee).defaultView;if(!e)return;let t=b(ht),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),b(Ct).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function sf(){return Ft([xg(()=>{b(Q0)})])}function U(e,t){let[n,r,i]=$u(e,t?.equal),o=n,s=o[et];return o.set=r,o.update=i,o.asReadonly=um.bind(o),o}function um(){let e=this[et];if(e.readonlyFn===void 0){let t=()=>this();t[et]=e,e.readonlyFn=t}return e.readonlyFn}var sc=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=X0}return e})();function X0(){return new sc(z(),qe())}var Pn=class{},Uo=new x("",{factory:()=>!0});var af=new x(""),ac=(()=>{class e{internalPendingTasks=b(bn);scheduler=b(Pn);errorHandler=b(ht);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),cf=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>new gd})}return e})(),gd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},md=class{[et];constructor(t){this[et]=t}destroy(){this[et].destroy()}};function Te(e){return Hu(e)}function Ko(e){return{toString:e}.toString()}function cE(e){return typeof e=="function"}function Vm(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var pc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},wn=(()=>{let e=()=>Um;return e.ngInherit=!0,e})();function Um(e){return e.type.prototype.ngOnChanges&&(e.setInput=uE),lE}function lE(){let e=$m(this),t=e?.current;if(t){let n=e.previous;if(n===Ln)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function uE(e,t,n,r,i){let o=this.declaredInputs[r],s=$m(e)||dE(e,{previous:Ln,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new pc(l&&l.currentValue,n,c===Ln),Vm(e,t,i,n)}var Bm="__ngSimpleChanges__";function $m(e){return e[Bm]||null}function dE(e,t){return e[Bm]=t}var dm=[];var ce=function(e,t=null,n){for(let r=0;r<dm.length;r++){let i=dm[r];i(e,t,n)}},ee=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(ee||{});function fE(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Um(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Hm(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function uc(e,t,n){qm(e,t,3,n)}function dc(e,t,n,r){(e[B]&3)===n&&qm(e,t,n,r)}function lf(e,t){let n=e[B];(n&3)===t&&(n&=16383,n+=1,e[B]=n)}function qm(e,t,n,r){let i=r!==void 0?e[wr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[wr]+=65536),(a<o||o==-1)&&(hE(e,n,t,c),e[wr]=(e[wr]&4294901760)+c+2),c++}function fm(e,t){ce(ee.LifecycleHookStart,e,t);let n=k(null);try{t.call(e)}finally{k(n),ce(ee.LifecycleHookEnd,e,t)}}function hE(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[B]>>14<e[wr]>>16&&(e[B]&3)===t&&(e[B]+=16384,fm(a,o)):fm(a,o)}var wi=-1,Mr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function pE(e){return(e.flags&8)!==0}function gE(e){return(e.flags&16)!==0}function mE(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];vE(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function zm(e){return e===3||e===4||e===6}function vE(e){return e.charCodeAt(0)===64}function Ei(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hm(e,n,i,null,t[++r]):hm(e,n,i,null,null))}}return e}function hm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Gm(e){return e!==wi}function gc(e){return e&32767}function yE(e){return e>>16}function mc(e,t){let n=yE(e),r=t;for(;n>0;)r=r[_r],n--;return r}var _f=!0;function pm(e){let t=_f;return _f=e,t}var _E=256,Wm=_E-1,Km=5,bE=0,rn={};function wE(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vr)&&(r=n[vr]),r==null&&(r=n[vr]=bE++);let i=r&Wm,o=1<<i;t.data[e+(i>>Km)]|=o}function vc(e,t){let n=Ym(e,t);if(n!==-1)return n;let r=t[V];r.firstCreatePass&&(e.injectorIndex=t.length,uf(r.data,e),uf(t,null),uf(r.blueprint,null));let i=Bf(e,t),o=e.injectorIndex;if(Gm(i)){let s=gc(i),a=mc(i,t),c=a[V].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function uf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ym(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Bf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=ev(i),r===null)return wi;if(n++,i=i[_r],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wi}function bf(e,t,n){wE(e,t,n)}function EE(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(zm(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Zm(e,t,n){if(n&8||e!==void 0)return e;Wa(t,"NodeInjector")}function Jm(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[yn],o=ut(void 0);try{return i?i.get(t,r,n&8):Td(t,r,n&8)}finally{ut(o)}}return Zm(r,t,n)}function Qm(e,t,n,r=0,i){if(e!==null){if(t[B]&2048&&!(r&2)){let s=TE(e,t,n,r,rn);if(s!==rn)return s}let o=Xm(e,t,n,r,rn);if(o!==rn)return o}return Jm(t,n,r,i)}function Xm(e,t,n,r,i){let o=IE(n);if(typeof o=="function"){if(!Xd(t,e,r))return r&1?Zm(i,n,r):Jm(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Wa(n);else return s}finally{ef()}}else if(typeof o=="number"){let s=null,a=Ym(e,t),c=wi,l=r&1?t[dt][_t]:null;for((a===-1||r&4)&&(c=a===-1?Bf(e,t):t[a+8],c===wi||!mm(r,!1)?a=-1:(s=t[V],a=gc(c),t=mc(c,t)));a!==-1;){let u=t[V];if(gm(o,a,u.data)){let d=CE(a,t,n,s,r,l);if(d!==rn)return d}c=t[a+8],c!==wi&&mm(r,t[V].data[a+8]===l)&&gm(o,a,t)?(s=u,a=gc(c),t=mc(c,t)):a=-1}}return i}function CE(e,t,n,r,i,o){let s=t[V],a=s.data[e+8],c=r==null?Vn(a)&&_f:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=DE(a,s,n,c,l);return u!==null?yc(t,s,u,a,i):rn}function DE(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=s[c];if(f&&nn(f)&&f.type===n)return c}return null}function yc(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Mr){let a=o;if(a.resolving)throw Sd("");let c=pm(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?ut(a.injectImpl):null,h=Xd(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&fE(n,s[n],t)}finally{d!==null&&ut(d),pm(c),a.resolving=!1,ef()}}return o}function IE(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(vr)?e[vr]:void 0;return typeof t=="number"?t>=0?t&Wm:SE:t}function gm(e,t,n){let r=1<<e;return!!(n[t+(e>>Km)]&r)}function mm(e,t){return!(e&2)&&!(e&1&&t)}var Tr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Qm(this._tNode,this._lView,t,hr(r),n)}};function SE(){return new Tr(qe(),z())}function En(e){return Ko(()=>{let t=e.prototype.constructor,n=t[Do]||wf(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Do]||wf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wf(e){return vd(e)?()=>{let t=wf($e(e));return t&&t()}:pr(e)}function TE(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[B]&2048&&!vi(s);){let a=Xm(o,s,n,r|2,rn);if(a!==rn)return a;let c=o.parent;if(!c){let l=s[Pd];if(l){let u=l.get(n,rn,r);if(u!==rn)return u}c=ev(s),s=s[_r]}o=c}return i}function ev(e){let t=e[V],n=t.type;return n===2?t.declTNode:n===1?e[_t]:null}function Yo(e){return EE(qe(),e)}function ME(){return Nc(qe(),z())}function Nc(e,t){return new sn(Vt(e,t))}var sn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ME}return e})();function tv(e){return(e.flags&128)===128}var $f=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})($f||{}),nv=new Map,xE=0;function AE(){return xE++}function RE(e){nv.set(e[_n],e)}function Ef(e){nv.delete(e[_n])}var vm="__ngContext__";function Ci(e,t){tn(t)?(e[vm]=t[_n],RE(t)):e[vm]=t}function rv(e){return ov(e[mi])}function iv(e){return ov(e[yt])}function ov(e){for(;e!==null&&!jt(e);)e=e[yt];return e}var NE;function Hf(e){NE=e}var Oc=new x("",{factory:()=>OE}),OE="ng";var kc=new x(""),Zo=new x("",{providedIn:"platform",factory:()=>"unknown"});var Pc=new x("",{factory:()=>b(Ee).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sv="r";var av="di";var cv=!1,lv=new x("",{factory:()=>cv});var kE=(e,t,n,r)=>{};function PE(e,t,n,r){kE(e,t,n,r)}function qf(e){return(e.flags&32)===32}var FE=()=>null;function uv(e,t,n=!1){return FE(e,t,n)}function dv(e,t){let n=e.contentQueries;if(n!==null){let r=k(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];Qd(o),a.contentQueries(2,t[s],s)}}}finally{k(r)}}}function Cf(e,t,n){Qd(0);let r=k(null);try{t(e,n)}finally{k(r)}}function fv(e,t,n){if(Ld(t)){let r=k(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var Ht=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Ht||{});var cc;function LE(){if(cc===void 0&&(cc=null,Mo.trustedTypes))try{cc=Mo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cc}function ym(e){return LE()?.createScriptURL(e)||e}var _c=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ha})`}};function Jo(e){return e instanceof _c?e.changingThisBreaksApplicationSecurity:e}function zf(e,t){let n=hv(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ha})`)}return n===t}function hv(e){return e instanceof _c&&e.getTypeName()||null}var jE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pv(e){return e=String(e),e.match(jE)?e:"unsafe:"+e}function VE(e,t){return e.createText(t)}function UE(e,t,n){e.setValue(t,n)}function gv(e,t,n){return e.createElement(t,n)}function bc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function mv(e,t,n){e.appendChild(t,n)}function _m(e,t,n,r,i){r!==null?bc(e,t,n,r,i):mv(e,t,n)}function vv(e,t,n,r){e.removeChild(null,t,n,r)}function BE(e,t,n){e.setAttribute(t,"style",n)}function $E(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function yv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&mE(e,t,r),i!==null&&$E(e,t,i),o!==null&&BE(e,t,o)}var Fc=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Fc||{});function Lc(e){let t=bv();return t?t.sanitize(Fc.URL,e)||"":zf(e,"URL")?Jo(e):pv(vn(e))}function _v(e){let t=bv();if(t)return ym(t.sanitize(Fc.RESOURCE_URL,e)||"");if(zf(e,"ResourceURL"))return ym(Jo(e));throw new I(904,!1)}var HE=new Set(["embed","frame","iframe","media","script"]),qE=new Set(["base","link","script"]);function zE(e,t){return t==="src"&&HE.has(e)||t==="href"&&qE.has(e)||t==="xlink:href"&&e==="script"?_v:Lc}function Gf(e,t,n){return zE(t,n)(e)}function bv(){let e=z();return e&&e[en].sanitizer}function wv(e){return e instanceof Function?e():e}function GE(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Ev="ng-template";function WE(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&GE(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Wf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Wf(e){return e.type===4&&e.value!==Ev}function KE(e,t,n){let r=e.type===4&&!n?Ev:e.value;return t===r}function YE(e,t,n){let r=4,i=e.attrs,o=i!==null?QE(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Bt(r)&&!Bt(c))return!1;if(s&&Bt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!KE(e,c,n)||c===""&&t.length===1){if(Bt(r))return!1;s=!0}}else if(r&8){if(i===null||!WE(e,i,c,n)){if(Bt(r))return!1;s=!0}}else{let l=t[++a],u=ZE(c,i,Wf(e),n);if(u===-1){if(Bt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Bt(r))return!1;s=!0}}}}return Bt(r)||s}function Bt(e){return(e&1)===0}function ZE(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return XE(t,e)}function JE(e,t,n=!1){for(let r=0;r<t.length;r++)if(YE(e,t[r],n))return!0;return!1}function QE(e){for(let t=0;t<e.length;t++){let n=e[t];if(zm(n))return t}return e.length}function XE(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function bm(e,t){return e?":not("+t.trim()+")":t}function eC(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Bt(s)&&(t+=bm(o,i),i=""),r=s,o=o||!Bt(r);n++}return i!==""&&(t+=bm(o,i)),t}function tC(e){return e.map(eC).join(",")}function nC(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Bt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var ze={};function Kf(e,t,n,r,i,o,s,a,c,l,u){let d=ke+r,h=d+i,f=rC(d,h),p=typeof l=="function"?l():l;return f[V]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function rC(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:ze);return n}function iC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Kf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Yf(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Lt]=i,d[B]=r|4|128|8|64|1024,(l!==null||e&&e[B]&2048)&&(d[B]|=2048),Vd(d),d[Ne]=d[_r]=e,d[be]=n,d[en]=s||e&&e[en],d[le]=a||e&&e[le],d[yn]=c||e&&e[yn]||null,d[_t]=o,d[_n]=AE(),d[pi]=u,d[Pd]=l,d[dt]=t.type==2?e[dt]:d,d}function oC(e,t,n){let r=Vt(t,e),i=iC(n),o=e[en].rendererFactory,s=Zf(e,Yf(e,i,null,Cv(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Cv(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Dv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Zf(e,t){return e[mi]?e[kd][yt]=t:e[mi]=t,e[kd]=t,t}function E(e=1){Iv(Pe(),z(),Ut()+e,!1)}function Iv(e,t,n,r){if(!r)if((t[B]&3)===3){let o=e.preOrderCheckHooks;o!==null&&uc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&dc(t,o,0,n)}Un(n)}var jc=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(jc||{});function Df(e,t,n,r){let i=k(null);try{let[o,s,a]=e.inputs[n],c=null;(s&jc.SignalBased)!==0&&(c=t[o][et]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Vm(t,c,o,r)}finally{k(i)}}var on=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(on||{}),sC;function Jf(e,t){return sC(e,t)}var xr=new Set,Vc=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Vc||{}),Cn=new x(""),wm=new Set;function $n(e){wm.has(e)||(wm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Qf=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),Sv=[0,1,2,3],Tv=(()=>{class e{ngZone=b(He);scheduler=b(Pn);errorHandler=b(Xt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(Cn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ce(ee.AfterRenderHooksStart),this.executing=!0;for(let r of Sv)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ce(ee.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Cr]??=[]).push(n),yi(r),r[B]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Vc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),wc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Cr];t&&(this.view[Cr]=t.filter(n=>n!==this))}};function Qo(e,t){let n=t?.injector??b(at);return $n("NgAfterNextRender"),cC(e,n,t,!0)}function aC(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function cC(e,t,n,r){let i=t.get(Qf);i.impl??=t.get(Tv);let o=t.get(Cn,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Ct):null,a=t.get(sc,null,{optional:!0}),c=new wc(i.impl,aC(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var Mv=new x("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:b(pe)})});function xv(e,t,n){let r=e.get(Mv);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function lC(e,t){let n=e.get(Mv);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function uC(e,t){for(let[n,r]of t)xv(e,r.animateFns)}function Em(e,t,n,r){let i=e?.[Dr]?.enter;t!==null&&i&&i.has(n.index)&&uC(r,i)}function bi(e,t,n,r,i,o,s,a){if(i!=null){let c,l=!1;jt(i)?c=i:tn(i)&&(l=!0,i=i[Lt]);let u=bt(i);e===0&&r!==null?(Em(a,r,o,n),s==null?mv(t,r,u):bc(t,r,u,s||null,!0)):e===1&&r!==null?(Em(a,r,o,n),bc(t,r,u,s||null,!0)):e===2?Cm(a,o,n,d=>{vv(t,u,l,d)}):e===3&&Cm(a,o,n,()=>{t.destroyNode(u)}),c!=null&&CC(t,e,n,c,o,r,s)}}function dC(e,t){Av(e,t),t[Lt]=null,t[_t]=null}function fC(e,t,n,r,i,o){r[Lt]=i,r[_t]=t,Bc(e,r,n,1,i,o)}function Av(e,t){t[en].changeDetectionScheduler?.notify(9),Bc(e,t,t[le],2,null,null)}function hC(e){let t=e[mi];if(!t)return df(e[V],e);for(;t;){let n=null;if(tn(t))n=t[mi];else{let r=t[we];r&&(n=r)}if(!n){for(;t&&!t[yt]&&t!==e;)tn(t)&&df(t[V],t),t=t[Ne];t===null&&(t=e),tn(t)&&df(t[V],t),n=t&&t[yt]}t=n}}function Xf(e,t){let n=e[Po],r=n.indexOf(t);n.splice(r,1)}function Uc(e,t){if(Ir(t))return;let n=t[le];n.destroyNode&&Bc(e,t,n,3,null,null),hC(t)}function df(e,t){if(Ir(t))return;let n=k(null);try{t[B]&=-129,t[B]|=256,t[ft]&&mo(t[ft]),mC(e,t),gC(e,t),t[V].type===1&&t[le].destroy();let r=t[br];if(r!==null&&jt(t[Ne])){r!==t[Ne]&&Xf(r,t);let i=t[Er];i!==null&&i.detachView(e)}Ef(t)}finally{k(n)}}function Cm(e,t,n,r){let i=e?.[Dr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&xr.add(e[_n]),xv(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),pC(e,r)}else e&&xr.delete(e[_n]),r(!1)},i)}function pC(e,t){let n=e[Dr]?.running;if(n){n.then(()=>{e[Dr].running=void 0,xr.delete(e[_n]),t(!0)});return}t(!1)}function gC(e,t){let n=e.cleanup,r=t[gi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[gi]=null);let i=t[pn];if(i!==null){t[pn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Oo];if(o!==null){t[Oo]=null;for(let s of o)s.destroy()}}function mC(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Mr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ce(ee.LifecycleHookStart,a,c);try{c.call(a)}finally{ce(ee.LifecycleHookEnd,a,c)}}else{ce(ee.LifecycleHookStart,i,o);try{o.call(i)}finally{ce(ee.LifecycleHookEnd,i,o)}}}}}function vC(e,t,n){return yC(e,t.parent,n)}function yC(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Lt];if(Vn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Ht.None||i===Ht.Emulated)return null}return Vt(r,n)}function _C(e,t,n){return wC(e,t,n)}function bC(e,t,n){return e.type&40?Vt(e,n):null}var wC=bC,Dm;function eh(e,t,n,r){let i=vC(e,r,t),o=t[le],s=r.parent||t[_t],a=_C(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_m(o,i,n[c],a,!1);else _m(o,i,n,a,!1);Dm!==void 0&&Dm(o,r,t,n,i)}function Bo(e,t){if(t!==null){let n=t.type;if(n&3)return Vt(t,e);if(n&4)return If(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Bo(e,r);{let i=e[t.index];return jt(i)?If(-1,i):bt(i)}}else{if(n&128)return Bo(e,t.next);if(n&32)return Jf(t,e)()||bt(e[t.index]);{let r=Rv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=kn(e[dt]);return Bo(i,r)}else return Bo(e,t.next)}}}return null}function Rv(e,t){if(t!==null){let r=e[dt][_t],i=t.projection;return r.projection[i]}return null}function If(e,t){let n=we+e+1;if(n<t.length){let r=t[n],i=r[V].firstChild;if(i!==null)return Bo(r,i)}return t[jn]}function th(e,t,n,r,i,o,s){for(;n!=null;){let a=r[yn];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&t===0&&(c&&Ci(bt(c),r),n.flags|=2),!qf(n))if(l&8)th(e,t,n.child,r,i,o,!1),bi(t,e,a,i,c,n,o,r);else if(l&32){let u=Jf(n,r),d;for(;d=u();)bi(t,e,a,i,d,n,o,r);bi(t,e,a,i,c,n,o,r)}else l&16?EC(e,t,r,n,i,o):bi(t,e,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Bc(e,t,n,r,i,o){th(n,r,e.firstChild,t,i,o,!1)}function EC(e,t,n,r,i,o){let s=n[dt],c=s[_t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];bi(t,e,n[yn],i,u,r,o,n)}else{let l=c,u=s[Ne];tv(r)&&(l.flags|=128),th(e,t,l,u,i,o,!0)}}function CC(e,t,n,r,i,o,s){let a=r[jn],c=bt(r);a!==c&&bi(t,e,n,o,a,i,s);for(let l=we;l<r.length;l++){let u=r[l];Bc(u[V],u,e,t,o,a)}}function DC(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:on.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=on.Important),e.setStyle(n,r,i,o))}}function Nv(e,t,n,r,i){let o=Ut(),s=r&2;try{Un(-1),s&&t.length>ke&&Iv(e,t,ke,!1);let a=s?ee.TemplateUpdateStart:ee.TemplateCreateStart;ce(a,i,n),n(r,i)}finally{Un(o);let a=s?ee.TemplateUpdateEnd:ee.TemplateCreateEnd;ce(a,i,n)}}function nh(e,t,n){RC(e,t,n),(n.flags&64)===64&&NC(e,t,n)}function $c(e,t,n=Vt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function IC(e,t,n,r){let o=r.get(lv,cv)||n===Ht.ShadowDom||n===Ht.ExperimentalIsolatedShadowDom,s=e.selectRootElement(t,o);return SC(s),s}function SC(e){TC(e)}var TC=()=>null;function MC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ov(e,t,n,r,i,o){let s=t[V];if(rh(e,s,t,n,r)){Vn(e)&&AC(t,e.index);return}e.type&3&&(n=MC(n)),xC(e,t,n,r,i,o)}function xC(e,t,n,r,i,o){if(e.type&3){let s=Vt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function AC(e,t){let n=wt(t,e);n[B]&16||(n[B]|=64)}function RC(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Vn(n)&&oC(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||vc(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=yc(t,e,s,n);if(Ci(c,t),o!==null&&FC(t,s-r,c,a,n,o),nn(a)){let l=wt(n.index,t);l[be]=yc(t,e,s,n)}}}function NC(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Jg();try{Un(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];ec(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&OC(c,l)}}finally{Un(-1),ec(s)}}function OC(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function kv(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];JE(t,o.selectors,!1)&&(r??=[],nn(o)?r.unshift(o):r.push(o))}return r}function kC(e,t,n,r,i,o){let s=Vt(e,t);PC(t[le],s,o,e.value,n,r,i)}function PC(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?vn(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function FC(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Df(r,n,c,l)}}function Pv(e,t,n,r,i){let o=ke+n,s=t[V],a=i(s,t,e,r,n);t[o]=a,_i(e,!0);let c=e.type===2;return c?(yv(t[le],a,e),(Hg()===0||Fo(e))&&Ci(a,t),qg()):Ci(a,t),ic()&&(!c||!qf(e))&&eh(s,t,a,e),e}function Fv(e){let t=e;return Wd()?Wg():(t=t.parent,_i(t,!1)),t}function LC(e,t){let n=e[yn];if(!n)return;let r;try{r=n.get(ht,null)}catch{r=null}r?.(t)}function rh(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Df(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Df(u,l,r,i),a=!0}return a}function jC(e,t){let n=wt(t,e),r=n[V];VC(r,n);let i=n[Lt];i!==null&&n[pi]===null&&(n[pi]=uv(i,n[yn])),ce(ee.ComponentStart);try{ih(r,n,n[be])}finally{ce(ee.ComponentEnd,n[be])}}function VC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ih(e,t,n){tc(t);try{let r=e.viewQuery;r!==null&&Cf(1,r,n);let i=e.template;i!==null&&Nv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Er]?.finishViewCreation(e),e.staticContentQueries&&dv(e,t),e.staticViewQueries&&Cf(2,e.viewQuery,n);let o=e.components;o!==null&&UC(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[B]&=-5,nc()}}function UC(e,t){for(let n=0;n<t.length;n++)jC(e,t[n])}function Hc(e,t,n,r){let i=k(null);try{let o=t.tView,a=e[B]&4096?4096:16,c=Yf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[br]=l;let u=e[Er];return u!==null&&(c[Er]=u.createEmbeddedView(o)),ih(o,c,n),c}finally{k(i)}}function Ho(e,t){return!t||t.firstChild===null||tv(e)}function qo(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(bt(o)),jt(o)&&Lv(o,r);let s=n.type;if(s&8)qo(e,t,n.child,r);else if(s&32){let a=Jf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Rv(t,n);if(Array.isArray(a))r.push(...a);else{let c=kn(t[dt]);qo(c[V],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Lv(e,t){for(let n=we;n<e.length;n++){let r=e[n],i=r[V].firstChild;i!==null&&qo(r[V],r,i,t)}e[jn]!==e[Lt]&&t.push(e[jn])}function jv(e){if(e[Cr]!==null){for(let t of e[Cr])t.impl.addSequence(t);e[Cr].length=0}}var Vv=[];function BC(e){return e[ft]??$C(e)}function $C(e){let t=Vv.pop()??Object.create(qC);return t.lView=e,t}function HC(e){e.lView[ft]!==e&&(e.lView=null,Vv.push(e))}var qC=J(D({},ho),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{yi(e.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function zC(e){let t=e[ft]??Object.create(GC);return t.lView=e,t}var GC=J(D({},ho),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=kn(e.lView);for(;t&&!Uv(t[V]);)t=kn(t);t&&Ud(t)},consumerOnSignalRead(){this.lView[ft]=this}});function Uv(e){return e.type!==2}function Bv(e){if(e[Oo]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Oo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[B]&8192)}}var WC=100;function $v(e,t=0){let r=e[en].rendererFactory,i=!1;i||r.begin?.();try{KC(e,t)}finally{i||r.end?.()}}function KC(e,t){let n=Kd();try{Yd(!0),Sf(e,t);let r=0;for(;jo(e);){if(r===WC)throw new I(103,!1);r++,Sf(e,1)}}finally{Yd(n)}}function YC(e,t,n,r){if(Ir(t))return;let i=t[B],o=!1,s=!1;tc(t);let a=!0,c=null,l=null;o||(Uv(e)?(l=BC(t),c=go(l)):la()===null?(a=!1,l=zC(t),c=go(l)):t[ft]&&(mo(t[ft]),t[ft]=null));try{Vd(t),Kg(e.bindingStartIndex),n!==null&&Nv(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&uc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&dc(t,f,0,null),lf(t,0)}if(s||ZC(t),Bv(t),Hv(t,0),e.contentQueries!==null&&dv(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&uc(t,f)}else{let f=e.contentHooks;f!==null&&dc(t,f,1),lf(t,1)}QC(e,t);let d=e.components;d!==null&&zv(t,d,0);let h=e.viewQuery;if(h!==null&&Cf(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&uc(t,f)}else{let f=e.viewHooks;f!==null&&dc(t,f,2),lf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ja]){for(let f of t[Ja])f();t[Ja]=null}o||(jv(t),t[B]&=-73)}catch(u){throw o||yi(t),u}finally{l!==null&&(ua(l,c),a&&HC(l)),nc()}}function Hv(e,t){for(let n=rv(e);n!==null;n=iv(n))for(let r=we;r<n.length;r++){let i=n[r];qv(i,t)}}function ZC(e){for(let t=rv(e);t!==null;t=iv(t)){if(!(t[B]&2))continue;let n=t[Po];for(let r=0;r<n.length;r++){let i=n[r];Ud(i)}}}function JC(e,t,n){ce(ee.ComponentStart);let r=wt(t,e);try{qv(r,n)}finally{ce(ee.ComponentEnd,r[be])}}function qv(e,t){Qa(e)&&Sf(e,t)}function Sf(e,t){let r=e[V],i=e[B],o=e[ft],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&da(o)),s||=!1,o&&(o.dirty=!1),e[B]&=-9217,s)YC(r,e,r.template,e[be]);else if(i&8192){let a=k(null);try{Bv(e),Hv(e,1);let c=r.components;c!==null&&zv(e,c,1),jv(e)}finally{k(a)}}}function zv(e,t,n){for(let r=0;r<t.length;r++)JC(e,t[r],n)}function QC(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Un(~i);else{let o=i,s=n[++r],a=n[++r];Zg(s,o);let c=t[o];ce(ee.HostBindingsUpdateStart,c);try{a(2,c)}finally{ce(ee.HostBindingsUpdateEnd,c)}}}}finally{Un(-1)}}function oh(e,t){let n=Kd()?64:1088;for(e[en].changeDetectionScheduler?.notify(t);e;){e[B]|=n;let r=kn(e);if(vi(e)&&!r)return e;e=r}return null}function Gv(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Wv(e,t){let n=we+t;if(n<e.length)return e[n]}function qc(e,t,n,r=!0){let i=t[V];if(XC(i,t,e,n),r){let s=If(n,e),a=t[le],c=a.parentNode(e[jn]);c!==null&&fC(i,e[_t],a,t,c,s)}let o=t[pi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kv(e,t){let n=zo(e,t);return n!==void 0&&Uc(n[V],n),n}function zo(e,t){if(e.length<=we)return;let n=we+t,r=e[n];if(r){let i=r[br];i!==null&&i!==e&&Xf(i,r),t>0&&(e[n-1][yt]=r[yt]);let o=Ao(e,we+t);dC(r[V],r);let s=o[Er];s!==null&&s.detachView(o[V]),r[Ne]=null,r[yt]=null,r[B]&=-129}return r}function XC(e,t,n,r){let i=we+r,o=n.length;r>0&&(n[i-1][yt]=t),r<o-we?(t[yt]=n[i],Md(n,we+r,t)):(n.push(t),t[yt]=null),t[Ne]=n;let s=t[br];s!==null&&n!==s&&Yv(s,t);let a=t[Er];a!==null&&a.insertView(e),Xa(t),t[B]|=128}function Yv(e,t){let n=e[Po],r=t[Ne];if(tn(r))e[B]|=2;else{let i=r[Ne][dt];t[dt]!==i&&(e[B]|=2)}n===null?e[Po]=[t]:n.push(t)}var Bn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[V];return qo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[be]}set context(t){this._lView[be]=t}get destroyed(){return Ir(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ne];if(jt(t)){let n=t[ko],r=n?n.indexOf(this):-1;r>-1&&(zo(t,r),Ao(n,r))}this._attachedToViewContainer=!1}Uc(this._lView[V],this._lView)}onDestroy(t){Bd(this._lView,t)}markForCheck(){oh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[B]&=-129}reattach(){Xa(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,$v(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=vi(this._lView),n=this._lView[br];n!==null&&!t&&Xf(n,this._lView),Av(this._lView[V],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=vi(this._lView),r=this._lView[br];r!==null&&!n&&Yv(r,this._lView),Xa(this._lView)}};var zc=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=eD;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Hc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Bn(o)}}return e})();function eD(){return tD(qe(),z())}function tD(e,t){return e.type&4?new zc(t,e,Nc(e,t)):null}function Xo(e,t,n,r,i){let o=e.data[t];if(o===null)o=nD(e,t,n,r,i),Yg()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Gg();o.injectorIndex=s===null?-1:s.injectorIndex}return _i(o,!0),o}function nD(e,t,n,r,i){let o=Gd(),s=Wd(),a=s?o:o&&o.parent,c=e.data[t]=iD(e,a,n,t,r,i);return rD(e,c,o,s),c}function rD(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function iD(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return zg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function oD(e){let t=e[Fd]??[],r=e[Ne][le],i=[];for(let o of t)o.data[av]!==void 0?i.push(o):sD(o,r);e[Fd]=i}function sD(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[sv];for(;n<i;){let o=r.nextSibling;vv(t,r,!1),r=o,n++}}}var aD=()=>null,cD=()=>null;function Tf(e,t){return aD(e,t)}function Zv(e,t,n){return cD(e,t,n)}var Jv=class{},Gc=class{},Mf=class{resolveComponentFactory(t){throw new I(917,!1)}},es=class{static NULL=new Mf},Ar=class{},Dn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>lD()}return e})();function lD(){let e=z(),t=qe(),n=wt(t.index,e);return(tn(n)?n:e)[le]}var Qv=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();var fc={},xf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,fc,r);return i!==fc||n===fc?i:this.parentInjector.get(t,n,r)}};function Ec(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=qa(i,a);else if(o==2){let c=a,l=t[++s];r=qa(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Z(e,t=0){let n=z();if(n===null)return N(e,t);let r=qe();return Qm(r,n,$e(e),t)}function Xv(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}fD(e,t,n,a,o,c,l)}o!==null&&r!==null&&uD(n,r,o)}function uD(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new I(-301,!1);r.push(t[i],o)}}function dD(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function fD(e,t,n,r,i,o,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&nn(f)&&(c=f,dD(e,n,h)),bf(vc(n,t),e,f.type)}yD(n,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Dv(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Ei(n.mergedAttrs,f.hostAttrs),pD(e,n,t,d,f),vD(d,f,i),s!==null&&s.has(f)){let[y,w]=s.get(f);n.directiveToIndex.set(f.type,[d,y+n.directiveStart,w+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}hD(e,n,o)}function hD(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Im(0,t,i,r),Im(1,t,i,r),Tm(t,r,!1);else{let o=n.get(i);Sm(0,t,o,r),Sm(1,t,o,r),Tm(t,r,!0)}}}function Im(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),ey(t,o)}}function Sm(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ey(t,s)}}function ey(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Tm(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Wf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function pD(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=pr(i.type,!0)),s=new Mr(o,nn(i),Z,null);e.blueprint[r]=s,n[r]=s,gD(e,t,r,Dv(e,n,i.hostVars,ze),i)}function gD(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;mD(s)!=a&&s.push(a),s.push(n,r,o)}}function mD(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function vD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;nn(t)&&(n[""]=e)}}function yD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ty(e,t,n,r,i,o,s,a){let c=t[V],l=c.consts,u=Et(l,s),d=Xo(c,e,n,r,u);return o&&Xv(c,t,d,Et(l,a),i),d.mergedAttrs=Ei(d.mergedAttrs,d.attrs),d.attrs!==null&&Ec(d,d.attrs,!1),d.mergedAttrs!==null&&Ec(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function ny(e,t){Hm(e,t),Ld(t)&&e.queries.elementEnd(t)}function _D(e,t,n,r,i,o){let s=t.consts,a=Et(s,i),c=Xo(t,e,n,r,a);if(c.mergedAttrs=Ei(c.mergedAttrs,c.attrs),o!=null){let l=Et(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Ec(c,c.attrs,!1),c.mergedAttrs!==null&&Ec(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function ry(e,t,n){return e[t]=n}function bD(e,t){return e[t]}function Dt(e,t,n){if(n===ze)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function iy(e,t,n,r){let i=Dt(e,t,n);return Dt(e,t+1,r)||i}function wD(e,t,n,r,i){let o=iy(e,t,n,r);return Dt(e,t+2,i)||o}function hc(e,t,n){return function r(i){let o=Vn(e)?wt(e.index,t):t;oh(o,5);let s=t[be],a=Mm(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Mm(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Mm(e,t,n,r){let i=k(null);try{return ce(ee.OutputStart,t,n),n(r)!==!1}catch(o){return LC(e,o),!1}finally{ce(ee.OutputEnd,t,n),k(i)}}function oy(e,t,n,r,i,o,s,a){let c=Fo(e),l=!1,u=null;if(!r&&c&&(u=CD(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Vt(e,n),h=r?r(d):d;PE(n,h,o,a);let f=i.listen(h,o,a);if(!ED(o)){let p=r?y=>r(bt(y[e.index])):e.index;sy(p,t,n,o,a,f,!1)}}return l}function ED(e){return e.startsWith("animation")||e.startsWith("transition")}function CD(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[gi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function sy(e,t,n,r,i,o,s){let a=t.firstCreatePass?$g(t):null,c=Bg(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function xm(e,t,n,r,i,o){let s=t[n],a=t[V],l=a.data[n].outputs[r],d=s[l].subscribe(o);sy(e.index,a,t,i,o,d,!0)}var Af=Symbol("BINDING");var Cc=class extends es{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Fn(t);return new Di(n,this.ngModule)}};function DD(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&jc.SignalBased)!==0};return i&&(o.transform=i),o})}function ID(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function SD(e,t,n){let r=t instanceof pe?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new xf(n,r):n}function TD(e){let t=e.get(Ar,null);if(t===null)throw new I(407,!1);let n=e.get(Qv,null),r=e.get(Pn,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function MD(e,t){let n=ay(e);return gv(t,n,n==="svg"?Fg:n==="math"?Lg:null)}function ay(e){return(e.selectors[0][0]||"div").toLowerCase()}var Di=class extends Gc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=DD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ID(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=tC(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){ce(ee.DynamicComponentStart);let a=k(null);try{let c=this.componentDef,l=xD(r,c,s,o),u=SD(c,i||this.ngModule,t),d=TD(u),h=d.rendererFactory.createRenderer(null,c),f=r?IC(h,r,c.encapsulation,u):MD(c,h),p=s?.some(Am)||o?.some(_=>typeof _!="function"&&_.bindings.some(Am)),y=Yf(null,l,null,512|Cv(c),null,null,d,h,u,null,uv(f,u,!0));y[ke]=f,tc(y);let w=null;try{let _=ty(ke,y,2,"#host",()=>l.directiveRegistry,!0,0);yv(h,f,_),Ci(f,y),nh(l,y,_),fv(l,_,y),ny(l,_),n!==void 0&&RD(_,this.ngContentSelectors,n),w=wt(_.index,y),y[be]=w[be],ih(l,y,null)}catch(_){throw w!==null&&Ef(w),Ef(y),_}finally{ce(ee.DynamicComponentEnd),nc()}return new Dc(this.componentType,y,!!p)}finally{k(a)}}};function xD(e,t,n,r){let i=e?["ng-version","21.1.2"]:nC(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[Af].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[Af].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=Id(d);c.push(h)}return Kf(0,null,AD(o,s),1,a,c,null,null,null,[i],null)}function AD(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Am(e){let t=e[Af].kind;return t==="input"||t==="twoWay"}var Dc=class extends Jv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Lo(n[V],ke),this.location=Nc(this._tNode,n),this.instance=wt(this._tNode.index,n)[be],this.hostView=this.changeDetectorRef=new Bn(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=rh(r,i[V],i,t,n);this.previousInputValues.set(t,n);let s=wt(r.index,i);oh(s,1)}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function RD(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Si=(()=>{class e{static __NG_ELEMENT_ID__=ND}return e})();function ND(){let e=qe();return kD(e,z())}var OD=Si,cy=class extends OD{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Nc(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Bf(this._hostTNode,this._hostLView);if(Gm(t)){let n=mc(t,this._hostLView),r=gc(t),i=n[V].data[r+8];return new Tr(i,n)}else return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Rm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-we}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ho(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!cE(t),l;if(c)l=n;else{let w=n||{};l=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef,s=w.directives,a=w.bindings}let u=c?t:new Di(Fn(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let _=(c?d:this.parentInjector).get(pe,null);_&&(o=_)}let h=Fn(u.componentType??{}),f=Tf(this._lContainer,h?.id??null),p=f?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,Ho(this._hostTNode,f)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(jg(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Ne],l=new cy(c,c[_t],c[Ne]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return qc(s,i,o,r),t.attachToViewContainerRef(),Md(ff(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Rm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zo(this._lContainer,n);r&&(Ao(ff(this._lContainer),n),Uc(r[V],r))}detach(t){let n=this._adjustIndex(t,-1),r=zo(this._lContainer,n);return r&&Ao(ff(this._lContainer),n)!=null?new Bn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Rm(e){return e[ko]}function ff(e){return e[ko]||(e[ko]=[])}function kD(e,t){let n,r=t[e.index];return jt(r)?n=r:(n=Gv(r,t,null,e),t[e.index]=n,Zf(t,n)),FD(n,t,e,r),new cy(n,e,t)}function PD(e,t){let n=e[le],r=n.createComment(""),i=Vt(t,e),o=n.parentNode(i);return bc(n,o,r,n.nextSibling(i),!1),r}var FD=VD,LD=()=>!1;function jD(e,t,n){return LD(e,t,n)}function VD(e,t,n,r){if(e[jn])return;let i;n.type&8?i=bt(r):i=PD(t,n),e[jn]=i}var Rr=class{},Wc=class{};var Ic=class extends Rr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Cc(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Dd(t);this._bootstrapComponents=wv(o.bootstrap),this._r3Injector=tf(t,n,[{provide:Rr,useValue:this},{provide:es,useValue:this.componentFactoryResolver},...r],gn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Sc=class extends Wc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ic(this.moduleType,t,[])}};var Go=class extends Rr{injector;componentFactoryResolver=new Cc(this);instance=null;constructor(t){super();let n=new mr([...t.providers,{provide:Rr,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],t.parent||No(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ts(e,t,n=null){return new Go({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var UD=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Rd(!1,n.type),i=r.length>0?ts([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(N(pe))})}return e})();function Ce(e){return Ko(()=>{let t=ly(e),n=J(D({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$f.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(UD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ht.Emulated,styles:e.styles||rt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&$n("NgStandalone"),uy(n);let r=e.dependencies;return n.directiveDefs=Nm(r,BD),n.pipeDefs=Nm(r,Dg),n.id=qD(n),n})}function BD(e){return Fn(e)||Id(e)}function qt(e){return Ko(()=>({type:e.type,bootstrap:e.bootstrap||rt,declarations:e.declarations||rt,imports:e.imports||rt,exports:e.exports||rt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $D(e,t){if(e==null)return Ln;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=jc.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function HD(e){if(e==null)return Ln;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ve(e){return Ko(()=>{let t=ly(e);return uy(t),t})}function ly(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ln,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||rt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$D(e.inputs,t),outputs:HD(e.outputs),debugInfo:null}}function uy(e){e.features?.forEach(t=>t(e))}function Nm(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function qD(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function zD(e){return Object.getPrototypeOf(e.prototype).constructor}function It(e){let t=zD(e.type),n=!0,r=[e];for(;t;){let i;if(nn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=hf(e.inputs),s.declaredInputs=hf(e.declaredInputs),s.outputs=hf(e.outputs);let a=i.hostBindings;a&&ZD(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&KD(e,c),l&&YD(e,l),GD(e,i),Cg(e.outputs,i.outputs),nn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===It&&(n=!1)}}t=Object.getPrototypeOf(t)}WD(r)}function GD(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function WD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ei(i.hostAttrs,n=Ei(n,i.hostAttrs))}}function hf(e){return e===Ln?{}:e===rt?[]:e}function KD(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function YD(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function ZD(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function dy(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=Ei(e.mergedAttrs,e.attrs);let u=e.tView=Kf(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),_i(e,!1);let c=QD(n,t,e,r);ic()&&eh(n,t,c,e),Ci(c,t);let l=Gv(c,t,c,e);t[r+ke]=l,Zf(t,l),jD(l,e,t)}function JD(e,t,n,r,i,o,s,a,c,l,u){let d=n+ke,h;return t.firstCreatePass?(h=Xo(t,d,4,s||null,a||null),Hd()&&Xv(t,e,h,Et(t.consts,l),kv),Hm(t,h)):h=t.data[d],dy(h,e,t,n,r,i,o,c),Fo(h)&&nh(t,e,h),l!=null&&$c(e,h,u),h}function Tc(e,t,n,r,i,o,s,a,c,l,u){let d=n+ke,h;if(t.firstCreatePass){if(h=Xo(t,d,4,s||null,a||null),l!=null){let f=Et(t.consts,l);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return dy(h,e,t,n,r,i,o,c),l!=null&&$c(e,h,u),h}function Kc(e,t,n,r,i,o,s,a){let c=z(),l=Pe(),u=Et(l.consts,o);return JD(c,l,e,t,n,r,i,u,void 0,s,a),Kc}var QD=XD;function XD(e,t,n,r){return oc(!0),t[le].createComment("")}var sh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function fy(e){return typeof e=="function"&&e[et]!==void 0}function ah(e){return fy(e)&&typeof e.set=="function"}var ch=new x("");function Hn(e){return!!e&&typeof e.then=="function"}function lh(e){return!!e&&typeof e.subscribe=="function"}var uh=new x("");function Yc(e){return Ft([{provide:uh,multi:!0,useValue:e}])}var dh=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=b(uh,{optional:!0})??[];injector=b(at);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Oe(this.injector,i);if(Hn(o))n.push(o);else if(lh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zc=new x("");function hy(){Bu(()=>{let e="";throw new I(600,e)})}function py(e){return e.isBoundToModule}var eI=10;var zt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(ht);afterRenderManager=b(Qf);zonelessEnabled=b(Uo);rootEffectScheduler=b(cf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new he;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(bn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(F(n=>!n))}constructor(){b(Cn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=b(pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=at.NULL){return this._injector.get(He).run(()=>{ce(ee.BootstrapComponentStart);let s=n instanceof Gc;if(!this._injector.get(dh).done){let p="";throw new I(405,p)}let c;s?c=n:c=this._injector.get(es).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=py(c)?void 0:this._injector.get(Rr),u=r||c.selector,d=c.create(i,[],u,l),h=d.location.nativeElement,f=d.injector.get(ch,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),$o(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),ce(ee.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ce(ee.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Vc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ce(ee.ChangeDetectionEnd),new I(101,!1);let n=k(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(n),this.afterTick.next(),ce(ee.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ar,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<eI;){ce(ee.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ce(ee.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!jo(i))continue;let o=r&&!this.zonelessEnabled?0:1;$v(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>jo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$o(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Zc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$o(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $o(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ti(e,t,n,r){let i=z(),o=Sr();if(Dt(i,o,t)){let s=Pe(),a=rc();kC(a,i,e,t,n,r)}return Ti}var sj=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Rf=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function pf(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function tI(e,t,n,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(t)){k(r);let l=t.length-1;for(k(null);s<=a&&s<=l;){let u=e.at(s),d=t[s],h=pf(s,u,s,d,n);if(h!==0){h<0&&e.updateValue(s,d),s++;continue}let f=e.at(a),p=t[l],y=pf(a,f,l,p,n);if(y!==0){y<0&&e.updateValue(a,p),a--,l--;continue}let w=n(s,u),_=n(a,f),R=n(s,d);if(Object.is(R,_)){let T=n(l,p);Object.is(T,w)?(e.swap(s,a),e.updateValue(a,p),l--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(i??=new Mc,o??=km(e,s,a,n),Nf(e,i,s,R))e.updateValue(s,d),s++,a++;else if(o.has(R))i.set(w,e.detach(s)),a--;else{let T=e.create(s,t[s]);e.attach(s,T),s++,a++}}for(;s<=l;)Om(e,i,n,s,t[s]),s++}else if(t!=null){k(r);let l=t[Symbol.iterator]();k(null);let u=l.next();for(;!u.done&&s<=a;){let d=e.at(s),h=u.value,f=pf(s,d,s,h,n);if(f!==0)f<0&&e.updateValue(s,h),s++,u=l.next();else{i??=new Mc,o??=km(e,s,a,n);let p=n(s,h);if(Nf(e,i,s,p))e.updateValue(s,h),s++,a++,u=l.next();else if(!o.has(p))e.attach(s,e.create(s,h)),s++,a++,u=l.next();else{let y=n(s,d);i.set(y,e.detach(s)),a--}}}for(;!u.done;)Om(e,i,n,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}function Nf(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function Om(e,t,n,r,i){if(Nf(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function km(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Mc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function te(e,t,n,r,i,o,s,a){$n("NgControlFlow");let c=z(),l=Pe(),u=Et(l.consts,o);return Tc(c,l,e,t,n,r,i,u,256,s,a),fh}function fh(e,t,n,r,i,o,s,a){$n("NgControlFlow");let c=z(),l=Pe(),u=Et(l.consts,o);return Tc(c,l,e,t,n,r,i,u,512,s,a),fh}function ne(e,t){$n("NgControlFlow");let n=z(),r=Sr(),i=n[r]!==ze?n[r]:-1,o=i!==-1?xc(n,ke+i):void 0,s=0;if(Dt(n,r,e)){let a=k(null);try{if(o!==void 0&&Kv(o,s),e!==-1){let c=ke+e,l=xc(n,c),u=Ff(n[V],c),d=Zv(l,u,n),h=Hc(n,u,t,{dehydratedView:d});qc(l,h,s,Ho(u,d))}}finally{k(a)}}else if(o!==void 0){let a=Wv(o,s);a!==void 0&&(a[be]=t)}}var Of=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-we}};function qn(e,t){return t}var kf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Je(e,t,n,r,i,o,s,a,c,l,u,d,h){$n("NgControlFlow");let f=z(),p=Pe(),y=c!==void 0,w=z(),_=a?s.bind(w[dt][be]):s,R=new kf(y,_);w[ke+e]=R,Tc(f,p,e+1,t,n,r,i,Et(p.consts,o),256),y&&Tc(f,p,e+2,c,l,u,d,Et(p.consts,h),512)}var Pf=class extends Rf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-we}at(t){return this.getLView(t)[be].$implicit}attach(t,n){let r=n[pi];this.needsIndexUpdate||=t!==this.length,qc(this.lContainer,n,t,Ho(this.templateTNode,r)),nI(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,rI(this.lContainer,t),iI(this.lContainer,t)}create(t,n){let r=Tf(this.lContainer,this.templateTNode.tView.ssrId);return Hc(this.hostLView,this.templateTNode,new Of(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Uc(t[V],t)}updateValue(t,n){this.getLView(t)[be].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[be].$index=t}getLView(t){return oI(this.lContainer,t)}};function Qe(e){let t=k(null),n=Ut();try{let r=z(),i=r[V],o=r[n],s=n+1,a=xc(r,s);if(o.liveCollection===void 0){let l=Ff(i,s);o.liveCollection=new Pf(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(tI(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){let l=Sr(),u=c.length===0;if(Dt(r,l,u)){let d=n+2,h=xc(r,d);if(u){let f=Ff(i,d),p=Zv(h,f,r),y=Hc(r,f,void 0,{dehydratedView:p});qc(h,y,0,Ho(f,p))}else i.firstUpdatePass&&oD(h),Kv(h,0)}}}finally{k(t)}}function xc(e,t){return e[t]}function nI(e,t){if(e.length<=we)return;let n=we+t,r=e[n],i=r?r[Dr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[yn];lC(o,i),xr.delete(r[_n]),i.detachedLeaveAnimationFns=void 0}}function rI(e,t){if(e.length<=we)return;let n=we+t,r=e[n],i=r?r[Dr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function iI(e,t){return zo(e,t)}function oI(e,t){return Wv(e,t)}function Ff(e,t){return Lo(e,t)}function ye(e,t,n){let r=z(),i=Sr();if(Dt(r,i,t)){let o=Pe(),s=rc();Ov(s,r,e,t,r[le],n)}return ye}function Lf(e,t,n,r,i){rh(t,e,n,i?"class":"style",r)}function m(e,t,n,r){let i=z(),o=i[V],s=e+ke,a=o.firstCreatePass?ty(s,i,2,t,kv,Hd(),n,r):o.data[s];if(Pv(a,i,e,t,gy),Fo(a)){let c=i[V];nh(c,i,a),fv(c,a,i)}return r!=null&&$c(i,a),m}function g(){let e=Pe(),t=qe(),n=Fv(t);return e.firstCreatePass&&ny(e,n),qd(n)&&zd(),$d(),n.classesWithoutHost!=null&&pE(n)&&Lf(e,n,z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&gE(n)&&Lf(e,n,z(),n.stylesWithoutHost,!1),g}function zn(e,t,n,r){return m(e,t,n,r),g(),zn}function ct(e,t,n,r){let i=z(),o=i[V],s=e+ke,a=o.firstCreatePass?_D(s,o,2,t,n,r):o.data[s];return Pv(a,i,e,t,gy),r!=null&&$c(i,a),ct}function St(){let e=qe(),t=Fv(e);return qd(t)&&zd(),$d(),St}var gy=(e,t,n,r,i)=>(oc(!0),gv(t[le],r,rm()));function De(){return z()}var ns="en-US";var sI=ns;function my(e){typeof e=="string"&&(sI=e.toLowerCase().replace(/_/g,"-"))}function X(e,t,n){let r=z(),i=Pe(),o=qe();return vy(i,r,r[le],o,e,t,n),X}function In(e,t,n){let r=z(),i=Pe(),o=qe();return(o.type&3||n)&&oy(o,i,r,n,r[le],e,t,hc(o,r,t)),In}function vy(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=hc(r,t,o),oy(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=hc(r,t,o),xm(r,t,h,f,i,c)}if(l&&l.length)for(let d of l)c??=hc(r,t,o),xm(r,t,d,i,i,c)}}function S(e=1){return nm(e)}function lc(e,t){return e<<17|t<<2}function Nr(e){return e>>17&32767}function aI(e){return(e&2)==2}function cI(e,t){return e&131071|t<<17}function jf(e){return e|2}function Ii(e){return(e&131068)>>2}function gf(e,t){return e&-131069|t<<2}function lI(e){return(e&1)===1}function Vf(e){return e|1}function uI(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Nr(s),c=Ii(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||hi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Nr(e[a+1]);e[r+1]=lc(h,a),h!==0&&(e[h+1]=gf(e[h+1],r)),e[a+1]=cI(e[a+1],r)}else e[r+1]=lc(a,0),a!==0&&(e[a+1]=gf(e[a+1],r)),a=r;else e[r+1]=lc(c,0),a===0?a=r:e[c+1]=gf(e[c+1],r),c=r;l&&(e[r+1]=jf(e[r+1])),Pm(e,u,r,!0),Pm(e,u,r,!1),dI(t,u,e,r,o),s=lc(a,c),o?t.classBindings=s:t.styleBindings=s}function dI(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&hi(o,t)>=0&&(n[r+1]=Vf(n[r+1]))}function Pm(e,t,n,r){let i=e[n+1],o=t===null,s=r?Nr(i):Ii(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];fI(c,t)&&(a=!0,e[s+1]=r?Vf(l):jf(l)),s=r?Nr(l):Ii(l)}a&&(e[n+1]=r?jf(i):Vf(i))}function fI(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?hi(e,t)>=0:!1}var $t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hI(e){return e.substring($t.key,$t.keyEnd)}function pI(e){return gI(e),yy(e,_y(e,0,$t.textEnd))}function yy(e,t){let n=$t.textEnd;return n===t?-1:(t=$t.keyEnd=mI(e,$t.key=t,n),_y(e,t,n))}function gI(e){$t.key=0,$t.keyEnd=0,$t.value=0,$t.valueEnd=0,$t.textEnd=e.length}function _y(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function mI(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Or(e,t){return yI(e,t,null,!0),Or}function rs(e){_I(II,vI,e,!0)}function vI(e,t){for(let n=pI(t);n>=0;n=yy(t,n))Ya(e,hI(t),!0)}function yI(e,t,n,r){let i=z(),o=Pe(),s=Vo(2);if(o.firstUpdatePass&&wy(o,e,s,r),t!==ze&&Dt(i,s,t)){let a=o.data[Ut()];Ey(o,a,i,i[le],e,i[s+1]=TI(t,n),r,s)}}function _I(e,t,n,r){let i=Pe(),o=Vo(2);i.firstUpdatePass&&wy(i,null,o,r);let s=z();if(n!==ze&&Dt(s,o,n)){let a=i.data[Ut()];if(Cy(a,r)&&!by(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=qa(c,n||"")),Lf(i,a,s,n,r)}else SI(i,a,s,s[le],s[o+1],s[o+1]=DI(e,t,n),r,o)}}function by(e,t){return t>=e.expandoStartIndex}function wy(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Ut()],s=by(e,n);Cy(o,r)&&t===null&&!s&&(t=!1),t=bI(i,o,t,r),uI(i,o,t,n,s,r)}}function bI(e,t,n,r){let i=Qg(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=mf(null,e,t,n,r),n=Wo(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=mf(i,e,t,n,r),o===null){let c=wI(e,t,r);c!==void 0&&Array.isArray(c)&&(c=mf(null,e,t,c[1],r),c=Wo(c,t.attrs,r),EI(e,t,r,c))}else o=CI(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function wI(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ii(r)!==0)return e[Nr(r)]}function EI(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Nr(i)]=r}function CI(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Wo(r,s,n)}return Wo(r,t.attrs,n)}function mf(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Wo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Wo(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ya(e,s,n?!0:t[++o]))}return e===void 0?null:e}function DI(e,t,n){if(n==null||n==="")return rt;let r=[],i=Jo(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(i instanceof Set)for(let o of i)e(r,o,!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function II(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Ya(e,r,n)}function SI(e,t,n,r,i,o,s,a){i===ze&&(i=rt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,p=null,y;u===d?(c+=2,l+=2,h!==f&&(p=d,y=f)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,y=f),p!==null&&Ey(e,t,n,r,p,y,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Ey(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=lI(l)?Fm(c,t,n,i,Ii(l),s):void 0;if(!Ac(u)){Ac(o)||aI(l)&&(o=Fm(c,null,n,i,a,s));let d=jd(Ut(),n);DC(r,s,d,i,o)}}function Fm(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===ze&&(h=d?rt:void 0);let f=d?Za(h,r):u===r?h:void 0;if(l&&!Ac(f)&&(f=Za(c,r)),Ac(f)&&(a=f,s))return a;let p=e[i+1];i=s?Nr(p):Ii(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Za(c,r))}return a}function Ac(e){return e!==void 0}function TI(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=gn(Jo(e)))),e}function Cy(e,t){return(e.flags&(t?8:16))!==0}function v(e,t=""){let n=z(),r=Pe(),i=e+ke,o=r.firstCreatePass?Xo(r,i,1,t,null):r.data[i],s=MI(r,n,o,t);n[i]=s,ic()&&eh(r,n,s,o),_i(o,!1)}var MI=(e,t,n,r)=>(oc(!0),VE(t[le],r));function xI(e,t,n,r=""){return Dt(e,Sr(),n)?t+vn(n)+r:ze}function AI(e,t,n,r,i,o=""){let s=Jd(),a=iy(e,s,n,i);return Vo(2),a?t+vn(n)+r+vn(i)+o:ze}function RI(e,t,n,r,i,o,s,a=""){let c=Jd(),l=wD(e,c,n,i,s);return Vo(3),l?t+vn(n)+r+vn(i)+o+vn(s)+a:ze}function Y(e){return ge("",e),Y}function ge(e,t,n){let r=z(),i=xI(r,e,t,n);return i!==ze&&hh(r,Ut(),i),ge}function Mi(e,t,n,r,i){let o=z(),s=AI(o,e,t,n,r,i);return s!==ze&&hh(o,Ut(),s),Mi}function xi(e,t,n,r,i,o,s){let a=z(),c=RI(a,e,t,n,r,i,o,s);return c!==ze&&hh(a,Ut(),c),xi}function hh(e,t,n){let r=jd(t,e);UE(e[le],r,n)}function Me(e,t,n){ah(t)&&(t=t());let r=z(),i=Sr();if(Dt(r,i,t)){let o=Pe(),s=rc();Ov(s,r,e,t,r[le],n)}return Me}function Fe(e,t){let n=ah(e);return n&&e.set(t),n}function xe(e,t){let n=z(),r=Pe(),i=qe();return vy(r,n,n[le],i,e,t),xe}function Lm(e,t,n){let r=Pe();r.firstCreatePass&&Dy(t,r.data,r.blueprint,nn(e),n)}function Dy(e,t,n,r,i){if(e=$e(e),Array.isArray(e))for(let o=0;o<e.length;o++)Dy(e[o],t,n,r,i);else{let o=Pe(),s=z(),a=qe(),c=gr(e)?e:$e(e.provide),l=Od(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(gr(e)||!e.multi){let f=new Mr(l,i,Z,null),p=yf(c,t,i?u:u+h,d);p===-1?(bf(vc(a,s),o,c),vf(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=yf(c,t,u+h,d),p=yf(c,t,u,u+h),y=f>=0&&n[f],w=p>=0&&n[p];if(i&&!w||!i&&!y){bf(vc(a,s),o,c);let _=kI(i?OI:NI,n.length,i,r,l,e);!i&&w&&(n[p].providerFactory=_),vf(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=Iy(n[i?p:f],l,!i&&r);vf(o,e,f>-1?f:p,_)}!i&&r&&w&&n[p].componentProviders++}}}function vf(e,t,n,r){let i=gr(t),o=Og(t);if(i||o){let c=(o?$e(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Iy(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function yf(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function NI(e,t,n,r,i){return Uf(this.multi,[])}function OI(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=yc(r,r[V],this.providerFactory.index,i);s=c.slice(0,a),Uf(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Uf(o,s);return s}function Uf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function kI(e,t,n,r,i,o){let s=new Mr(e,n,Z,null);return s.multi=[],s.index=t,s.componentProviders=0,Iy(s,i,r&&!n),s}function Gn(e,t){return n=>{n.providersResolver=(r,i)=>Lm(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>Lm(r,i?i(t):t,!0))}}function ph(e,t){let n=Zd()+e,r=z();return r[n]===ze?ry(r,n,t()):bD(r,n)}function Sn(e,t,n){return FI(z(),Zd(),e,t,n)}function PI(e,t){let n=e[t];return n===ze?void 0:n}function FI(e,t,n,r,i,o){let s=t+n;return Dt(e,s,i)?ry(e,s+1,o?r.call(o,i):r(i)):PI(e,s+1)}var Rc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},gh=(()=>{class e{compileModuleSync(n){return new Sc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Dd(n),o=wv(i.declarations).reduce((s,a)=>{let c=Fn(a);return c&&s.push(new Di(c)),s},[]);return new Rc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Sy=(()=>{class e{applicationErrorHandler=b(ht);appRef=b(zt);taskService=b(bn);ngZone=b(He);zonelessEnabled=b(Uo);tracing=b(Cn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(So):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(af,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?am:nf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(So+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ty(){return[{provide:Pn,useExisting:Sy},{provide:He,useClass:To},{provide:Uo,useValue:!0}]}function LI(){return typeof $localize<"u"&&$localize.locale||ns}var Jc=new x("",{factory:()=>b(Jc,{optional:!0,skipSelf:!0})||LI()});function Ge(e,t){return fa(e,t?.equal)}var xy=Symbol("InputSignalNode#UNSET"),iS=J(D({},ha),{transformFn:void 0,applyValueToInputSignal(e,t){vo(e,t)}});function Ay(e,t){let n=Object.create(iS);n.value=e,n.transformFn=t?.transform;function r(){if(po(n),n.value===xy){let i=null;throw new I(-950,i)}return n.value}return r[et]=n,r}var Xc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Yo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function My(e,t){return Ay(e,t)}function oS(e){return Ay(xy,e)}var Ry=(My.required=oS,My);var mh=new x(""),sS=new x("");function is(e){return!e.moduleRef}function aS(e){let t=is(e)?e.r3Injector:e.moduleRef.injector,n=t.get(He);return n.run(()=>{is(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ht),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),is(e)){let o=()=>t.destroy(),s=e.platformInjector.get(mh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(mh);s.add(o),e.moduleRef.onDestroy(()=>{$o(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return lS(r,n,()=>{let o=t.get(bn),s=o.add(),a=t.get(dh);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Jc,ns);if(my(c||ns),!t.get(sS,!0))return is(e)?t.get(zt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(is(e)){let u=t.get(zt);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return cS?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(s)})})})}var cS;function lS(e,t,n){try{let r=n();return Hn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Qc=null;function uS(e=[],t){return at.create({name:t,providers:[{provide:Ro,useValue:"platform"},{provide:mh,useValue:new Set([()=>Qc=null])},...e]})}function dS(e=[]){if(Qc)return Qc;let t=uS(e);return Qc=t,hy(),fS(t),t}function fS(e){let t=e.get(kc,null);Oe(e,()=>{t?.forEach(n=>n())})}function Ny(){return!1}var hS=1e4;var bH=hS-1e3;var kr=(()=>{class e{static __NG_ELEMENT_ID__=pS}return e})();function pS(e){return gS(qe(),z(),(e&16)===16)}function gS(e,t,n){if(Vn(e)&&!n){let r=wt(e.index,t);return new Bn(r,r)}else if(e.type&175){let r=t[dt];return new Bn(r,t)}return null}function Oy(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;ce(ee.BootstrapApplicationStart);try{let o=i?.injector??dS(r),s=[Ty(),lm,...n||[]],a=new Go({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return aS({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{ce(ee.BootstrapApplicationEnd)}}function Pr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var ky=null;function Tt(){return ky}function vh(e){ky??=e}var os=class{},Ai=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>b(Py),providedIn:"platform"})}return e})();var Py=(()=>{class e extends Ai{_location;_history;_doc=b(Ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tt().getBaseHref(this._doc)}onPopState(n){let r=Tt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Tt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function jy(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Fy(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Wn(e){return e&&e[0]!=="?"?`?${e}`:e}var Ri=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>b(vS),providedIn:"root"})}return e})(),mS=new x(""),vS=(()=>{class e extends Ri{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Wn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(N(Ai),N(mS,8))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ni=(()=>{class e{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=bS(Fy(Ly(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wn(r))}normalize(n){return e.stripTrailingSlash(_S(this._basePath,Ly(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Wn;static joinWithSlash=jy;static stripTrailingSlash=Fy;static \u0275fac=function(r){return new(r||e)(N(Ri))};static \u0275prov=M({token:e,factory:()=>yS(),providedIn:"root"})}return e})();function yS(){return new Ni(N(Ri))}function _S(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Ly(e){return e.replace(/\/index.html$/,"")}function bS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var yh=(()=>{class e{_viewContainer;_context=new el;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Vy(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Vy(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Z(Si),Z(zc))};static \u0275dir=ve({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),el=class{$implicit=null;ngIf=null};function Vy(e,t){if(e&&!e.createEmbeddedView)throw new I(2020,!1)}var lt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=qt({type:e});static \u0275inj=vt({})}return e})();function ss(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Fr=class{};var Uy="browser";var as=class{_doc;constructor(t){this._doc=t}manager},tl=(()=>{class e extends as{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(N(Ee))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),il=new x(""),Eh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof tl));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof tl);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(N(il),N(He))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),_h="ng-app-id";function $y(e){for(let t of e)t.remove()}function Hy(e,t){let n=t.createElement("style");return n.textContent=e,n}function ES(e,t,n,r){let i=e.head?.querySelectorAll(`style[${_h}="${t}"],link[${_h}="${t}"]`);if(i)for(let o of i)o.removeAttribute(_h),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function wh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Ch=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,ES(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Hy);r?.forEach(i=>this.addUsage(i,this.external,wh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&($y(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])$y(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Hy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,wh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(N(Ee),N(Oc),N(Pc,8),N(Zo))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),bh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dh=/%COMP%/g;var zy="%COMP%",CS=`_nghost-${zy}`,DS=`_ngcontent-${zy}`,IS=!0,SS=new x("",{factory:()=>IS});function TS(e){return DS.replace(Dh,e)}function MS(e){return CS.replace(Dh,e)}function Gy(e,t){return t.map(n=>n.replace(Dh,e))}var Ih=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new cs(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof rl?i.applyToHost(n):i instanceof ls&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Ht.Emulated:o=new rl(c,l,r,this.appId,u,s,a,d);break;case Ht.ShadowDom:return new nl(c,n,r,s,a,this.nonce,d,l);case Ht.ExperimentalIsolatedShadowDom:return new nl(c,n,r,s,a,this.nonce,d);default:o=new ls(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(N(Eh),N(Ch),N(Oc),N(SS),N(Ee),N(He),N(Pc),N(Cn,8))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),cs=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(bh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(qy(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(qy(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=bh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=bh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(on.DashCase|on.Important)?t.style.setProperty(n,r,i&on.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&on.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Tt().getGlobalEventTarget(this.doc,t),!t))throw new I(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function qy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var nl=class extends cs{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,s,a,c){super(t,i,o,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Gy(r.id,l);for(let d of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=wh(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ls=class extends cs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Gy(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&xr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},rl=class extends ls{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=TS(l),this.hostAttr=MS(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var ol=class e extends os{supportsDOMEvents=!0;static makeCurrent(){vh(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=xS();return n==null?null:AS(n)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ss(document.cookie,t)}},us=null;function xS(){return us=us||document.head.querySelector("base"),us?us.getAttribute("href"):null}function AS(e){return new URL(e,document.baseURI).pathname}var RS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Wy=["alt","control","meta","shift"],NS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ky=(()=>{class e extends as{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Wy.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=NS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Wy.forEach(s=>{if(s!==i){let a=OS[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(N(Ee))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();async function Sh(e,t,n){let r=D({rootComponent:e},kS(t,n));return Oy(r)}function kS(e,t){return{platformRef:t?.platformRef,appProviders:[...VS,...e?.providers??[]],platformProviders:jS}}function PS(){ol.makeCurrent()}function FS(){return new Xt}function LS(){return Hf(document),document}var jS=[{provide:Zo,useValue:Uy},{provide:kc,useValue:PS,multi:!0},{provide:Ee,useFactory:LS}];var VS=[{provide:Ro,useValue:"root"},{provide:Xt,useFactory:FS},{provide:il,useClass:tl,multi:!0},{provide:il,useClass:Ky,multi:!0},Ih,Ch,Eh,{provide:Ar,useExisting:Ih},{provide:Fr,useClass:RS},[]];var Lr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var al=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},cl=class{encodeKey(t){return Yy(t)}encodeValue(t){return Yy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function US(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var BS=/%(\d[a-f0-9])/gi,$S={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Yy(e){return encodeURIComponent(e).replace(BS,(t,n)=>$S[n]??t)}function sl(e){return`${e}`}var Kn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new cl,t.fromString){if(t.fromObject)throw new I(2805,!1);this.map=US(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(sl):[sl(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(sl(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(sl(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function HS(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Zy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Jy(e){return typeof Blob<"u"&&e instanceof Blob}function Qy(e){return typeof FormData<"u"&&e instanceof FormData}function qS(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Xy="Content-Type",e_="Accept",t_="text/plain",n_="application/json",zS=`${n_}, ${t_}, */*`,ds=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(HS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new I(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Lr,this.context??=new al,!this.params)this.params=new Kn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Zy(this.body)||Jy(this.body)||Qy(this.body)||qS(this.body)?this.body:this.body instanceof Kn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Qy(this.body)?null:Jy(this.body)?this.body.type||null:Zy(this.body)?null:typeof this.body=="string"?t_:this.body instanceof Kn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?n_:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,u=t.credentials||this.credentials,d=t.referrer||this.referrer,h=t.integrity||this.integrity,f=t.referrerPolicy||this.referrerPolicy,p=t.transferCache??this.transferCache,y=t.timeout??this.timeout,w=t.body!==void 0?t.body:this.body,_=t.withCredentials??this.withCredentials,R=t.reportProgress??this.reportProgress,T=t.headers||this.headers,C=t.params||this.params,G=t.context??this.context;return t.setHeaders!==void 0&&(T=Object.keys(t.setHeaders).reduce((Ke,Q)=>Ke.set(Q,t.setHeaders[Q]),T)),t.setParams&&(C=Object.keys(t.setParams).reduce((Ke,Q)=>Ke.set(Q,t.setParams[Q]),C)),new e(n,r,w,{params:C,headers:T,context:G,reportProgress:R,responseType:i,withCredentials:_,transferCache:p,keepalive:o,cache:a,priority:s,timeout:y,mode:c,redirect:l,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},Oi=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Oi||{}),ki=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new Lr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},ll=class e extends ki{constructor(t={}){super(t)}type=Oi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ul=class e extends ki{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Oi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},fs=class extends ki{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},GS=200,WS=204;var KS=new x("");var YS=/^\)\]\}',?\n/;var Mh=(()=>{class e{xhrFactory;tracingService=b(Cn,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let r=this.xhrFactory;return K(null).pipe(Ze(()=>new q(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((w,_)=>s.setRequestHeader(w,_.join(","))),n.headers.has(e_)||s.setRequestHeader(e_,zS),!n.headers.has(Xy)){let w=n.detectContentTypeHeader();w!==null&&s.setRequestHeader(Xy,w)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let w=n.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",_=new Lr(s.getAllResponseHeaders()),R=s.responseURL||n.url;return c=new ll({headers:_,status:s.status,statusText:w,url:R}),c},u=this.maybePropagateTrace(()=>{let{headers:w,status:_,statusText:R,url:T}=l(),C=null;_!==WS&&(C=typeof s.response>"u"?s.responseText:s.response),_===0&&(_=C?GS:0);let G=_>=200&&_<300;if(n.responseType==="json"&&typeof C=="string"){let Ke=C;C=C.replace(YS,"");try{C=C!==""?JSON.parse(C):null}catch(Q){C=Ke,G&&(G=!1,C={error:Q,text:C})}}G?(o.next(new ul({body:C,headers:w,status:_,statusText:R,url:T||void 0})),o.complete()):o.error(new fs({error:C,headers:w,status:_,statusText:R,url:T||void 0}))}),d=this.maybePropagateTrace(w=>{let{url:_}=l(),R=new fs({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:_||void 0});o.error(R)}),h=d;n.timeout&&(h=this.maybePropagateTrace(w=>{let{url:_}=l(),R=new fs({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:_||void 0});o.error(R)}));let f=!1,p=this.maybePropagateTrace(w=>{f||(o.next(l()),f=!0);let _={type:Oi.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(_.total=w.total),n.responseType==="text"&&s.responseText&&(_.partialText=s.responseText),o.next(_)}),y=this.maybePropagateTrace(w=>{let _={type:Oi.UploadProgress,loaded:w.loaded};w.lengthComputable&&(_.total=w.total),o.next(_)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:Oi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(N(Fr))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZS(e,t){return t(e)}function JS(e,t,n){return(r,i)=>Oe(n,()=>t(r,o=>e(o,i)))}var r_=new x("",{factory:()=>[]}),QS=new x(""),i_=new x("",{factory:()=>!0});var xh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=N(Mh),i},providedIn:"root"})}return e})();var dl=(()=>{class e{backend;injector;chain=null;pendingTasks=b(ac);contributeToStability=b(i_);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(r_),...this.injector.get(QS,[])]));this.chain=r.reduceRight((i,o)=>JS(i,o,this.injector),ZS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(wo(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(N(xh),N(pe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ah=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=N(dl),i},providedIn:"root"})}return e})();function Th(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var XS=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ds)o=n;else{let c;i.headers instanceof Lr?c=i.headers:c=new Lr(i.headers);let l;i.params&&(i.params instanceof Kn?l=i.params:l=new Kn({fromObject:i.params})),o=new ds(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=K(o).pipe(ui(c=>this.handler.handle(c)));if(n instanceof ds||i.observe==="events")return s;let a=s.pipe(st(c=>c instanceof ul));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new I(2806,!1);return c.body}));case"blob":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new I(2807,!1);return c.body}));case"text":return a.pipe(F(c=>{if(c.body!==null&&typeof c.body!="string")throw new I(2808,!1);return c.body}));default:return a.pipe(F(c=>c.body))}case"response":return a;default:throw new I(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Kn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Th(i,r))}post(n,r,i={}){return this.request("POST",n,Th(i,r))}put(n,r,i={}){return this.request("PUT",n,Th(i,r))}static \u0275fac=function(r){return new(r||e)(N(Ah))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var eT=new x("",{factory:()=>!0}),tT="XSRF-TOKEN",nT=new x("",{factory:()=>tT}),rT="X-XSRF-TOKEN",iT=new x("",{factory:()=>rT}),oT=(()=>{class e{cookieName=b(nT);doc=b(Ee);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ss(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),o_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=N(oT),i},providedIn:"root"})}return e})();function sT(e,t){if(!b(eT)||e.method==="GET"||e.method==="HEAD")return t(e);try{let i=b(Ai).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return t(e)}catch{return t(e)}let n=b(o_).getToken(),r=b(iT);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}function Rh(...e){let t=[XS,dl,{provide:Ah,useExisting:dl},{provide:xh,useFactory:()=>b(KS,{optional:!0})??b(Mh)},{provide:r_,useValue:sT,multi:!0}];for(let n of e)t.push(...n.\u0275providers);return Ft(t)}var s_=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(N(Ee))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $="primary",Ds=Symbol("RouteTitle"),Fh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ur(e){return new Fh(e)}function Nh(e,t,n){for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function m_(e,t,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let c={},l=e.slice(0,r.length);return Nh(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let a={};return!Nh(o,e.slice(0,o.length),a)||!Nh(s,e.slice(e.length-s.length),a)?null:{consumed:e,posParams:a}}function vl(e){return new Promise((t,n)=>{e.pipe(hn()).subscribe({next:r=>t(r),error:r=>n(r)})})}function cT(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!an(e[n],t[n]))return!1;return!0}function an(e,t){let n=e?Lh(e):void 0,r=t?Lh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!v_(e[i],t[i]))return!1;return!0}function Lh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function v_(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function lT(e){return e.length>0?e[e.length-1]:null}function Hr(e){return Oa(e)?e:Hn(e)?re(Promise.resolve(e)):K(e)}function y_(e){return Oa(e)?vl(e):Promise.resolve(e)}var uT={exact:b_,subset:w_},__={exact:dT,subset:fT,ignored:()=>!0};function a_(e,t,n){return uT[n.paths](e.root,t.root,n.matrixParams)&&__[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function dT(e,t){return an(e,t)}function b_(e,t,n){if(!jr(e.segments,t.segments)||!pl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!b_(e.children[r],t.children[r],n))return!1;return!0}function fT(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>v_(e[n],t[n]))}function w_(e,t,n){return E_(e,t,t.segments,n)}function E_(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!jr(i,n)||t.hasChildren()||!pl(i,n,r))}else if(e.segments.length===n.length){if(!jr(e.segments,n)||!pl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!w_(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!jr(e.segments,i)||!pl(e.segments,i,r)||!e.children[$]?!1:E_(e.children[$],t,o,r)}}function pl(e,t,n){return t.every((r,i)=>__[n](e[i].parameters,r.parameters))}var Wt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ie([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ur(this.queryParams),this._queryParamMap}toString(){return gT.serialize(this)}},ie=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gl(this)}},Yn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ur(this.parameters),this._parameterMap}toString(){return D_(this)}};function hT(e,t){return jr(e,t)&&e.every((n,r)=>an(n.parameters,t[r].parameters))}function jr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function pT(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===$&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==$&&(n=n.concat(t(i,r)))}),n}var Is=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new Zn,providedIn:"root"})}return e})(),Zn=class{parse(t){let n=new Vh(t);return new Wt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${hs(t.root,!0)}`,r=yT(t.queryParams),i=typeof t.fragment=="string"?`#${mT(t.fragment)}`:"";return`${n}${r}${i}`}},gT=new Zn;function gl(e){return e.segments.map(t=>D_(t)).join("/")}function hs(e,t){if(!e.hasChildren())return gl(e);if(t){let n=e.children[$]?hs(e.children[$],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==$&&r.push(`${i}:${hs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=pT(e,(r,i)=>i===$?[hs(e.children[$],!1)]:[`${i}:${hs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[$]!=null?`${gl(e)}/${n[0]}`:`${gl(e)}/(${n.join("//")})`}}function C_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fl(e){return C_(e).replace(/%3B/gi,";")}function mT(e){return encodeURI(e)}function jh(e){return C_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ml(e){return decodeURIComponent(e)}function c_(e){return ml(e.replace(/\+/g,"%20"))}function D_(e){return`${jh(e.path)}${vT(e.parameters)}`}function vT(e){return Object.entries(e).map(([t,n])=>`;${jh(t)}=${jh(n)}`).join("")}function yT(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${fl(n)}=${fl(i)}`).join("&"):`${fl(n)}=${fl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var _T=/^[^\/()?;#]+/;function Oh(e){let t=e.match(_T);return t?t[0]:""}var bT=/^[^\/()?;=#]+/;function wT(e){let t=e.match(bT);return t?t[0]:""}var ET=/^[^=?&#]+/;function CT(e){let t=e.match(ET);return t?t[0]:""}var DT=/^[^&#]+/;function IT(e){let t=e.match(DT);return t?t[0]:""}var Vh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[$]=new ie(t,n)),r}parseSegment(){let t=Oh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new Yn(ml(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=wT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Oh(this.remaining);i&&(r=i,this.capture(r))}t[ml(n)]=ml(r)}parseQueryParam(t){let n=CT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=IT(this.remaining);s&&(r=s,this.capture(r))}let i=c_(n),o=c_(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Oh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$);let s=this.parseChildren();n[o??$]=Object.keys(s).length===1&&s[$]?s[$]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function I_(e){return e.segments.length>0?new ie([],{[$]:e}):e}function S_(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=S_(i);if(r===$&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ie(e.segments,t);return ST(n)}function ST(e){if(e.numberOfChildren===1&&e.children[$]){let t=e.children[$];return new ie(e.segments.concat(t.segments),t.children)}return e}function Jn(e){return e instanceof Wt}function T_(e,t,n=null,r=null,i=new Zn){let o=M_(e);return x_(o,t,n,r,i)}function M_(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ie(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=I_(r);return t??i}function x_(e,t,n,r,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return kh(o,o,o,n,r,i);let s=TT(t);if(s.toRoot())return kh(o,o,new ie([],{}),n,r,i);let a=MT(s,o,e),c=a.processChildren?gs(a.segmentGroup,a.index,s.commands):R_(a.segmentGroup,a.index,s.commands);return kh(o,a.segmentGroup,c,n,r,i)}function yl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ys(e){return typeof e=="object"&&e!=null&&e.outlets}function l_(e,t,n){e||="\u0275";let r=new Wt;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function kh(e,t,n,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>l_(l,d,o)):l_(l,u,o);let a;e===t?a=n:a=A_(e,t,n);let c=I_(S_(a));return new Wt(c,s,i)}function A_(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=A_(o,t,n)}),new ie(e.segments,r)}var _l=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&yl(r[0]))throw new I(4003,!1);let i=r.find(ys);if(i&&i!==lT(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new _l(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _l(n,t,r)}var Fi=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function MT(e,t,n){if(e.isAbsolute)return new Fi(t,!0,0);if(!n)return new Fi(t,!1,NaN);if(n.parent===null)return new Fi(n,!0,0);let r=yl(e.commands[0])?0:1,i=n.segments.length-1+r;return xT(n,i,e.numberOfDoubleDots)}function xT(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Fi(r,!1,i-o)}function AT(e){return ys(e[0])?e[0].outlets:{[$]:e}}function R_(e,t,n){if(e??=new ie([],{}),e.segments.length===0&&e.hasChildren())return gs(e,t,n);let r=RT(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ie(e.segments.slice(0,r.pathIndex),{});return o.children[$]=new ie(e.segments.slice(r.pathIndex),e.children),gs(o,0,i)}else return r.match&&i.length===0?new ie(e.segments,{}):r.match&&!e.hasChildren()?Uh(e,t,n):r.match?gs(e,0,i):Uh(e,t,n)}function gs(e,t,n){if(n.length===0)return new ie(e.segments,{});{let r=AT(n),i={};if(Object.keys(r).some(o=>o!==$)&&e.children[$]&&e.numberOfChildren===1&&e.children[$].segments.length===0){let o=gs(e.children[$],t,n);return new ie(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=R_(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(e.segments,i)}}function RT(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(ys(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!d_(c,l,s))return o;r+=2}else{if(!d_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uh(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ys(o)){let c=NT(o.outlets);return new ie(r,c)}if(i===0&&yl(n[0])){let c=e.segments[t];r.push(new Yn(c.path,u_(n[0]))),i++;continue}let s=ys(o)?o.outlets[$]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&yl(a)?(r.push(new Yn(s,u_(a))),i+=2):(r.push(new Yn(s,{})),i++)}return new ie(r,{})}function NT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Uh(new ie([],{}),0,r))}),t}function u_(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function d_(e,t,n){return e==n.path&&an(t,n.parameters)}var ms="imperative",Le=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Le||{}),gt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Br=class extends gt{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cn=class extends gt{urlAfterRedirects;type=Le.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xe=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Xe||{}),_s=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(_s||{}),Mt=class extends gt{reason;code;type=Le.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function N_(e){return e instanceof Mt&&(e.code===Xe.Redirect||e.code===Xe.SupersededByNewNavigation)}var xn=class extends gt{reason;code;type=Le.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},$r=class extends gt{error;target;type=Le.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ji=class extends gt{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bl=class extends gt{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wl=class extends gt{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},El=class extends gt{urlAfterRedirects;state;type=Le.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cl=class extends gt{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dl=class{route;type=Le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Il=class{route;type=Le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sl=class{snapshot;type=Le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tl=class{snapshot;type=Le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ml=class{snapshot;type=Le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xl=class{snapshot;type=Le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Vi=class{},Ui=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function OT(e){return!(e instanceof Vi)&&!(e instanceof Ui)}var Al=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Hi(this.rootInjector)}},Hi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Al(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(N(pe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Bh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Bh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=$h(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return $h(t,this._root).map(n=>n.value)}};function Bh(e,t){if(e===t.value)return t;for(let n of t.children){let r=Bh(e,n);if(r)return r}return null}function $h(e,t){if(e===t.value)return[t];for(let n of t.children){let r=$h(e,n);if(r.length)return r.unshift(t),r}return[]}var pt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Pi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var bs=class extends Rl{snapshot;constructor(t,n){super(t),this.snapshot=n,Zh(this,t)}toString(){return this.snapshot.toString()}};function O_(e,t){let n=kT(e,t),r=new Ue([new Yn("",{})]),i=new Ue({}),o=new Ue({}),s=new Ue({}),a=new Ue(""),c=new it(r,i,s,a,o,$,e,n.root);return c.snapshot=n.root,new bs(new pt(c,[]),n)}function kT(e,t){let n={},r={},i={},s=new Vr([],n,i,"",r,$,e,null,{},t);return new ws("",new pt(s,[]))}var it=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(l=>l[Ds]))??K(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(t=>Ur(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(t=>Ur(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nl(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:D(D({},t.params),e.params),data:D(D({},t.data),e.data),resolve:D(D(D(D({},e.data),t.data),i?.data),e._resolvedData)}:r={params:D({},e.params),data:D({},e.data),resolve:D(D({},e.data),e._resolvedData??{})},i&&P_(i)&&(r.resolve[Ds]=i.title),r}var Vr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Ds]}constructor(t,n,r,i,o,s,a,c,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l,this._environmentInjector=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ur(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ur(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ws=class extends Rl{url;constructor(t,n){super(n),this.url=t,Zh(this,n)}toString(){return k_(this._root)}};function Zh(e,t){t.value._routerState=e,t.children.forEach(n=>Zh(e,n))}function k_(e){let t=e.children.length>0?` { ${e.children.map(k_).join(", ")} } `:"";return`${e.value}${t}`}function Ph(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,an(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),an(t.params,n.params)||e.paramsSubject.next(n.params),cT(t.url,n.url)||e.urlSubject.next(n.url),an(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Hh(e,t){let n=an(e.params,t.params)&&hT(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Hh(e.parent,t.parent))}function P_(e){return typeof e.title=="string"||e.title===null}var F_=new x(""),Ss=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new Se;deactivateEvents=new Se;attachEvents=new Se;detachEvents=new Se;routerOutletData=Ry();parentContexts=b(Hi);location=b(Si);changeDetector=b(kr);inputBinder=b(Fl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new qh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[wn]})}return e})(),qh=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===it?this.route:t===Hi?this.childContexts:t===F_?this.outletData:this.parent.get(t,n)}},Fl=new x("");var Jh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ce({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&zn(0,"router-outlet")},dependencies:[Ss],encapsulation:2})}return e})();function Qh(e){let t=e.children&&e.children.map(Qh),n=t?J(D({},e),{children:t}):D({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=Jh),n}function PT(e,t,n){let r=Es(e,t._root,n?n._root:void 0);return new bs(r,t)}function Es(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=FT(e,t,n);return new pt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Es(e,a)),s}}let r=LT(t.value),i=t.children.map(o=>Es(e,o));return new pt(r,i)}}function FT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Es(e,r,i);return Es(e,r)})}function LT(e){return new it(new Ue(e.url),new Ue(e.params),new Ue(e.queryParams),new Ue(e.fragment),new Ue(e.data),e.outlet,e.component,e)}var Bi=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},L_="ngNavigationCancelingError";function Ol(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Jn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=j_(!1,Xe.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function j_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[L_]=!0,n.cancellationCode=t,n}function jT(e){return V_(e)&&Jn(e.url)}function V_(e){return!!e&&e[L_]}var zh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Ph(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Pi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Pi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Pi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Pi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new xl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Tl(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Ph(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ph(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},kl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Li=class{component;route;constructor(t,n){this.component=t,this.route=n}};function VT(e,t,n){let r=e._root,i=t?t._root:null;return ps(r,i,n,[r.value])}function UT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function qi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!yd(e)?e:t.get(e):r}function ps(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Pi(t);return e.children.forEach(s=>{BT(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vs(a,n.getContext(s),i)),i}function BT(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=$T(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ps(e,t,a?a.children:null,r,i):ps(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Li(a.outlet.component,s))}else s&&vs(t,a,i),i.canActivateChecks.push(new kl(r)),o.component?ps(e,null,a?a.children:null,r,i):ps(e,null,n,r,i);return i}function $T(e,t,n){if(typeof n=="function")return Oe(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!jr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!jr(e.url,t.url)||!an(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hh(e,t)||!an(e.queryParams,t.queryParams);default:return!Hh(e,t)}}function vs(e,t,n){let r=Pi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?vs(s,t.children.getContext(o),n):vs(s,null,n):vs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Li(t.outlet.component,i)):n.canDeactivateChecks.push(new Li(null,i)):n.canDeactivateChecks.push(new Li(null,i))}function Ts(e){return typeof e=="function"}function HT(e){return typeof e=="boolean"}function qT(e){return e&&Ts(e.canLoad)}function zT(e){return e&&Ts(e.canActivate)}function GT(e){return e&&Ts(e.canActivateChild)}function WT(e){return e&&Ts(e.canDeactivate)}function KT(e){return e&&Ts(e.canMatch)}function U_(e){return e instanceof dr||e?.name==="EmptyError"}var hl=Symbol("INITIAL_VALUE");function $i(){return Ze(e=>Xu(e.map(t=>t.pipe(nt(1),td(hl)))).pipe(F(t=>{for(let n of t)if(n!==!0){if(n===hl)return hl;if(n===!1||YT(n))return n}return!0}),st(t=>t!==hl),nt(1)))}function YT(e){return Jn(e)||e instanceof Bi}function B_(e){return e.aborted?K(void 0).pipe(nt(1)):new q(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function $_(e){return Eo(B_(e))}function ZT(e){return tt(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=t;return o.length===0&&i.length===0?K(J(D({},t),{guardsResult:!0})):JT(o,n,r).pipe(tt(s=>s&&HT(s)?QT(n,i,e):K(s)),F(s=>J(D({},t),{guardsResult:s})))})}function JT(e,t,n){return re(e).pipe(tt(r=>rM(r.component,r.route,n,t)),hn(r=>r!==!0,!0))}function QT(e,t,n){return re(t).pipe(ui(r=>li(eM(r.route.parent,n),XT(r.route,n),nM(e,r.path),tM(e,r.route))),hn(r=>r!==!0,!0))}function XT(e,t){return e!==null&&t&&t(new Ml(e)),K(!0)}function eM(e,t){return e!==null&&t&&t(new Sl(e)),K(!0)}function tM(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return K(!0);let r=n.map(i=>_o(()=>{let o=t._environmentInjector,s=qi(i,o),a=zT(s)?s.canActivate(t,e):Oe(o,()=>s(t,e));return Hr(a).pipe(hn())}));return K(r).pipe($i())}function nM(e,t){let n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(o=>UT(o)).filter(o=>o!==null).map(o=>_o(()=>{let s=o.guards.map(a=>{let c=o.node._environmentInjector,l=qi(a,c),u=GT(l)?l.canActivateChild(n,e):Oe(c,()=>l(n,e));return Hr(u).pipe(hn())});return K(s).pipe($i())}));return K(i).pipe($i())}function rM(e,t,n,r){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=t._environmentInjector,c=qi(s,a),l=WT(c)?c.canDeactivate(e,t,n,r):Oe(a,()=>c(e,t,n,r));return Hr(l).pipe(hn())});return K(o).pipe($i())}function iM(e,t,n,r,i){let o=t.canLoad;if(o===void 0||o.length===0)return K(!0);let s=o.map(a=>{let c=qi(a,e),l=qT(c)?c.canLoad(t,n):Oe(e,()=>c(t,n)),u=Hr(l);return i?u.pipe($_(i)):u});return K(s).pipe($i(),H_(r))}function H_(e){return Yu(Jt(t=>{if(typeof t!="boolean")throw Ol(e,t)}),F(t=>t===!0))}function oM(e,t,n,r,i){let o=t.canMatch;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let c=qi(a,e),l=KT(c)?c.canMatch(t,n):Oe(e,()=>c(t,n));return Hr(l).pipe($_(i))});return K(s).pipe($i(),H_(r))}var Mn=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},Cs=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function sM(e){throw new I(4e3,!1)}function aM(e){throw j_(!1,Xe.GuardRejected)}var Gh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[$])throw sM(`${t.redirectTo}`);i=i.children[$]}}async applyRedirectCommands(t,n,r,i,o){let s=await cM(n,i,o);if(s instanceof Wt)throw new Cs(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Cs(a);return a}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Wt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ie(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function cM(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d,paramMap:h,queryParamMap:f}=t;return vl(Hr(Oe(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d,paramMap:h,queryParamMap:f}))))}function lM(e,t){return e.providers&&!e._injector&&(e._injector=ts(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Gt(e){return e.outlet||$}function uM(e,t){let n=e.filter(r=>Gt(r)===t);return n.push(...e.filter(r=>Gt(r)!==t)),n}var Wh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dM(e,t,n,r,i,o){let s=q_(e,t,n);return s.matched?(r=lM(t,r),oM(r,t,n,i,o).pipe(F(a=>a===!0?s:D({},Wh)))):K(s)}function q_(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?D({},Wh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||m_)(n,e,t);if(!i)return D({},Wh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function f_(e,t,n,r){return n.length>0&&pM(e,n,r)?{segmentGroup:new ie(t,hM(r,new ie(n,e.children))),slicedSegments:[]}:n.length===0&&gM(e,n,r)?{segmentGroup:new ie(e.segments,fM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ie(e.segments,e.children),slicedSegments:n}}function fM(e,t,n,r){let i={};for(let o of n)if(Ll(e,t,o)&&!r[Gt(o)]){let s=new ie([],{});i[Gt(o)]=s}return D(D({},r),i)}function hM(e,t){let n={};n[$]=t;for(let r of e)if(r.path===""&&Gt(r)!==$){let i=new ie([],{});n[Gt(r)]=i}return n}function pM(e,t,n){return n.some(r=>Ll(e,t,r)&&Gt(r)!==$)}function gM(e,t,n){return n.some(r=>Ll(e,t,r))}function Ll(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mM(e,t,n){return t.length===0&&!e.children[n]}var Kh=class{};async function vM(e,t,n,r,i,o,s="emptyOnly",a){return new Yh(e,t,n,r,i,s,o,a).recognize()}var yM=31,Yh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Gh(this.urlSerializer,this.urlTree)}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}async recognize(){let t=f_(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),i=new pt(r,n),o=new ws("",i),s=T_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(t){let n=new Vr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,$,n),rootSnapshot:n}}catch(r){if(r instanceof Cs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Mn?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,o);let s=await this.processSegment(t,n,r,r.segments,i,!0,o);return s instanceof pt?[s]:[]}async processChildren(t,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=uM(n,c),d=await this.processSegmentGroup(t,u,l,c,i);s.push(...d)}let a=z_(s);return _M(a),a}async processSegment(t,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a)}catch(l){if(l instanceof Mn||U_(l))continue;throw l}if(mM(r,i,o))return new Kh;throw new Mn(r)}async processSegmentAgainstRoute(t,n,r,i,o,s,a,c){if(Gt(r)!==s&&(s===$||!Ll(i,o,r)))throw new Mn(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c);throw new Mn(i)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=q_(n,i,o);if(!c)throw new Mn(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yM&&(this.allowRedirects=!1));let f=new Vr(o,l,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,h_(i),Gt(i),i.component??i._loadedComponent??null,i,p_(i),t),p=Nl(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let y=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,t),w=await this.applyRedirects.lineralizeSegments(i,y);return this.processSegment(t,r,n,w.concat(h),s,!1,a)}async matchSegmentAgainstRoute(t,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await vl(dM(n,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Mn(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:u,consumedSegments:d,remainingSegments:h}=a,f=new Vr(d,u,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,h_(r),Gt(r),r.component??r._loadedComponent??null,r,p_(r),t),p=Nl(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:y,slicedSegments:w}=f_(n,d,h,c);if(w.length===0&&y.hasChildren()){let T=await this.processChildren(l,c,y,f);return new pt(f,T)}if(c.length===0&&w.length===0)return new pt(f,[]);let _=Gt(r)===o,R=await this.processSegment(l,c,y,w,_?$:o,!0,f);return new pt(f,R instanceof pt?[R]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await vl(iM(t,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw aM(n)}return{routes:[],injector:t}}};function _M(e){e.sort((t,n)=>t.value.outlet===$?-1:n.value.outlet===$?1:t.value.outlet.localeCompare(n.value.outlet))}function bM(e){let t=e.value.routeConfig;return t&&t.path===""}function z_(e){let t=[],n=new Set;for(let r of e){if(!bM(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=z_(r.children);t.push(new pt(r.value,i))}return t.filter(r=>!n.has(r))}function h_(e){return e.data||{}}function p_(e){return e.resolve||{}}function wM(e,t,n,r,i,o,s){return tt(async a=>{let{state:c,tree:l}=await vM(e,t,n,r,a.extractedUrl,i,o,s);return J(D({},a),{targetSnapshot:c,urlAfterRedirects:l})})}function EM(e){return tt(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return K(t);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let c of G_(a))o.add(c);let s=0;return re(o).pipe(ui(a=>i.has(a)?CM(a,n,e):(a.data=Nl(a,a.parent,e).resolve,K(void 0))),Jt(()=>s++),La(1),tt(a=>s===o.size?K(t):Be))})}function G_(e){let t=e.children.map(n=>G_(n)).flat();return[e,...t]}function CM(e,t,n){let r=e.routeConfig,i=e._resolve;return r?.title!==void 0&&!P_(r)&&(i[Ds]=r.title),_o(()=>(e.data=Nl(e,e.parent,n).resolve,DM(i,e,t).pipe(F(o=>(e._resolvedData=o,e.data=D(D({},e.data),o),null)))))}function DM(e,t,n){let r=Lh(e);if(r.length===0)return K({});let i={};return re(r).pipe(tt(o=>IM(e[o],t,n).pipe(hn(),Jt(s=>{if(s instanceof Bi)throw Ol(new Zn,s);i[o]=s}))),La(1),F(()=>i),bo(o=>U_(o)?Be:Qu(o)))}function IM(e,t,n){let r=t._environmentInjector,i=qi(e,r),o=i.resolve?i.resolve(t,n):Oe(r,()=>i(t,n));return Hr(o)}function g_(e){return Ze(t=>{let n=e(t);return n?re(n).pipe(F(()=>t)):K(t)})}var Xh=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(n){return n.data[Ds]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>b(W_),providedIn:"root"})}return e})(),W_=(()=>{class e extends Xh{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(N(s_))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zi=new x("",{factory:()=>({})}),Ms=new x(""),K_=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(gh);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await y_(Oe(n,()=>r.loadComponent())),s=await J_(Z_(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Y_(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function Y_(e,t,n,r){let i=await y_(Oe(n,()=>e.loadChildren())),o=await J_(Z_(i)),s;o instanceof Wc||Array.isArray(o)?s=o:s=await t.compileModuleAsync(o),r&&r(e);let a,c,l=!1,u;return Array.isArray(s)?(c=s,l=!0):(a=s.create(n).injector,u=s,c=a.get(Ms,[],{optional:!0,self:!0}).flat()),{routes:c.map(Qh),injector:a,factory:u}}function SM(e){return e&&typeof e=="object"&&"default"in e}function Z_(e){return SM(e)?e.default:e}async function J_(e){return e}var jl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>b(TM),providedIn:"root"})}return e})(),TM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Q_=new x("");var MM=()=>{},X_=new x(""),eb=(()=>{class e{currentNavigation=U(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=U(null);events=new he;transitionAbortWithErrorSubject=new he;configLoader=b(K_);environmentInjector=b(pe);destroyRef=b(Ct);urlSerializer=b(Is);rootContexts=b(Hi);location=b(Ni);inputBindingEnabled=b(Fl,{optional:!0})!==null;titleStrategy=b(Xh);options=b(zi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(jl);createViewTransition=b(Q_,{optional:!0});navigationErrorHandler=b(X_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Dl(i)),r=i=>this.events.next(new Il(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Te(()=>{this.transitions?.next(J(D({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Ue(null),this.transitions.pipe(st(r=>r!==null),Ze(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return K(r).pipe(Ze(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Xe.SupersededByNewNavigation),Be;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:c?J(D({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload")return this.events.next(new xn(a.id,this.urlSerializer.serialize(a.rawUrl),"",_s.IgnoredSameUrlNavigation)),a.resolve(!1),Be;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return K(a).pipe(Ze(d=>(this.events.next(new Br(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Be:Promise.resolve(d))),wM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Jt(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=d.urlAfterRedirects,f));let h=new ji(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:y}=a,w=new Br(d,this.urlSerializer.serialize(h),f,p);this.events.next(w);let _=O_(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=J(D({},a),{targetSnapshot:_,urlAfterRedirects:h,extras:J(D({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=h,R)),K(r)}else return this.events.next(new xn(a.id,this.urlSerializer.serialize(a.extractedUrl),"",_s.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Be}),F(a=>{let c=new bl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(c),this.currentTransition=r=J(D({},a),{guards:VT(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),ZT(a=>this.events.next(a)),Ze(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Ol(this.urlSerializer,a.guardsResult);let c=new wl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(c),!s())return Be;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Xe.GuardRejected),Be;if(a.guards.canActivateChecks.length===0)return K(a);let l=new El(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return Be;let u=!1;return K(a).pipe(EM(this.paramsInheritanceStrategy),Jt({next:()=>{u=!0;let d=new Cl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)},complete:()=>{u||this.cancelNavigationTransition(a,"",Xe.NoDataFromResolver)}}))}),g_(a=>{let c=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let h=u._environmentInjector;d.push(this.configLoader.loadComponent(h,u.routeConfig).then(f=>{u.component=f}))}for(let h of u.children)d.push(...c(h));return d},l=c(a.targetSnapshot.root);return l.length===0?K(a):re(Promise.all(l).then(()=>a))}),g_(()=>this.afterPreactivation()),Ze(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?re(l).pipe(F(()=>r)):K(r)}),nt(1),F(a=>{let c=PT(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=J(D({},a),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new Vi),s()&&(new zh(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=MM,l)),this.lastSuccessfulNavigation.set(Te(this.currentNavigation)),this.events.next(new cn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Eo(B_(o.signal).pipe(st(()=>!i&&!r.targetRouterState),Jt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Xe.Aborted)}))),Jt({complete:()=>{i=!0}}),Eo(this.transitionAbortWithErrorSubject.pipe(Jt(a=>{throw a}))),wo(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Xe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),bo(a=>{if(i=!0,this.destroyed)return r.resolve(!1),Be;if(V_(a))this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),jT(a)?this.events.next(new Ui(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new $r(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=Oe(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof Bi){let{message:u,cancellationCode:d}=Ol(this.urlSerializer,l);this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Ui(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Be}))}))}cancelNavigationTransition(n,r,i){let o=new Mt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Te(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xM(e){return e!==ms}var tb=new x("");var nb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>b(AM),providedIn:"root"})}return e})(),Pl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},AM=(()=>{class e extends Pl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=En(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ep=(()=>{class e{urlSerializer=b(Is);options=b(zi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Ni);urlHandlingStrategy=b(jl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Wt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=O_(null,b(pe));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>b(RM),providedIn:"root"})}return e})(),RM=(()=>{class e extends ep{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Br?this.updateStateMemento():n instanceof xn?this.commitTransition(r):n instanceof ji?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Vi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Mt&&!N_(n)?this.restoreHistory(r):n instanceof $r?this.restoreHistory(r,!0):n instanceof cn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=D(D({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=D(D({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=En(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tp(e,t){e.events.pipe(st(n=>n instanceof cn||n instanceof Mt||n instanceof $r||n instanceof xn),F(n=>n instanceof cn||n instanceof xn?0:(n instanceof Mt?n.code===Xe.Redirect||n.code===Xe.SupersededByNewNavigation:!1)?2:1),st(n=>n!==2),nt(1)).subscribe(()=>{t()})}var rb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ib={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(sh);stateManager=b(ep);options=b(zi,{optional:!0})||{};pendingTasks=b(bn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(eb);urlSerializer=b(Is);location=b(Ni);urlHandlingStrategy=b(jl);injector=b(pe);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(nb);injectorCleanup=b(tb,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Ms,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Fl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Te(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mt&&r.code!==Xe.Redirect&&r.code!==Xe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cn)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof Ui){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=D({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xM(i.source)},s);this.scheduleNavigation(a,ms,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}OT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ms,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=D({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(ht)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Te(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Qh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=M_(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return x_(d,n,u,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Jn(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ms,null,r)}navigate(n,r={skipLocationChange:!1}){return NM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(mn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=D({},rb):r===!1?i=D({},ib):i=r,Jn(n))return a_(this.currentUrlTree,n,i);let o=this.parseUrl(n);return a_(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return tp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}var ln=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=U(null);get href(){return Te(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new he;applicationErrorHandler=b(ht);options=b(zi,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(b(new Xc("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(n=>{n instanceof cn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Jn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Jn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(Z(Kt),Z(it),Yo("tabindex"),Z(Dn),Z(sn),Z(Ri))};static \u0275dir=ve({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&X("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ti("href",i.reactiveHref(),Gf)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pr],replaceUrl:[2,"replaceUrl","replaceUrl",Pr],routerLink:"routerLink"},features:[wn]})}return e})();var PM=new x("");function np(e,...t){return Ft([{provide:Ms,multi:!0,useValue:e},[],{provide:it,useFactory:FM},{provide:Zc,multi:!0,useFactory:LM},t.map(n=>n.\u0275providers)])}function FM(){return b(Kt).routerState.root}function LM(){let e=b(at);return t=>{let n=e.get(zt);if(t!==n.components[0])return;let r=e.get(Kt),i=e.get(jM);e.get(VM)===1&&r.initialNavigation(),e.get(UM,null,{optional:!0})?.setUpPreloading(),e.get(PM,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jM=new x("",{factory:()=>new he}),VM=new x("",{factory:()=>1});var UM=new x("");var Vl=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-home"]],decls:8,vars:0,consts:[[1,"welcome-container"],[1,"welcome-content"],["routerLink","/menu",1,"btn","btn-primary","btn-start"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"h1"),v(3,"INVENTARIO ADEX"),g(),m(4,"p"),v(5,"Sistema de Gesti\xF3n del \xC1rea de Soporte Inform\xE1tico"),g(),m(6,"button",2),v(7," Start "),g()()())},dependencies:[ln],styles:[".welcome-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#0055a4}.welcome-content[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:2rem}h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;opacity:.9}.btn-start[_ngcontent-%COMP%]{padding:1rem 3rem;font-size:1.5rem;background:#fff;color:#0055a4}.btn-start[_ngcontent-%COMP%]:hover{background:#004080;color:#fff}"]})};var Ul=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-menu"]],decls:21,vars:0,consts:[[1,"menu-container"],[1,"header"],["routerLink","/",1,"btn","btn-secondary"],[1,"menu-options"],["routerLink","/equipos",1,"menu-card"],[1,"card-icon"],["routerLink","/ambientes",1,"menu-card"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"header",1)(2,"h1"),v(3,"Men\xFA Principal"),g(),m(4,"a",2),v(5,"Volver"),g()(),m(6,"div",3)(7,"a",4)(8,"div",5),v(9,"\u{1F5A5}\uFE0F"),g(),m(10,"h2"),v(11,"Equipos"),g(),m(12,"p"),v(13,"Ver y gestionar equipos"),g()(),m(14,"a",6)(15,"div",5),v(16,"\u{1F3E2}"),g(),m(17,"h2"),v(18,"Ambientes"),g(),m(19,"p"),v(20,"Ver y gestionar ambientes"),g()()()())},dependencies:[ln],styles:[".menu-container[_ngcontent-%COMP%]{padding:2rem;min-height:100vh;background:#f5f5f5}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0;color:#333}.menu-options[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}.menu-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;text-decoration:none;color:#333;transition:transform .2s,box-shadow .2s;min-width:250px}.menu-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.card-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#667eea}p[_ngcontent-%COMP%]{margin:0;color:#666}"]})};var pb=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Z(Dn),Z(sn))};static \u0275dir=ve({type:e})}return e})(),op=(()=>{class e extends pb{static \u0275fac=(()=>{let n;return function(i){return(n||(n=En(e)))(i||e)}})();static \u0275dir=ve({type:e,features:[It]})}return e})(),Yl=new x("");var BM={provide:Yl,useExisting:Pt(()=>Xn),multi:!0};function $M(){let e=Tt()?Tt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var HM=new x(""),Xn=(()=>{class e extends pb{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!$M())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(Z(Dn),Z(sn),Z(HM,8))};static \u0275dir=ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Gn([BM]),It]})}return e})();function qM(e){return e==null||zM(e)===0}function zM(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var sp=new x(""),gb=new x("");function GM(e){return qM(e.value)?{required:!0}:null}function ob(e){return null}function mb(e){return e!=null}function vb(e){return Hn(e)?re(e):e}function yb(e){let t={};return e.forEach(n=>{t=n!=null?D(D({},t),n):t}),Object.keys(t).length===0?null:t}function _b(e,t){return t.map(n=>n(e))}function WM(e){return!e.validate}function bb(e){return e.map(t=>WM(t)?t:n=>t.validate(n))}function KM(e){if(!e)return null;let t=e.filter(mb);return t.length==0?null:function(n){return yb(_b(n,t))}}function ap(e){return e!=null?KM(bb(e)):null}function YM(e){if(!e)return null;let t=e.filter(mb);return t.length==0?null:function(n){let r=_b(n,t).map(vb);return ed(r).pipe(F(yb))}}function cp(e){return e!=null?YM(bb(e)):null}function sb(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ZM(e){return e._rawValidators}function JM(e){return e._rawAsyncValidators}function rp(e){return e?Array.isArray(e)?e:[e]:[]}function $l(e,t){return Array.isArray(e)?e.includes(t):e===t}function ab(e,t){let n=rp(t);return rp(e).forEach(i=>{$l(n,i)||n.push(i)}),n}function cb(e,t){return rp(t).filter(n=>!$l(e,n))}var Hl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ap(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=cp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Ki=class extends Hl{name;get formDirective(){return null}get path(){return null}},ks=class extends Hl{_parent=null;name=null;valueAccessor=null},ql=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Yi=(()=>{class e extends ql{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Z(ks,2))};static \u0275dir=ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Or("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[It]})}return e})(),Zl=(()=>{class e extends ql{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Z(Ki,10))};static \u0275dir=ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Or("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[It]})}return e})();var xs="VALID",Bl="INVALID",Gi="PENDING",As="DISABLED",Qn=class{},zl=class extends Qn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ns=class extends Qn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Os=class extends Qn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Wi=class extends Qn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},ip=class extends Qn{source;constructor(t){super(),this.source=t}},Gl=class extends Qn{source;constructor(t){super(),this.source=t}};function wb(e){return(Jl(e)?e.validators:e)||null}function QM(e){return Array.isArray(e)?ap(e):e||null}function Eb(e,t){return(Jl(t)?t.asyncValidators:e)||null}function XM(e){return Array.isArray(e)?cp(e):e||null}function Jl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function ex(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function tx(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var Wl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Te(this.statusReactive)}set status(t){Te(()=>this.statusReactive.set(t))}_status=Ge(()=>this.statusReactive());statusReactive=U(void 0);get valid(){return this.status===xs}get invalid(){return this.status===Bl}get pending(){return this.status==Gi}get disabled(){return this.status===As}get enabled(){return this.status!==As}errors;get pristine(){return Te(this.pristineReactive)}set pristine(t){Te(()=>this.pristineReactive.set(t))}_pristine=Ge(()=>this.pristineReactive());pristineReactive=U(!0);get dirty(){return!this.pristine}get touched(){return Te(this.touchedReactive)}set touched(t){Te(()=>this.touchedReactive.set(t))}_touched=Ge(()=>this.touchedReactive());touchedReactive=U(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ab(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ab(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(cb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(cb(t,this._rawAsyncValidators))}hasValidator(t){return $l(this._rawValidators,t)}hasAsyncValidator(t){return $l(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(J(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Os(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Os(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(J(D({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAsPending(t={}){this.status=Gi;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(J(D({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=As,this.errors=null,this._forEachChild(i=>{i.disable(J(D({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zl(this.value,r)),this._events.next(new Wi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=xs,this._forEachChild(r=>{r.enable(J(D({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(J(D({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xs||this.status===Gi)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zl(this.value,n)),this._events.next(new Wi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(J(D({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?As:xs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Gi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=vb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Wi(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?As:this.errors?Bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gi)?Gi:this._anyControlsHaveStatus(Bl)?Bl:xs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ns(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Os(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=QM(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=XM(this._rawAsyncValidators)}},Kl=class extends Wl{constructor(t,n,r){super(wb(n),Eb(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){tx(this,!0,t),Object.keys(t).forEach(r=>{ex(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,J(D({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Gl(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var lp=new x("",{factory:()=>up}),up="always";function nx(e,t){return[...t.path,e]}function Cb(e,t,n=up){Db(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),ix(e,t),sx(e,t),ox(e,t),rx(e,t)}function lb(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function rx(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Db(e,t){let n=ZM(e);t.validator!==null?e.setValidators(sb(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=JM(e);t.asyncValidator!==null?e.setAsyncValidators(sb(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();lb(t._rawValidators,i),lb(t._rawAsyncValidators,i)}function ix(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Ib(e,t)})}function ox(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Ib(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Ib(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function sx(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function ax(e,t){e==null,Db(e,t)}function cx(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function lx(e){return Object.getPrototypeOf(e.constructor)===op}function ux(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dx(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Xn?n=o:lx(o)?r=o:i=o}),i||r||n||null}var fx={provide:Ki,useExisting:Pt(()=>Ps)},Rs=Promise.resolve(),Ps=(()=>{class e extends Ki{callSetDisabledState;get submitted(){return Te(this.submittedReactive)}_submitted=Ge(()=>this.submittedReactive());submittedReactive=U(!1);_directives=new Set;form;ngSubmit=new Se;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Kl({},ap(n),cp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Rs.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Cb(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Rs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Rs.then(()=>{let r=this._findContainer(n.path),i=new Kl({});ax(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Rs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Rs.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),ux(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new ip(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(Z(sp,10),Z(gb,10),Z(lp,8))};static \u0275dir=ve({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&X("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Gn([fx]),It]})}return e})();function ub(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function db(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var hx=class extends Wl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(wb(n),Eb(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(db(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Gl(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ub(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ub(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){db(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var px={provide:ks,useExisting:Pt(()=>qr)},fb=Promise.resolve(),qr=(()=>{class e extends ks{_changeDetectorRef;callSetDisabledState;control=new hx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Se;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dx(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){fb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Pr(r);fb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?nx(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(Z(Ki,9),Z(sp,10),Z(gb,10),Z(Yl,10),Z(kr,8),Z(lp,8))};static \u0275dir=ve({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Gn([px]),It,wn]})}return e})();var Ql=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var gx={provide:Yl,useExisting:Pt(()=>Zi),multi:!0};function Sb(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function mx(e){return e.split(":")[0]}var Zi=(()=>{class e extends op{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=b(zt).injector;destroyRef=b(Ct);cdr=b(kr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Qo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=Sb(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=mx(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=En(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gn([gx]),It]})}return e})(),Xl=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Sb(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(Z(sn),Z(Dn),Z(Zi,9))};static \u0275dir=ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),vx={provide:Yl,useExisting:Pt(()=>Tb),multi:!0};function hb(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function yx(e){return e.split(":")[0]}var Tb=(()=>{class e extends op{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=yx(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=En(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Gn([vx]),It]})}return e})(),eu=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(hb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(hb(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(Z(sn),Z(Dn),Z(Tb,9))};static \u0275dir=ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var _x=(()=>{class e{_validator=ob;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ob,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ve({type:e,features:[wn]})}return e})();var bx={provide:sp,useExisting:Pt(()=>Fs),multi:!0};var Fs=(()=>{class e extends _x{required;inputName="required";normalizeInput=Pr;createValidator=n=>GM;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=En(e)))(i||e)}})();static \u0275dir=ve({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ti("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Gn([bx]),It]})}return e})();var wx=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=qt({type:e});static \u0275inj=vt({})}return e})();var Ji=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:lp,useValue:n.callSetDisabledState??up}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=qt({type:e});static \u0275inj=vt({imports:[wx]})}return e})();var Mb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var Qi=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Ls=class extends Qi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Xi=class extends Qi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},eo=class extends Qi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},tu=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(tu||{});var js=class{constructor(t,{headers:n={},customFetch:r,region:i=tu.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Mb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ba(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let y;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=l):typeof l=="string"?(h["Content-Type"]="text/plain",y=l):typeof FormData<"u"&&l instanceof FormData?y=l:(h["Content-Type"]="application/json",y=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?y=JSON.stringify(l):y=l;let w=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(w=s.signal,u.addEventListener("abort",()=>s.abort())):w=s.signal);let _=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:y,signal:w}).catch(G=>{throw new Ls(G)}),R=_.headers.get("x-relay-error");if(R&&R==="true")throw new Xi(_);if(!_.ok)throw new eo(_);let T=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return T==="application/json"?C=yield _.json():T==="application/octet-stream"||T==="application/pdf"?C=yield _.blob():T==="text/event-stream"?C=_:T==="multipart/form-data"?C=yield _.formData():C=yield _.text(),{data:C,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof eo||a instanceof Xi?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var Rb=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ex=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var f;let _=await o.text();_===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=_:a=JSON.parse(_))}let y=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&w&&w.length>1&&(c=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let y=await o.text();try{s=JSON.parse(y),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&y===""?(l=204,u="No Content"):s={message:y}}if(s&&n.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&n.shouldThrowOnError)throw new Rb(s)}return{error:s,data:a,count:c,status:l,statusText:u}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c="",l="",u=o?.cause;if(u){var d,h,f,p;let _=(d=u?.message)!==null&&d!==void 0?d:"",R=(h=u?.code)!==null&&h!==void 0?h:"";a=`${(f=o?.name)!==null&&f!==void 0?f:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(p=u?.name)!==null&&p!==void 0?p:"Error"}: ${_}`,R&&(a+=` (${R})`),u?.stack&&(a+=`
${u.stack}`)}else{var y;a=(y=o?.stack)!==null&&y!==void 0?y:""}let w=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(l="",c="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(u?.name==="HeadersOverflowError"||u?.code==="UND_ERR_HEADERS_OVERFLOW")&&(l="",c="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(c+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:c,code:l},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Cx=class extends Ex{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},xb=new RegExp("[,()]"),to=class extends Cx{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&xb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&xb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Dx=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new to({method:i,url:a,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let i="POST",{url:o,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),n||s.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new to({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){let u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new to({method:s,url:a,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new to({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;let n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new to({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Ix(e,t){if(Vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sx(e){var t=Ix(e,"string");return Vs(t)=="symbol"?t:t+""}function Tx(e,t,n){return(t=Sx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(n),!0).forEach(function(r){Tx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Nb=class Ob{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=s;let a=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,l)=>{let u=new AbortController,d=setTimeout(()=>u.abort(),o),h=l?.signal;if(h){if(h.aborted)return clearTimeout(d),a(c,l);let f=()=>{clearTimeout(d),u.abort()};return h.addEventListener("abort",f,{once:!0}),a(c,nu(nu({},l),{},{signal:u.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",f)})}return a(c,nu(nu({},l),{},{signal:u.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Dx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Ob(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${t}`),l,u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=r&&Object.values(n).some(u);d?(a="POST",l=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(a="POST",l=n);let h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new to({method:a,url:c,headers:h,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};var fp=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},hp=fp;var kb="2.94.0";var Pb=`realtime-js/${kb}`,Fb="1.0.0",pp="2.0.0",gp=pp;var Us=1e4,Lb=1e3,jb=100,er=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(er||{}),Ae=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Ae||{}),xt=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(xt||{}),mp=(function(e){return e.websocket="websocket",e})(mp||{}),zr=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(zr||{});var ru=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;let s=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,c.length),p.setUint8(y++,a.length),p.setUint8(y++,s.length),p.setUint8(y++,l.length),p.setUint8(y++,d.length),p.setUint8(y++,n),Array.from(c,_=>p.setUint8(y++,_.charCodeAt(0))),Array.from(a,_=>p.setUint8(y++,_.charCodeAt(0))),Array.from(s,_=>p.setUint8(y++,_.charCodeAt(0))),Array.from(l,_=>p.setUint8(y++,_.charCodeAt(0))),Array.from(d,_=>p.setUint8(y++,_.charCodeAt(0)));var w=new Uint8Array(f.byteLength+r.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(r),f.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,s,a,c]=r;return n({join_ref:i,ref:o,topic:s,event:a,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let u=r.decode(t.slice(c,c+o));c=c+o;let d=r.decode(t.slice(c,c+s));c=c+s;let h=t.slice(c,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var no=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ue=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(ue||{}),yp=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=Mx(s,e,t,i),o),{}):{}},Mx=(e,t,n,r)=>{let i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?Vb(o,s):vp(s)},Vb=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return Nx(t,n)}switch(e){case ue.bool:return xx(t);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return Ax(t);case ue.json:case ue.jsonb:return Rx(t);case ue.timestamp:return Ox(t);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return vp(t);default:return vp(t)}},vp=e=>e,xx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ax=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Nx=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Vb(t,a))}return e},Ox=e=>typeof e=="string"?e.replace(" ","T"):e,iu=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var ro=class{constructor(t,n,r={},i=Us){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Bs=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),p=u.filter(w=>f.indexOf(w.presence_ref)<0),y=d.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(a[l]=p),y.length>0&&(c[l]=y)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,i(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $s=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})($s||{}),An=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(An||{});var Hs=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ro(this,xt.join,this.params,this.timeout),this.rejoinTimer=new no(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Bs(this),this.broadcastEndpointURL=iu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[$s.PRESENCE]&&this.bindings[$s.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(An.CHANNEL_ERROR,f)),this._onClose(()=>t?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(An.SUBSCRIBED);return}else{let y=this.bindings.postgres_changes,w=(p=y?.length)!==null&&p!==void 0?p:0,_=[];for(let R=0;R<w;R++){let T=y[R],{filter:{event:C,schema:G,table:Ke,filter:Q}}=T,de=f&&f[R];if(de&&de.event===C&&e.isFilterValueEqual(de.schema,G)&&e.isFilterValueEqual(de.table,Ke)&&e.isFilterValueEqual(de.filter,Q))_.push(Object.assign(Object.assign({},T),{id:de.id}));else{this.unsubscribe(),this.state=Ae.errored,t?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(An.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ae.errored,t?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ae.joined&&t===$s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;let l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ro(this,xt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ro(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jb){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=xt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,y,w;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(y=f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,y,w,_,R,T;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let C=f.id,G=(p=f.filter)===null||p===void 0?void 0:p.event;return C&&((y=n.ids)===null||y===void 0?void 0:y.includes(C))&&(G==="*"||G?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let C=(R=(_=f?.filter)===null||_===void 0?void 0:_.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return C==="*"||C===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:y,table:w,commit_timestamp:_,type:R,errors:T}=p;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:_,eventType:R,new:{},old:{},errors:T}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xt.close,{},t)}_onError(t){this._on(xt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yp(t.columns,t.old_record)),n}};var _p=()=>{},ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Px=[1e3,2e3,5e3,1e4],Fx=1e4,Lx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,qs=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Us,this.transport=null,this.heartbeatIntervalMs=ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_p,this.ref=0,this.reconnectTimer=null,this.vsn=gp,this.logger=_p,this.conn=null,this.sendBuffer=[],this.serializer=new ru,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${mp.websocket}`,this.httpEndpoint=iu(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case er.connecting:return zr.Connecting;case er.open:return zr.Open;case er.closing:return zr.Closing;default:return zr.Closed}}isConnected(){return this.connectionState()===zr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Hs(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Lb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===er.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===er.open||this.conn.readyState===er.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(xt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([Lx],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:Pb};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(xt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new no(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ou.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,c,l,u,d,h,f;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Us,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:ou.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:_p,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:gp,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:p=>Px[p-1]||Fx,this.vsn){case Fb:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(p,y)=>y(JSON.stringify(p)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:(p,y)=>y(JSON.parse(p));break;case pp:this.encode=(h=t?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var zs=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jx(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function Vx(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Ux(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){let a=jx(e.baseUrl,r,i),c=await Vx(e.auth),l=await t(a,{method:n,headers:D(D(D({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!l.ok){let f=d?h:void 0,p=f?.error;throw new zs(p?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:l.status,headers:l.headers,data:h}}}}function su(e){return e.join("")}var Bx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:su(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(e.namespace)}`}),!0}catch(t){if(t instanceof zs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof zs&&n.status===409)return;throw n}}};function io(e){return e.join("")}var $x=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${io(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof zs&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof zs&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Ub=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Ux({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new Bx(this.client,t),this.tableOps=new $x(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var cu=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function lu(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var au=class extends cu{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qb=class extends cu{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};var Hx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qx=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bp=e=>{if(Array.isArray(e))return e.map(n=>bp(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=bp(r)}),t},zx=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Gx(e,t){if(Ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wx(e){var t=Gx(e,"string");return Ws(t)=="symbol"?t:t+""}function Kx(e,t,n){return(t=Wx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(n),!0).forEach(function(r){Kx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $b=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Yx=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";t(new au($b(s),o,a,r))}).catch(()=>{if(r==="vectors"){let s=o+"";t(new au(i.statusText||`HTTP ${o} error`,o,s,r))}else{let s=o+"";t(new au(i.statusText||`HTTP ${o} error`,o,s,r))}});else{let s=o+"";t(new au(i.statusText||`HTTP ${o} error`,o,s,r))}}else t(new qb($b(e),e,r))},Zx=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?P(P({},i),n):(qx(r)?(i.headers=P({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),P(P({},i),n))};async function Gs(e,t,n,r,i,o,s){return new Promise((a,c)=>{e(n,Zx(t,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;if(s==="vectors"){let u=l.headers.get("content-type");if(l.headers.get("content-length")==="0"||l.status===204)return{};if(!u||!u.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>Yx(l,c,r,s))})}function zb(e="storage"){return{get:async(t,n,r,i)=>Gs(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>Gs(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>Gs(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>Gs(t,"HEAD",n,P(P({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>Gs(t,"DELETE",n,i,o,r,e)}}var Jx=zb("storage"),{get:Ks,post:Yt,put:wp,head:Qx,remove:Ep}=Jx,mt=zb("vectors"),oo=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Hx(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lu(n))return{data:null,error:n};throw n}}},Xx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lu(t))return{data:null,error:t};throw t}}},Gb;Gb=Symbol.toStringTag;var eA=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Gb]="BlobDownloadBuilder",this.promise=null}asStream(){return new Xx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lu(t))return{data:null,error:t};throw t}}},tA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},nA=class extends oo{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o,s=P(P({},Hb),r),a=P(P({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=P(P({},a),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=await(e=="PUT"?wp:Yt)(i.fetch,`${i.url}/object/${u}`,o,P({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",t),i.handleOperation(async()=>{let c,l=P({upsert:Hb.upsert},r),u=P(P({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{path:o,fullPath:(await wp(i.fetch,a.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),i=P({},n.headers);t?.upsert&&(i["x-upsert"]="true");let o=await Yt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),a=s.searchParams.get("token");if(!a)throw new cu("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Yt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Yt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Yt(r.fetch,`${r.url}/object/sign/${i}`,P({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{let i=await Yt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(s=>P(P({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>Ks(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new eA(s,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);return t.handleOperation(async()=>bp(await Ks(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await Qx(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lu(r)&&r instanceof qb){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let o=typeof t?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(t?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ep(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{let i=P(P(P({},tA),t),{},{prefix:e||""});return await Yt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{let r=P({},e);return await Yt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},rA="2.94.0",Ys={"X-Client-Info":`storage-js/${rA}`},iA=class extends oo{constructor(e,t={},n,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));let o=i.href.replace(/\/$/,""),s=P(P({},Ys),t);super(o,s,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=t.listBucketOptionsToQueryString(e);return await Ks(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ks(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Yt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await wp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Yt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ep(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},oA=class extends oo{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=P(P({},Ys),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Yt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ks(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ep(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!zx(e))throw new cu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new Ub({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},sA=class extends oo{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=P(P({},Ys),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await mt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await mt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},aA=class extends oo{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=P(P({},Ys),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},cA=class extends oo{constructor(e,t={},n){let r=e.replace(/\/$/,""),i=P(P({},Ys),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},lA=class extends cA{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uA(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},uA=class extends sA{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,P(P({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,P(P({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new dA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},dA=class extends aA{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,P(P({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,P(P({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,P(P({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,P(P({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,P(P({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Wb=class extends iA{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new nA(this.url,this.headers,e,this.fetch)}get vectors(){return new lA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oA(this.url+"/iceberg",this.headers,this.fetch)}};var uu="2.94.0";var Gr=30*1e3,du=3,fu=du*Gr,Kb="http://localhost:9999",Yb="supabase.auth.token";var Zb={"X-Client-Info":`gotrue-js/${uu}`};var Zs="X-Supabase-Api-Version",Cp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qb=600*1e3;var tr=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var hu=class extends tr{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Xb(e){return A(e)&&e.name==="AuthApiError"}var At=class extends tr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Zt=class extends tr{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},We=class extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function gu(e){return A(e)&&e.name==="AuthSessionMissingError"}var Rn=class extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Wr=class extends Zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Kr=class extends Zt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function ew(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}var Js=class extends Zt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},pu=class extends Zt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var so=class extends Zt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function mu(e){return A(e)&&e.name==="AuthRetryableFetchError"}var Qs=class extends Zt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Yr=class extends Zt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tw=` 	
\r=`.split(""),fA=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tw.length;t+=1)e[tw[t].charCodeAt(0)]=-2;for(let t=0;t<vu.length;t+=1)e[vu[t].charCodeAt(0)]=t;return e})();function nw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(vu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(vu[r]),t.queuedBits-=6}}function rw(e,t,n){let r=fA[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dp(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{gA(s,r,n)};for(let s=0;s<e.length;s+=1)rw(e.charCodeAt(s),i,o);return t.join("")}function hA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pA(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}hA(r,t)}}function gA(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nr(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)rw(e.charCodeAt(i),n,r);return new Uint8Array(t)}function iw(e){let t=[];return pA(e,n=>t.push(n)),new Uint8Array(t)}function Nn(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>nw(i,n,r)),nw(null,n,r),t.join("")}function ow(e){return Math.round(Date.now()/1e3)+e}function sw(){return Symbol("auth-callback")}var Re=()=>typeof window<"u"&&typeof document<"u",Zr={tested:!1,writable:!1},yu=()=>{if(!Re())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zr.tested)return Zr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zr.tested=!0,Zr.writable=!0}catch{Zr.tested=!0,Zr.writable=!1}return Zr.writable};function aw(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var _u=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rr=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},je=async(e,t)=>{await e.removeItem(t)},Xs=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Xs.promiseConstructor=Promise;function ea(e){let t=e.split(".");if(t.length!==3)throw new Yr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Jb.test(t[r]))throw new Yr("JWT not in base64url format");return{header:JSON.parse(Dp(t[0])),payload:JSON.parse(Dp(t[1])),signature:nr(t[2]),raw:{header:t[0],payload:t[1]}}}async function lw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uw(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function mA(e){return("0"+e.toString(16)).substr(-2)}function vA(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,mA).join("")}async function yA(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function _A(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await yA(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qr(e,t,n=!1){let r=vA(),i=r;n&&(i+="/PASSWORD_RECOVERY"),await Jr(e,`${t}-code-verifier`,i);let o=await _A(r);return[o,r===o?"plain":"s256"]}var bA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dw(e){let t=e.headers.get(Zs);if(!t||!t.match(bA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fw(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var wA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xr(e){if(!wA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bu(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pw(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Ip(e){return JSON.parse(JSON.stringify(e))}var ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EA=[502,503,504];async function gw(e){var t;if(!cw(e))throw new so(ei(e),0);if(EA.includes(e.status))throw new so(ei(e),e.status);let n;try{n=await e.json()}catch(o){throw new At(ei(o),o)}let r,i=dw(e);if(i&&i.getTime()>=Cp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qs(ei(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new We}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Qs(ei(n),e.status,n.weak_password.reasons);throw new hu(ei(n),e.status||500,r)}var CA=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function O(e,t,n,r){var i;let o=Object.assign({},r?.headers);o[Zs]||(o[Zs]=Cp["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await DA(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function DA(e,t,n,r,i,o){let s=CA(t,r,i,o),a;try{a=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new so(ei(c),0)}if(a.ok||await gw(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await gw(c)}}function Rt(e){var t;let n=null;IA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ow(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Sp(e){let t=Rt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function un(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mw(e){return{data:e,error:null}}function vw(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=ur(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Tp(e){return e}function IA(e){return e.access_token&&e.refresh_token&&e.expires_in}var wu=["global","local","others"];var ao=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=_u(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=wu[0]){if(wu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wu.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:un})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=ur(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vw,redirectTo:n?.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:un})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tp});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);l[`${w}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){Xr(t);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:un})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Xr(t);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:un})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Xr(t);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:un})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Xr(t.userId);try{let{data:n,error:r}=await O(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Xr(t.userId),Xr(t.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await O(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tp});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);l[`${w}Page`]=y}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(A(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await O(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await O(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await O(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await O(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}};function Mp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var ti={debug:!!(globalThis&&yu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ta=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Eu=class extends ta{};async function xp(e,t,n){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Eu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ti.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ap(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _w(e){return parseInt(e,16)}function bw(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function ww(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Ap(e.address),p=u?`${u}://${r}`:r,y=e.statement?`${e.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${f}

${y}`,_=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),c&&(_+=`
Request ID: ${c}`),l){let R=`
Resources:`;for(let T of l){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);R+=`
- ${T}`}_+=R}return`${w}
${_}`}var me=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},ni=class extends me{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function Ew({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Rp(s)){if(o.rp.id!==s)return new me({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Cw({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Rp(r)){if(n.rpId!==r)return new me({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Np=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},SA=new Np;function Iw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=ur(e,["challenge","user","excludeCredentials"]),o=nr(t).buffer,s=Object.assign(Object.assign({},n),{id:nr(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:nr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Sw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=ur(e,["challenge","allowCredentials"]),i=nr(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:nr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function Tw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Nn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Nn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Nn(new Uint8Array(i.authenticatorData)),clientDataJSON:Nn(new Uint8Array(i.clientDataJSON)),signature:Nn(new Uint8Array(i.signature)),userHandle:i.userHandle?Nn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Dw(){var e,t;return!!(Re()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function TA(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ni("Browser returned unexpected credential type",t)}:{data:null,error:new ni("Empty credential response",t)}}catch(t){return{data:null,error:Ew({error:t,options:e})}}}async function MA(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ni("Browser returned unexpected credential type",t)}:{data:null,error:new ni("Empty credential response",t)}}catch(t){return{data:null,error:Cw({error:t,options:e})}}}var xA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},AA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cu(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){let a=r[o];t(a)?r[o]=Cu(a,s):r[o]=Cu(s)}else r[o]=s}return r}function RA(e,t){return Cu(xA,e,t||{})}function NA(e,t){return Cu(AA,e,t||{})}var Du=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var s;try{let{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:c};let l=i??SA.createNewAbortSignal();if(a.webauthn.type==="create"){let{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){let d=r;if(d)u.name=`${u.id}:${d}`;else{let f=(await this.client.getUser()).data.user,p=((s=f?.user_metadata)===null||s===void 0?void 0:s.name)||f?.email||f?.id||"User";u.name=`${u.id}:${p}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{let u=RA(a.webauthn.credential_options.publicKey,o?.create),{data:d,error:h}=await TA({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{let u=NA(a.webauthn.credential_options.publicKey,o?.request),{data:d,error:h}=await MA(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new At("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new tr("rpId is required for WebAuthn authentication")};try{if(!Dw())return{data:null,error:new At("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return A(s)?{data:null,error:s}:{data:null,error:new At("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new tr("rpId is required for WebAuthn registration")};try{if(!Dw())return{data:null,error:new At("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return A(s)?{data:null,error:s}:{data:null,error:new At("Unexpected error in register",s)}}}};yw();var OA={url:Kb,storageKey:Yb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function xw(e,t,n){return await n()}var co={},kA=(()=>{class e{get jwks(){var n,r;return(r=(n=co[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){co[this.storageKey]=Object.assign(Object.assign({},co[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=co[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){co[this.storageKey]=Object.assign(Object.assign({},co[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},OA),n);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Re()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ao({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_u(s.fetch),this.lock=s.lock||xw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Re()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=xp:this.lock=xw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Du(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:yu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mp(this.memoryStorage)),Re()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uu}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(Re()&&(r=aw(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Re()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ew(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new At("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{let s=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Rt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,i,o;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,y=null;this.flowType==="pkce"&&([p,y]=await Qr(this.storage,this.storageKey)),s=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:y},xform:Rt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Rt})}else throw new Wr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await je(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Sp})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Sp})}else throw new Wr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Rn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,s,a,c,l,u,d,h,f;let p,y;if("message"in n)p=n.message,y=n.signature;else{let{chain:w,wallet:_,statement:R,options:T}=n,C;if(Re())if(typeof _=="object")C=_;else{let dn=window;if("ethereum"in dn&&typeof dn.ethereum=="object"&&"request"in dn.ethereum&&typeof dn.ethereum.request=="function")C=dn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}let G=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href),Ke=await C.request({method:"eth_requestAccounts"}).then(dn=>dn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ke||Ke.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let Q=Ap(Ke[0]),de=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!de){let dn=await C.request({method:"eth_chainId"});de=_w(dn)}let Uw={domain:G.host,address:Q,statement:R,uri:G.href,version:"1",chainId:de,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=T?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=ww(Uw),y=await C.request({method:"personal_sign",params:[bw(p),Q]})}try{let{data:w,error:_}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Rt});if(_)throw _;if(!w||!w.session||!w.user){let R=new Rn;return this._returnResult({data:{user:null,session:null},error:R})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(n){var r,i,o,s,a,c,l,u,d,h,f,p;let y,w;if("message"in n)y=n.message,w=n.signature;else{let{chain:_,wallet:R,statement:T,options:C}=n,G;if(Re())if(typeof R=="object")G=R;else{let Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))G=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=R}let Ke=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in G&&G.signIn){let Q=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:Ke.host,uri:Ke.href}),T?{statement:T}:null)),de;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")de=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)de=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in de&&"signature"in de&&(typeof de.signedMessage=="string"||de.signedMessage instanceof Uint8Array)&&de.signature instanceof Uint8Array)y=typeof de.signedMessage=="string"?de.signedMessage:new TextDecoder().decode(de.signedMessage),w=de.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${Ke.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${Ke.href}`,`Issued At: ${(o=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((a=C?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((h=(d=C?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...C.signInWithSolana.resources.map(de=>`- ${de}`)]:[]].join(`
`);let Q=await G.signMessage(new TextEncoder().encode(y),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=Q}}try{let{data:_,error:R}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Nn(w)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Rt});if(R)throw R;if(!_||!_.session||!_.user){let T=new Rn;return this._returnResult({data:{user:null,session:null},error:T})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:R})}catch(_){if(A(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(n){let r=await rr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new pu;let{data:s,error:a}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Rt});if(await je(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Rn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await je(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Rt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new Rn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=await Qr(this.storage,this.storageKey));let{error:h}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Wr("You must provide either an email or phone number.")}catch(c){if(await je(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,i;try{let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Rt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Qr(this.storage,this.storageKey));let u=await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:mw});return!((s=u.data)===null||s===void 0)&&s.url&&Re()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await je(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new We;let{error:o}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(A(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=await O(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=await O(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Wr("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<fu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let a=await rr(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=bu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=pw(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:un}):await this._useSession(async r=>{var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new We}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:un})})}catch(r){if(A(r))return gu(r)&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new We;let a=o.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=await Qr(this.storage,this.storageKey));let{data:u,error:d}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:un});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new We;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=ea(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(n.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new We;let{data:o,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Re())throw new Kr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Kr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Js("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Js("No code detected.");let{data:T,error:C}=await this._exchangeCodeForSession(n.code);if(C)throw C;let G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:T.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new Kr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let p=f-d;p*1e3<=Gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);let{data:w,error:_}=await this._getUser(s);if(_)throw _;let R={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:n.type},error:null})}catch(i){if(A(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s&&!gu(s))return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(Xb(c)&&(c.status===404||c.status===401||c.status===403)||gu(c)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=sw(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Qr(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await je(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return Re()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(A(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=n,h=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Rt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Rn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(o){if(await je(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await uw(async o=>(o>0&&await lw(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Rt})),(o,s)=>{let a=200*Math.pow(2,o);return s&&mu(s)&&Date.now()+a-i<Gr})}catch(i){if(this._debug(r,"error",i),A(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Re()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await rr(this.storage,this.storageKey);if(o&&this.userStorage){let a=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await Jr(this.userStorage,this.storageKey+"-user",a)),o.user=(n=a?.user)!==null&&n!==void 0?n:bu()}else if(o&&!o.user&&!o.user){let a=await rr(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await je(this.storage,this.storageKey+"-user"),await Jr(this.storage,this.storageKey,o)):o.user=bu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fu;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${fu}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),mu(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new We;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Xs;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new We;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),A(s)){let a={data:null,error:s};return mu(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await je(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Jr(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=Ip(o);await Jr(this.storage,this.storageKey,s)}else{let o=Ip(r);await Jr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await je(this.storage,this.storageKey),await je(this.storage,this.storageKey+"-code-verifier"),await je(this.storage,this.storageKey+"-user"),this.userStorage&&await je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Re()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Gr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Gr}ms, refresh threshold is ${du} ticks`),o<=du&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ta)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Re()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await Qr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await O(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:u}=await O(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Tw(n.webauthn.credential_response):Mw(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=await O(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await O(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Iw(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Sw(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var r,i,o,s;if(n)try{let{payload:p}=ea(n),y=null;p.aal&&(y=p.aal);let w=y,{data:{user:_},error:R}=await this.getUser(n);if(R)return this._returnResult({data:null,error:R});((i=(r=_?.factors)===null||r===void 0?void 0:r.filter(G=>G.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(w="aal2");let C=p.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:C},error:null}}catch(p){if(A(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:l}=ea(a.access_token),u=null;l.aal&&(u=l.aal);let d=u;((s=(o=a.user.factors)===null||o===void 0?void 0:o.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await O(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new We})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new We});let a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Re()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new We});let a=await O(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Re()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await O(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new We})})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await O(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new We})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+Qb>o)return i;let{data:s,error:a}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(c=>c.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){let{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:c,payload:l}}=ea(i);r?.allowExpired||fw(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=hw(o.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,iw(`${c}.${l}`)))throw new Yr("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),Op=kA;var PA=Op,kp=PA;var FA="2.94.0",na="";typeof Deno<"u"?na="deno":typeof document<"u"?na="web":typeof navigator<"u"&&navigator.product==="ReactNative"?na="react-native":na="node";var LA={"X-Client-Info":`supabase-js-${na}/${FA}`},jA={headers:LA},VA={schema:"public"},UA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BA={};function ra(e){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(e)}function $A(e,t){if(ra(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HA(e){var t=$A(e,"string");return ra(t)=="symbol"?t:t+""}function qA(e,t,n){return(t=HA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(n),!0).forEach(function(r){qA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GA=()=>Headers,WA=(e,t,n)=>{let r=zA(n),i=GA();return async(o,s)=>{var a;let c=(a=await t())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,_e(_e({},s),{},{headers:l}))}};function KA(e){return e.endsWith("/")?e:e+"/"}function YA(e,t){var n,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=t,h={db:_e(_e({},c),i),auth:_e(_e({},l),o),realtime:_e(_e({},u),s),storage:{},global:_e(_e(_e({},d),a),{},{headers:_e(_e({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function ZA(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(KA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var JA=class extends kp{constructor(e){super(e)}},QA=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;let o=ZA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:VA,realtime:BA,auth:_e(_e({},UA),{},{storageKey:s}),global:jA},c=YA(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=WA(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(_e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Nb(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new Wb(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new js(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JA({url:this.authUrl.href,headers:_e(_e({},h),u),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qs(this.realtimeUrl.href,_e(_e({},e),{},{params:_e(_e({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},Rw=(e,t,n)=>new QA(e,t,n);function XA(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}XA()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var eR="https://uzkxigqcipcempyyayww.supabase.co",tR="sb_publishable_fsrePnC0uaE5kO5Ji7q_mg_CBnUkRhf",Nt=Rw(eR,tR);var lo=class e{tableName="equipo";getAll(){return re(Nt.from(this.tableName).select("*").order("id",{ascending:!0})).pipe(F(t=>{if(t.error)throw new Error(t.error.message);return t.data}))}getById(t){return re(Nt.from(this.tableName).select("*").eq("id",t).single()).pipe(F(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}create(t){return re(Nt.from(this.tableName).insert([t]).select().single()).pipe(F(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}update(t,n){return re(Nt.from(this.tableName).update(n).eq("id",t).select().single()).pipe(F(r=>{if(r.error)throw new Error(r.error.message);return r.data}))}delete(t){return re(Nt.from(this.tableName).delete().eq("id",t)).pipe(F(n=>{if(n.error)throw new Error(n.error.message)}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var Iu=["Micr\xF3fonos","Parlantes","Teclados","Mouse"];var uo=class e{isOpen=U(!1);data=U({title:"",message:""});resolve=null;open(t,n){return this.data.set({title:t,message:n}),this.isOpen.set(!0),new Promise(r=>{this.resolve=r})}confirm(){this.isOpen.set(!1),this.resolve&&this.resolve(!0)}cancel(){this.isOpen.set(!1),this.resolve&&this.resolve(!1)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var ir=class e{toasts=U([]);nextId=0;show(t,n="info",r=3e3){let i={id:this.nextId++,message:t,type:n};this.toasts.update(o=>[...o,i]),setTimeout(()=>{this.remove(i.id)},r)}success(t,n){this.show(t,"success",n)}error(t,n){this.show(t,"error",n)}info(t,n){this.show(t,"info",n)}warning(t,n){this.show(t,"warning",n)}remove(t){this.toasts.update(n=>n.filter(r=>r.id!==t))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var nR=()=>["/equipos","nuevo"],rR=e=>({categoria:e}),Pp=e=>["/equipos",e],Nw=(e,t)=>t.id;function iR(e,t){if(e&1){let n=De();m(0,"button",12),X("click",function(){L(n);let i=S();return i.clearCategoria(),j(i.router.navigate(["/equipos"]))}),v(1," \u2190 Ver todas las categor\xEDas "),g()}}function oR(e,t){if(e&1&&zn(0,"img",15),e&2){let n=S().$implicit,r=S(2);ye("src","icons/"+r.getCategoriaIcon(n),Lc)("alt",n)}}function sR(e,t){if(e&1&&(m(0,"div",16),v(1),g()),e&2){let n=S().$implicit,r=S(2);E(),Y(r.getCategoriaIcon(n))}}function aR(e,t){if(e&1){let n=De();m(0,"div",14),X("click",function(){let i=L(n).$implicit,o=S(2);return j(o.selectCategoria(i))}),te(1,oR,1,2,"img",15)(2,sR,2,1,"div",16),m(3,"div",17),v(4),g(),m(5,"div",18),v(6),g()()}if(e&2){let n=t.$implicit,r=S(2);E(),ne(r.getCategoriaIcon(n).endsWith(".png")||r.getCategoriaIcon(n).endsWith(".jpg")||r.getCategoriaIcon(n).endsWith(".svg")?1:2),E(3),Y(n),E(2),ge("",r.equiposPorCategoria()[n]||0," equipos")}}function cR(e,t){if(e&1&&(m(0,"div",8),Je(1,aR,7,3,"div",13,qn),g()),e&2){let n=S();E(),Qe(n.categorias)}}function lR(e,t){if(e&1&&(m(0,"option",28),v(1),g()),e&2){let n=t.$implicit;ye("value",n),E(),Y(n)}}function uR(e,t){if(e&1&&(m(0,"option",28),v(1),g()),e&2){let n=t.$implicit;ye("value",n),E(),Y(n)}}function dR(e,t){if(e&1&&(m(0,"option",28),v(1),g()),e&2){let n=t.$implicit;ye("value",n),E(),Y(n)}}function fR(e,t){if(e&1){let n=De();m(0,"div",9)(1,"div",19)(2,"h3"),v(3,"Filtros"),g(),m(4,"button",20),X("click",function(){L(n);let i=S();return j(i.clearFilters())}),v(5," Limpiar "),g()(),m(6,"div",21)(7,"div",22)(8,"label",23),v(9,"Buscar"),g(),m(10,"input",24),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.filterSearch,i)||(o.filterSearch=i),j(i)}),g()(),m(11,"div",22)(12,"label",25),v(13,"Piso"),g(),m(14,"select",26),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.filterPiso,i)||(o.filterPiso=i),j(i)}),m(15,"option",27),v(16,"Todos los pisos"),g(),Je(17,lR,2,2,"option",28,qn),g()(),m(19,"div",22)(20,"label",29),v(21,"Estado"),g(),m(22,"select",30),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.filterEstado,i)||(o.filterEstado=i),j(i)}),m(23,"option",27),v(24,"Todos los estados"),g(),Je(25,uR,2,2,"option",28,qn),g()(),m(27,"div",22)(28,"label",31),v(29,"Ambiente"),g(),m(30,"select",32),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.filterAmbiente,i)||(o.filterAmbiente=i),j(i)}),m(31,"option",27),v(32,"Todos los ambientes"),g(),Je(33,dR,2,2,"option",28,qn),g()()()()}if(e&2){let n=S();E(10),Me("ngModel",n.filterSearch),E(4),Me("ngModel",n.filterPiso),E(3),Qe(n.pisos),E(5),Me("ngModel",n.filterEstado),E(3),Qe(n.estados),E(5),Me("ngModel",n.filterAmbiente),E(3),Qe(n.ambientes())}}function hR(e,t){e&1&&(m(0,"div",10),v(1,"Cargando equipos..."),g())}function pR(e,t){if(e&1&&(m(0,"div",11),v(1),g()),e&2){let n=S();E(),Y(n.error())}}function gR(e,t){if(e&1&&(m(0,"span",34),v(1),g()),e&2){let n=S(3);E(),ge("Piso: ",n.filterPiso())}}function mR(e,t){if(e&1&&(m(0,"span",34),v(1),g()),e&2){let n=S(3);E(),ge("Estado: ",n.filterEstado())}}function vR(e,t){if(e&1&&(m(0,"span",34),v(1),g()),e&2){let n=S(3);E(),ge("Ambiente: ",n.filterAmbiente())}}function yR(e,t){if(e&1&&(m(0,"span",34),v(1),g()),e&2){let n=S(3);E(),ge("Busqueda: ",n.filterSearch())}}function _R(e,t){if(e&1&&(m(0,"div",33)(1,"span"),v(2,"Filtros activos:"),g(),te(3,gR,2,1,"span",34),te(4,mR,2,1,"span",34),te(5,vR,2,1,"span",34),te(6,yR,2,1,"span",34),g()),e&2){let n=S(2);E(3),ne(n.filterPiso()?3:-1),E(),ne(n.filterEstado()?4:-1),E(),ne(n.filterAmbiente()?5:-1),E(),ne(n.filterSearch()?6:-1)}}function bR(e,t){if(e&1){let n=De();m(0,"tr")(1,"td"),v(2),g(),m(3,"td"),v(4),g(),m(5,"td"),v(6),g(),m(7,"td"),v(8),g(),m(9,"td"),v(10),g(),m(11,"td"),v(12),g(),m(13,"td"),v(14),g(),m(15,"td",42)(16,"a",43),v(17," Editar "),g(),m(18,"button",44),X("click",function(){let i=L(n).$implicit,o=S(3);return j(o.deleteEquipo(i.id,i.nombre))}),v(19," Eliminar "),g()()()}if(e&2){let n=t.$implicit;E(2),Y(n.nombre),E(2),Y(n.piso||"-"),E(2),Y(n.descripcion||"-"),E(2),Y(n.marca),E(2),Y(n.modelo),E(2),Y(n.estado),E(2),Y(n.ambientecodigo||"Sin asignar"),E(2),ye("routerLink",Sn(8,Pp,n.id))}}function wR(e,t){e&1&&(m(0,"tr")(1,"td",45),v(2,"No hay equipos en esta categor\xEDa"),g()())}function ER(e,t){if(e&1){let n=De();m(0,"div",38)(1,"button",46),X("click",function(){L(n);let i=S(3);return j(i.prevPage())}),v(2," \u2190 Anterior "),g(),m(3,"span",47),v(4),g(),m(5,"button",46),X("click",function(){L(n);let i=S(3);return j(i.nextPage())}),v(6," Siguiente \u2192 "),g()()}if(e&2){let n=S(3);E(),ye("disabled",n.currentPage()===1),E(3),xi(" ",n.equiposFiltradosOrdenados().length," equipos - P\xE1gina ",n.currentPage()," de ",n.totalPages()," "),E(),ye("disabled",n.currentPage()===n.totalPages())}}function CR(e,t){if(e&1&&(m(0,"p",52),v(1),g()),e&2){let n=S().$implicit;E(),ge("\u{1F3E2} Piso: ",n.piso)}}function DR(e,t){if(e&1&&(m(0,"p",53),v(1),g()),e&2){let n=S().$implicit;E(),Y(n.descripcion)}}function IR(e,t){if(e&1&&(m(0,"p",57),v(1),g()),e&2){let n=S().$implicit;E(),ge(" \u{1F4CD} ",n.ambientecodigo," ")}}function SR(e,t){if(e&1){let n=De();m(0,"div",40)(1,"div",48)(2,"span",49),v(3),g(),m(4,"span",50),v(5),g()(),m(6,"div",51),te(7,CR,2,1,"p",52),te(8,DR,2,1,"p",53),m(9,"p",54),v(10),g(),Kc(11,IR,2,1,"p",55),g(),m(12,"div",56)(13,"a",43),v(14," Editar "),g(),m(15,"button",44),X("click",function(){let i=L(n).$implicit,o=S(3);return j(o.deleteEquipo(i.id,i.nombre))}),v(16," Eliminar "),g()()()}if(e&2){let n=t.$implicit;E(3),Y(n.nombre),E(),rs(n.estado==null?null:n.estado.toLowerCase()),E(),Y(n.estado),E(),ye("routerLink",Sn(11,Pp,n.id)),E(),ne(n.piso?7:-1),E(),ne(n.descripcion?8:-1),E(2),Mi("",n.marca," - ",n.modelo),E(),ye("ngIf",n.ambientecodigo),E(2),ye("routerLink",Sn(13,Pp,n.id))}}function TR(e,t){e&1&&(m(0,"div",41),v(1,"No hay equipos en esta categor\xEDa"),g())}function MR(e,t){if(e&1){let n=De();m(0,"div",35)(1,"table",36)(2,"thead")(3,"tr")(4,"th",37),X("click",function(){L(n);let i=S(2);return j(i.setSortField("nombre"))}),v(5),g(),m(6,"th"),v(7,"Piso"),g(),m(8,"th"),v(9,"Descripci\xF3n"),g(),m(10,"th",37),X("click",function(){L(n);let i=S(2);return j(i.setSortField("marca"))}),v(11),g(),m(12,"th",37),X("click",function(){L(n);let i=S(2);return j(i.setSortField("modelo"))}),v(13),g(),m(14,"th"),v(15,"Estado"),g(),m(16,"th",37),X("click",function(){L(n);let i=S(2);return j(i.setSortField("ambientecodigo"))}),v(17),g(),m(18,"th"),v(19,"Acciones"),g()()(),m(20,"tbody"),Je(21,bR,20,10,"tr",null,Nw,!1,wR,3,0,"tr"),g()(),te(24,ER,7,5,"div",38),g(),m(25,"div",39),Je(26,SR,17,15,"div",40,Nw,!1,TR,2,0,"div",41),g()}if(e&2){let n=S(2);E(5),ge(" Nombre ",n.getSortIcon("nombre")," "),E(6),ge(" Marca ",n.getSortIcon("marca")," "),E(2),ge(" Modelo ",n.getSortIcon("modelo")," "),E(4),ge(" Ambiente ",n.getSortIcon("ambientecodigo")," "),E(4),Qe(n.equiposPaginados()),E(3),ne(n.totalPages()>1?24:-1),E(2),Qe(n.equiposFiltradosOrdenados())}}function xR(e,t){if(e&1&&(te(0,_R,7,4,"div",33),te(1,MR,29,7)),e&2){let n=S();ne((n.filterPiso()||n.filterEstado()||n.filterAmbiente()||n.filterSearch())&&n.selectedCategoria()?0:-1),E(),ne(n.selectedCategoria()?1:-1)}}var Su=class e{equipoService=b(lo);route=b(it);router=b(Kt);confirmDialog=b(uo);toastService=b(ir);equipos=U([]);loading=U(!0);error=U(null);categorias=Iu;selectedCategoria=U(null);showFilters=U(!1);filterPiso=U("");filterEstado=U("");filterAmbiente=U("");filterSearch=U("");sortField=U("ambientecodigo");sortOrder=U("asc");pageSize=10;currentPage=U(1);estados=["Nuevo","Usado","Desgastado","Obsoleto"];pisos=["S\xF3tano","Piso 1","Piso 2","Piso 3","Piso 4","Piso 5","Piso 6","Piso 7","Piso 8"];equiposPorCategoria=Ge(()=>{let t={};return this.categorias.forEach(n=>t[n]=0),this.equipos().forEach(n=>{n.categoria&&t.hasOwnProperty(n.categoria)&&t[n.categoria]++}),t});ambientes=Ge(()=>{let t=new Set;return this.equiposFiltrados().forEach(n=>{n.ambientecodigo&&t.add(n.ambientecodigo)}),Array.from(t).sort((n,r)=>n.localeCompare(r,void 0,{numeric:!0}))});totalPages=Ge(()=>Math.ceil(this.equiposFiltradosOrdenados().length/this.pageSize));equiposFiltrados=Ge(()=>{let t=[...this.equipos()],n=this.selectedCategoria();return n&&(t=t.filter(r=>r.categoria===n)),t});equiposFiltradosOrdenados=Ge(()=>{let t=this.equiposFiltrados(),n=this.filterPiso(),r=this.filterEstado().toLowerCase(),i=this.filterAmbiente().toLowerCase(),o=this.filterSearch().toLowerCase();n&&(t=t.filter(c=>c.piso===n)),r&&(t=t.filter(c=>c.estado?.toLowerCase()===r)),i&&(t=t.filter(c=>c.ambientecodigo?.toLowerCase().includes(i))),o&&(t=t.filter(c=>c.nombre?.toLowerCase().includes(o)||c.marca?.toLowerCase().includes(o)||c.modelo?.toLowerCase().includes(o)));let s=this.sortField(),a=this.sortOrder();return t.sort((c,l)=>{let u=c[s]||"",d=l[s]||"",h=u.localeCompare(d,void 0,{numeric:!0,sensitivity:"base"});return a==="asc"?h:-h}),t});equiposPaginados=Ge(()=>{let t=(this.currentPage()-1)*this.pageSize,n=t+this.pageSize;return this.equiposFiltradosOrdenados().slice(t,n)});ngOnInit(){let t=this.route.snapshot.queryParamMap.get("categoria");t&&this.selectedCategoria.set(t),this.loadEquipos()}loadEquipos(){this.loading.set(!0),this.error.set(null),this.equipoService.getAll().subscribe({next:t=>{this.equipos.set(t),this.loading.set(!1)},error:t=>{this.error.set("Error al cargar equipos"),this.loading.set(!1),console.error(t)}})}selectCategoria(t){this.selectedCategoria.set(t),this.currentPage.set(1),this.clearFilters()}clearCategoria(){this.selectedCategoria.set(null),this.currentPage.set(1)}toggleFilters(){this.showFilters.update(t=>!t)}clearFilters(){this.filterPiso.set(""),this.filterEstado.set(""),this.filterAmbiente.set(""),this.filterSearch.set(""),this.currentPage.set(1)}setSortField(t){this.sortField()===t?this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc"):(this.sortField.set(t),this.sortOrder.set("asc"))}getSortIcon(t){return this.sortField()!==t?"\u2195":this.sortOrder()==="asc"?"\u2191":"\u2193"}getCategoriaIcon(t){return{Micr\u00F3fonos:"\u{1F3A4}",Parlantes:"\u{1F50A}",Teclados:"\u2328\uFE0F",Mouse:"\u{1F5B1}\uFE0F"}[t]||"\u{1F4E6}"}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}prevPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}deleteEquipo(t,n){this.confirmDialog.open("Eliminar equipo",`\xBFEst\xE1s seguro de que deseas eliminar "${n}"?`).then(r=>{r&&this.equipoService.delete(t).subscribe({next:()=>{this.toastService.success("Equipo eliminado exitosamente"),this.loadEquipos()},error:i=>{this.toastService.error("Error al eliminar equipo"),console.error(i)}})})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-inventario-list"]],decls:18,vars:14,consts:[[1,"container"],[1,"header"],[1,"header-title"],["routerLink","/menu","title","Volver al men\xFA",1,"btn-volver"],[1,"header-actions"],[1,"btn","btn-secondary"],[1,"btn","btn-filter",3,"click"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"categorias-grid"],[1,"filter-panel"],[1,"loading"],[1,"error"],[1,"btn","btn-secondary",3,"click"],[1,"categoria-card"],[1,"categoria-card",3,"click"],[1,"categoria-img",3,"src","alt"],[1,"categoria-icon"],[1,"categoria-nombre"],[1,"categoria-count"],[1,"filter-header"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"filter-content"],[1,"filter-group"],["for","filter-search"],["type","text","id","filter-search","placeholder","Nombre, marca, modelo...",1,"form-control",3,"ngModelChange","ngModel"],["for","filter-piso"],["id","filter-piso",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","filter-estado"],["id","filter-estado",1,"form-control",3,"ngModelChange","ngModel"],["for","filter-ambiente"],["id","filter-ambiente",1,"form-control",3,"ngModelChange","ngModel"],[1,"filter-summary"],[1,"filter-tag"],[1,"table-container","desktop-only"],[1,"table"],[1,"sortable",3,"click"],[1,"pagination"],[1,"cards-container","mobile-only"],[1,"card"],[1,"empty-card"],[1,"actions"],[1,"btn","btn-sm","btn-edit",3,"routerLink"],[1,"btn","btn-sm","btn-delete",3,"click"],["colspan","8",1,"empty"],[1,"btn","btn-sm","btn-secondary",3,"click","disabled"],[1,"pagination-info"],[1,"card-header"],[1,"card-nombre"],[1,"card-estado"],[1,"card-body",3,"routerLink"],[1,"card-piso"],[1,"card-descripcion"],[1,"card-marca"],["class","card-ambiente",4,"ngIf"],[1,"card-actions"],[1,"card-ambiente"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3),v(4," \u2190 "),g(),m(5,"h1"),v(6),g()(),m(7,"div",4),te(8,iR,2,0,"button",5),m(9,"button",6),X("click",function(){return r.toggleFilters()}),v(10," \u{1F50D} Filtros "),g(),m(11,"a",7),v(12," + Agregar "),g()()(),te(13,cR,3,0,"div",8),te(14,fR,35,4,"div",9),te(15,hR,2,0,"div",10),te(16,pR,2,1,"div",11),te(17,xR,2,2),g()),n&2&&(E(6),Y(r.selectedCategoria()?r.selectedCategoria():"Equipos"),E(2),ne(r.selectedCategoria()?8:-1),E(3),Or("disabled",!r.selectedCategoria()),ye("routerLink",ph(11,nR))("queryParams",Sn(12,rR,r.selectedCategoria())),E(2),ne(r.selectedCategoria()?-1:13),E(),ne(r.showFilters()&&r.selectedCategoria()?14:-1),E(),ne(r.loading()?15:-1),E(),ne(r.error()?16:-1),E(),ne(!r.loading()&&!r.error()?17:-1))},dependencies:[lt,yh,ln,Ji,Xl,eu,Xn,Zi,Yi,qr],styles:[".table-container[_ngcontent-%COMP%]{display:block}.desktop-only[_ngcontent-%COMP%]{display:table}.mobile-only[_ngcontent-%COMP%]{display:none}.cards-container[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.card-nombre[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.card-descripcion[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#666;font-size:.875rem}.card-estado[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .75rem;border-radius:20px;background:#fff3}.card-estado.nuevo[_ngcontent-%COMP%]{background:#28a745}.card-estado.usado[_ngcontent-%COMP%]{background:#0055a4}.card-estado.desgastado[_ngcontent-%COMP%]{background:#fd7e14;color:#333}.card-estado.obsoleto[_ngcontent-%COMP%]{background:#dc3545}.card-body[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;transition:background-color .2s}.card-body[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;color:#1a1a2e}.card-marca[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#666;font-size:.875rem}.card-ambiente[_ngcontent-%COMP%]{margin:0;color:#0055a4;font-size:.875rem;font-weight:500}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #eee}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.empty-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#999;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.btn-filter[_ngcontent-%COMP%]{background:#0055a4;color:#fff;border:none;padding:.5rem 1rem;border-radius:8px;cursor:pointer;font-size:.875rem;font-weight:500;transition:background-color .2s}.btn-filter[_ngcontent-%COMP%]:hover{background:#004080}.filter-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 16px #00000026;margin-bottom:1rem;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.filter-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.filter-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600}.filter-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;padding:1rem}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#333}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ddd;border-radius:6px;font-size:.875rem}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;box-shadow:0 0 0 2px #0055a433}.filter-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;padding:.75rem 1rem;background:#e8f4ff;border-radius:8px;margin-bottom:1rem;font-size:.875rem;color:#0055a4}.filter-tag[_ngcontent-%COMP%]{background:#0055a4;color:#fff;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-top:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.pagination[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media(max-width:1000px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:flex!important}.cards-container[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.filter-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.btn-volver[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;font-size:1.5rem;font-weight:700;color:#0055a4;background:#fff;border:2px solid #0055A4;border-radius:50%;text-decoration:none;transition:all .3s ease;cursor:pointer}.btn-volver[_ngcontent-%COMP%]:hover{background:#0055a4;color:#fff;box-shadow:0 4px 12px #0055a466;transform:translate(-4px)}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.card-piso[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#0055a4;font-size:.875rem;font-weight:500}.categorias-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem;padding:1rem 0}.categoria-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;text-align:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0000001a;border:2px solid transparent}.categoria-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026;border-color:#0055a4}.categoria-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.75rem}.categoria-nombre[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1a1a2e;margin-bottom:.5rem}.categoria-count[_ngcontent-%COMP%]{font-size:.875rem;color:#666;background:#f0f4f8;padding:.25rem .75rem;border-radius:20px;display:inline-block}.categoria-img[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:contain;margin-bottom:.75rem}@media(max-width:600px){.categorias-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:.75rem}.categoria-card[_ngcontent-%COMP%]{padding:1rem}.categoria-icon[_ngcontent-%COMP%]{font-size:2rem}.categoria-nombre[_ngcontent-%COMP%]{font-size:.875rem}.categoria-count[_ngcontent-%COMP%]{font-size:.75rem}}"]})};var or=class e{tableName="ambiente";getAll(){return re(Nt.from(this.tableName).select("*").order("id",{ascending:!0})).pipe(F(t=>{if(t.error)throw new Error(t.error.message);return t.data}))}getById(t){return re(Nt.from(this.tableName).select("*").eq("id",t).single()).pipe(F(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}create(t){return re(Nt.from(this.tableName).insert([t]).select().single()).pipe(F(n=>{if(n.error)throw new Error(n.error.message);return n.data}))}update(t,n){return re(Nt.from(this.tableName).update(n).eq("id",t).select().single()).pipe(F(r=>{if(r.error)throw new Error(r.error.message);return r.data}))}delete(t){return re(Nt.from(this.tableName).delete().eq("id",t)).pipe(F(n=>{if(n.error)throw new Error(n.error.message)}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var AR=(e,t)=>t.id;function RR(e,t){e&1&&(m(0,"div",2),v(1,"Cargando..."),g())}function NR(e,t){if(e&1&&(m(0,"div",3),v(1),g()),e&2){let n=S();E(),Y(n.error())}}function OR(e,t){if(e&1&&(m(0,"option",12),v(1),g()),e&2){let n=t.$implicit;ye("value",n),E(),Y(n)}}function kR(e,t){if(e&1&&(m(0,"option",39),v(1),g()),e&2){let n=t.$implicit,r=S(2);ye("value",n.id)("selected",r.form.ambientecodigo===n.codigo),E(),Mi(" ",n.codigo," - ",n.nombre," ")}}function PR(e,t){if(e&1){let n=De();m(0,"form",5),X("ngSubmit",function(){L(n);let i=S();return j(i.onSubmit())}),m(1,"div",6)(2,"label",7),v(3,"Nombre *"),g(),m(4,"input",8),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.nombre,i)||(o.form.nombre=i),j(i)}),g()(),m(5,"div",6)(6,"label",9),v(7,"Categor\xEDa *"),g(),m(8,"select",10),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.categoria,i)||(o.form.categoria=i),j(i)}),m(9,"option",11),v(10,"Seleccionar categor\xEDa"),g(),Je(11,OR,2,2,"option",12,qn),g()(),m(13,"div",6)(14,"label",13),v(15,"Descripci\xF3n"),g(),m(16,"textarea",14),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.descripcion,i)||(o.form.descripcion=i),j(i)}),g()(),m(17,"div",6)(18,"label",15),v(19,"Piso"),g(),m(20,"select",16),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.piso,i)||(o.form.piso=i),j(i)}),m(21,"option",11),v(22,"Sin asignar"),g(),m(23,"option",17),v(24,"S\xF3tano"),g(),m(25,"option",18),v(26,"Piso 1"),g(),m(27,"option",19),v(28,"Piso 2"),g(),m(29,"option",20),v(30,"Piso 3"),g(),m(31,"option",21),v(32,"Piso 4"),g(),m(33,"option",22),v(34,"Piso 5"),g(),m(35,"option",23),v(36,"Piso 6"),g(),m(37,"option",24),v(38,"Piso 7"),g(),m(39,"option",25),v(40,"Piso 8"),g()()(),m(41,"div",26)(42,"div",6)(43,"label",27),v(44,"Marca *"),g(),m(45,"input",28),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.marca,i)||(o.form.marca=i),j(i)}),g()(),m(46,"div",6)(47,"label",29),v(48,"Modelo *"),g(),m(49,"input",30),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.modelo,i)||(o.form.modelo=i),j(i)}),g()()(),m(50,"div",26)(51,"div",6)(52,"label",31),v(53,"Estado *"),g(),m(54,"select",32),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.estado,i)||(o.form.estado=i),j(i)}),m(55,"option",11),v(56,"Seleccionar estado"),g(),m(57,"option",33),v(58,"Nuevo"),g(),m(59,"option",34),v(60,"Usado"),g(),m(61,"option",35),v(62,"Desgastado"),g(),m(63,"option",36),v(64,"Obsoleto"),g()()(),m(65,"div",6)(66,"label",37),v(67,"Ambiente (C\xF3digo)"),g(),m(68,"select",38),X("change",function(i){L(n);let o=S();return j(o.onAmbienteChange(i))}),m(69,"option",11),v(70,"Sin asignar"),g(),Je(71,kR,2,4,"option",39,AR),g()()(),m(73,"div",40)(74,"button",41),v(75),g(),m(76,"button",42),X("click",function(){L(n);let i=S();return j(i.cancel())}),v(77," Cancelar "),g()()()}if(e&2){let n=S();E(4),Me("ngModel",n.form.nombre),E(4),Me("ngModel",n.form.categoria),E(3),Qe(n.categorias),E(5),Me("ngModel",n.form.descripcion),E(4),Me("ngModel",n.form.piso),E(25),Me("ngModel",n.form.marca),E(4),Me("ngModel",n.form.modelo),E(5),Me("ngModel",n.form.estado),E(17),Qe(n.ambientes()),E(4),ge(" ",n.isEditing()?"Actualizar":"Crear"," ")}}var ia=class e{equipoService=b(lo);ambienteService=b(or);router=b(Kt);route=b(it);toastService=b(ir);isEditing=U(!1);loading=U(!1);error=U(null);ambientes=U([]);categorias=Iu;form={nombre:"",descripcion:"",piso:"",categoria:"",marca:"",modelo:"",estado:"",ambientecodigo:"",ambientenombre:""};equipoId=null;fromCategoria=null;equipoCategoria=null;ngOnInit(){this.loadAmbientes(),this.fromCategoria=this.route.snapshot.queryParamMap.get("categoria");let t=this.route.snapshot.paramMap.get("id");t?(this.isEditing.set(!0),this.equipoId=+t,this.loadEquipo(this.equipoId)):this.fromCategoria&&(this.form.categoria=this.fromCategoria)}loadAmbientes(){this.ambienteService.getAll().subscribe({next:t=>{this.ambientes.set(t)},error:t=>{console.error("Error al cargar ambientes",t)}})}loadEquipo(t){this.loading.set(!0),this.equipoService.getById(t).subscribe({next:n=>{this.form={nombre:n.nombre,descripcion:n.descripcion||"",piso:n.piso||"",categoria:n.categoria||"",marca:n.marca,modelo:n.modelo,estado:n.estado,ambientecodigo:n.ambientecodigo||"",ambientenombre:n.ambientenombre||""},this.equipoCategoria=n.categoria||null,this.loading.set(!1)},error:n=>{this.error.set("Error al cargar equipo"),this.loading.set(!1),console.error(n)}})}getCategoria(){return this.equipoCategoria?this.equipoCategoria:this.fromCategoria}navigateToList(){let t=this.getCategoria();t?this.router.navigate(["/equipos"],{queryParams:{categoria:t}}):this.router.navigate(["/equipos"])}onAmbienteChange(t){let r=t.target.value;if(!r){this.form.ambientecodigo="",this.form.ambientenombre="";return}let i=this.ambientes().find(o=>o.id===+r);i&&(this.form.ambientecodigo=i.codigo,this.form.ambientenombre=i.nombre)}onSubmit(){this.equipoId?this.update():this.create()}create(){this.loading.set(!0),this.error.set(null),this.equipoService.create(this.form).subscribe({next:()=>{this.toastService.success("Equipo creado exitosamente"),this.navigateToList()},error:t=>{this.error.set("Error al crear equipo"),this.loading.set(!1),console.error(t)}})}update(){this.equipoId&&(this.loading.set(!0),this.error.set(null),this.equipoService.update(this.equipoId,this.form).subscribe({next:()=>{this.toastService.success("Equipo actualizado exitosamente"),this.navigateToList()},error:t=>{this.error.set("Error al actualizar equipo"),this.loading.set(!1),console.error(t)}}))}cancel(){this.toastService.success("Se cancel\xF3 exitosamente"),this.navigateToList()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-producto-form"]],decls:7,vars:4,consts:[[1,"container"],[1,"header"],[1,"loading"],[1,"error"],[1,"form"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria"],["id","categoria","name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","piso"],["id","piso","name","piso",1,"form-control",3,"ngModelChange","ngModel"],["value","S\xF3tano"],["value","Piso 1"],["value","Piso 2"],["value","Piso 3"],["value","Piso 4"],["value","Piso 5"],["value","Piso 6"],["value","Piso 7"],["value","Piso 8"],[1,"form-row"],["for","marca"],["type","text","id","marca","name","marca","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","modelo"],["type","text","id","modelo","name","modelo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Nuevo"],["value","Usado"],["value","Desgastado"],["value","Obsoleto"],["for","ambiente"],["id","ambiente",1,"form-control",3,"change"],[3,"value","selected"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"header",1)(2,"h1"),v(3),g()(),te(4,RR,2,0,"div",2),te(5,NR,2,1,"div",3),te(6,PR,78,8,"form",4),g()),n&2&&(E(3),ge("",r.isEditing()?"Editar":"Nuevo"," Equipo"),E(),ne(r.loading()?4:-1),E(),ne(r.error()?5:-1),E(),ne(r.loading()?-1:6))},dependencies:[lt,Ji,Ql,Xl,eu,Xn,Zi,Yi,Zl,Fs,qr,Ps],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333}.form[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#0055a4;box-shadow:0 0 0 2px #0055a440}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:24px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#0055a4;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#004080}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:12px;border-radius:4px;margin-bottom:20px}"]})};var kw=e=>["/ambientes",e],Ow=(e,t)=>t.id;function FR(e,t){e&1&&(m(0,"div",4),v(1,"Cargando ambientes..."),g())}function LR(e,t){if(e&1&&(m(0,"div",5),v(1),g()),e&2){let n=S();E(),Y(n.error())}}function jR(e,t){if(e&1){let n=De();m(0,"tr")(1,"td"),v(2),g(),m(3,"td"),v(4),g(),m(5,"td"),v(6),g(),m(7,"td",12)(8,"a",13),v(9," Editar "),g(),m(10,"button",14),X("click",function(){let i=L(n).$implicit,o=S(2);return j(o.deleteAmbiente(i.id))}),v(11," Eliminar "),g()()()}if(e&2){let n=t.$implicit;E(2),Y(n.codigo),E(2),Y(n.nombre),E(2),Y(n.ubicacion),E(2),ye("routerLink",Sn(4,kw,n.id))}}function VR(e,t){e&1&&(m(0,"tr")(1,"td",15),v(2,"No hay ambientes"),g()())}function UR(e,t){if(e&1){let n=De();m(0,"div",8)(1,"button",16),X("click",function(){L(n);let i=S(2);return j(i.prevPage())}),v(2," \u2190 Anterior "),g(),m(3,"span",17),v(4),g(),m(5,"button",16),X("click",function(){L(n);let i=S(2);return j(i.nextPage())}),v(6," Siguiente \u2192 "),g()()}if(e&2){let n=S(2);E(),ye("disabled",n.currentPage()===1),E(3),xi(" ",n.ambientes().length," ambientes - P\xE1gina ",n.currentPage()," de ",n.totalPages()," "),E(),ye("disabled",n.currentPage()===n.totalPages())}}function BR(e,t){if(e&1){let n=De();m(0,"div",10)(1,"div",18)(2,"span",19),v(3),g()(),m(4,"div",20)(5,"h3"),v(6),g(),m(7,"p",21),v(8),g()(),m(9,"div",22)(10,"a",13),v(11," Editar "),g(),m(12,"button",14),X("click",function(){let i=L(n).$implicit,o=S(2);return j(o.deleteAmbiente(i.id))}),v(13," Eliminar "),g()()()}if(e&2){let n=t.$implicit;E(3),Y(n.codigo),E(3),Y(n.nombre),E(2),ge("\u{1F4CD} ",n.ubicacion),E(2),ye("routerLink",Sn(4,kw,n.id))}}function $R(e,t){e&1&&(m(0,"div",11),v(1,"No hay ambientes registrados"),g())}function HR(e,t){if(e&1&&(m(0,"div",6)(1,"table",7)(2,"thead")(3,"tr")(4,"th"),v(5,"C\xF3digo"),g(),m(6,"th"),v(7,"Nombre"),g(),m(8,"th"),v(9,"Ubicaci\xF3n"),g(),m(10,"th"),v(11,"Acciones"),g()()(),m(12,"tbody"),Je(13,jR,12,6,"tr",null,Ow,!1,VR,3,0,"tr"),g()(),te(16,UR,7,5,"div",8),g(),m(17,"div",9),Je(18,BR,14,6,"div",10,Ow,!1,$R,2,0,"div",11),g()),e&2){let n=S();E(13),Qe(n.ambientesPaginados()),E(3),ne(n.totalPages()>1?16:-1),E(2),Qe(n.ambientes())}}var Tu=class e{ambienteService=b(or);ambientes=U([]);loading=U(!0);error=U(null);pageSize=10;currentPage=U(1);totalPages=Ge(()=>Math.ceil(this.ambientes().length/this.pageSize));ambientesPaginados=Ge(()=>{let t=(this.currentPage()-1)*this.pageSize,n=t+this.pageSize;return this.ambientes().slice(t,n)});ngOnInit(){this.loadAmbientes()}loadAmbientes(){this.loading.set(!0),this.error.set(null),this.ambienteService.getAll().subscribe({next:t=>{this.ambientes.set(t),this.currentPage.set(1),this.loading.set(!1)},error:t=>{this.error.set("Error al cargar ambientes"),this.loading.set(!1),console.error(t)}})}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}prevPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}deleteAmbiente(t){confirm("\xBFEst\xE1s seguro de eliminar este ambiente?")&&this.ambienteService.delete(t).subscribe({next:()=>{this.loadAmbientes()},error:n=>{this.error.set("Error al eliminar ambiente"),console.error(n)}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-ambiente-list"]],decls:12,vars:3,consts:[[1,"container"],[1,"header"],["routerLink","/menu",1,"btn","btn-secondary","btn-sm"],["routerLink","/ambientes/nuevo",1,"btn","btn-primary"],[1,"loading"],[1,"error"],[1,"table-container","desktop-only"],[1,"table"],[1,"pagination"],[1,"cards-container","mobile-only"],[1,"card"],[1,"empty-card"],[1,"actions"],[1,"btn","btn-sm","btn-edit",3,"routerLink"],[1,"btn","btn-sm","btn-delete",3,"click"],["colspan","4",1,"empty"],[1,"btn","btn-sm","btn-secondary",3,"click","disabled"],[1,"pagination-info"],[1,"card-header"],[1,"card-codigo"],[1,"card-body"],[1,"card-ubicacion"],[1,"card-actions"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"header",1)(2,"div")(3,"a",2),v(4,"\u2190 Volver"),g(),m(5,"h1"),v(6,"Ambientes"),g()(),m(7,"a",3),v(8," + Agregar "),g()(),te(9,FR,2,0,"div",4),te(10,LR,2,1,"div",5),te(11,HR,21,3),g()),n&2&&(E(9),ne(r.loading()?9:-1),E(),ne(r.error()?10:-1),E(),ne(!r.loading()&&!r.error()?11:-1))},dependencies:[lt,ln],styles:[".container[_ngcontent-%COMP%]{padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}h1[_ngcontent-%COMP%]{margin:0}.table-container[_ngcontent-%COMP%]{display:block}.desktop-only[_ngcontent-%COMP%]{display:table}.mobile-only[_ngcontent-%COMP%]{display:none}.cards-container[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#0055a4;color:#fff}.card-codigo[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;color:#1a1a2e}.card-ubicacion[_ngcontent-%COMP%]{margin:0;color:#0055a4;font-size:.875rem;font-weight:500}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;border-top:1px solid #eee}.card-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.empty-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#999;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;margin-top:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.pagination[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 4px #0000001a}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#0055a4;color:#fff}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.loading[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#666}.error[_ngcontent-%COMP%]{padding:1rem;background:#fee;color:#c00;border-radius:4px;margin-bottom:1rem}.empty[_ngcontent-%COMP%]{text-align:center;color:#999;padding:2rem}@media(max-width:1000px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:flex!important}.cards-container[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}"]})};function qR(e,t){e&1&&(m(0,"div",2),v(1,"Cargando..."),g())}function zR(e,t){if(e&1&&(m(0,"div",3),v(1),g()),e&2){let n=S();E(),Y(n.error())}}function GR(e,t){if(e&1){let n=De();m(0,"form",5),X("ngSubmit",function(){L(n);let i=S();return j(i.onSubmit())}),m(1,"div",6)(2,"label",7),v(3,"C\xF3digo *"),g(),m(4,"input",8),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.codigo,i)||(o.form.codigo=i),j(i)}),g()(),m(5,"div",6)(6,"label",9),v(7,"Nombre *"),g(),m(8,"input",10),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.nombre,i)||(o.form.nombre=i),j(i)}),g()(),m(9,"div",6)(10,"label",11),v(11,"Ubicaci\xF3n *"),g(),m(12,"input",12),xe("ngModelChange",function(i){L(n);let o=S();return Fe(o.form.ubicacion,i)||(o.form.ubicacion=i),j(i)}),g()(),m(13,"div",13)(14,"button",14),v(15),g(),m(16,"button",15),X("click",function(){L(n);let i=S();return j(i.cancel())}),v(17," Cancelar "),g()()()}if(e&2){let n=S();E(4),Me("ngModel",n.form.codigo),E(4),Me("ngModel",n.form.nombre),E(4),Me("ngModel",n.form.ubicacion),E(3),ge(" ",n.isEditing()?"Actualizar":"Crear"," ")}}var oa=class e{ambienteService=b(or);router=b(Kt);route=b(it);isEditing=U(!1);loading=U(!1);error=U(null);form={codigo:"",nombre:"",ubicacion:""};ambienteId=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.isEditing.set(!0),this.ambienteId=+t,this.loadAmbiente(this.ambienteId))}loadAmbiente(t){this.loading.set(!0),this.ambienteService.getById(t).subscribe({next:n=>{this.form={codigo:n.codigo,nombre:n.nombre,ubicacion:n.ubicacion},this.loading.set(!1)},error:n=>{this.error.set("Error al cargar ambiente"),this.loading.set(!1),console.error(n)}})}onSubmit(){this.ambienteId?this.update():this.create()}create(){this.loading.set(!0),this.error.set(null),this.ambienteService.create(this.form).subscribe({next:()=>{this.router.navigate(["/ambientes"])},error:t=>{this.error.set("Error al crear ambiente"),this.loading.set(!1),console.error(t)}})}update(){this.ambienteId&&(this.loading.set(!0),this.error.set(null),this.ambienteService.update(this.ambienteId,this.form).subscribe({next:()=>{this.router.navigate(["/ambientes"])},error:t=>{this.error.set("Error al actualizar ambiente"),this.loading.set(!1),console.error(t)}}))}cancel(){this.router.navigate(["/ambientes"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-ambiente-form"]],decls:7,vars:4,consts:[[1,"container"],[1,"header"],[1,"loading"],[1,"error"],[1,"form"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","codigo"],["type","text","id","codigo","name","codigo","required","","placeholder","Ej: A001",1,"form-control",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","id","nombre","name","nombre","required","","placeholder","Ej: Aula 101",1,"form-control",3,"ngModelChange","ngModel"],["for","ubicacion"],["type","text","id","ubicacion","name","ubicacion","required","","placeholder","Ej: Edificio A - Piso 1",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"header",1)(2,"h1"),v(3),g()(),te(4,qR,2,0,"div",2),te(5,zR,2,1,"div",3),te(6,GR,18,4,"form",4),g()),n&2&&(E(3),ge("",r.isEditing()?"Editar":"Nuevo"," Ambiente"),E(),ne(r.loading()?4:-1),E(),ne(r.error()?5:-1),E(),ne(r.loading()?-1:6))},dependencies:[lt,Ji,Ql,Xn,Yi,Zl,Fs,qr,Ps],styles:[".container[_ngcontent-%COMP%]{padding:2rem;max-width:600px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:2rem}h1[_ngcontent-%COMP%]{margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#4a5568}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem}.loading[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#666}.error[_ngcontent-%COMP%]{padding:1rem;background:#fee;color:#c00;border-radius:8px;margin-bottom:1rem}"]})};var Pw=[{path:"",component:Vl},{path:"menu",component:Ul},{path:"equipos",component:Su},{path:"equipos/nuevo",component:ia},{path:"equipos/:id",component:ia},{path:"ambientes",component:Tu},{path:"ambientes/nuevo",component:oa},{path:"ambientes/:id",component:oa}];var Fp="Service workers are disabled or not supported by this browser",fo=class{serviceWorker;worker;registration;events;constructor(t,n){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new q(r=>r.error(new I(5601,!1)));else{let r=null,i=new he;this.worker=new q(l=>(r!==null&&l.next(r),i.subscribe(u=>l.next(u))));let o=()=>{let{controller:l}=t;l!==null&&(r=l,i.next(r))};t.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Ze(()=>t.getRegistration().then(l=>{if(!l)throw new I(5601,!1);return l})));let s=new he;this.events=s.asObservable();let a=l=>{let{data:u}=l;u?.type&&s.next(u)};t.addEventListener("message",a),n?.get(zt,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",o),t.removeEventListener("message",a)})}}postMessage(t,n){return new Promise(r=>{this.worker.pipe(nt(1)).subscribe(i=>{i.postMessage(D({action:t},n)),r()})})}postMessageWithOperation(t,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(t,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let n;return typeof t=="string"?n=r=>r.type===t:n=r=>t.includes(r.type),this.events.pipe(st(n))}nextEventOfType(t){return this.eventsOfType(t).pipe(nt(1))}waitForOperationCompleted(t){return new Promise((n,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(st(i=>i.nonce===t),nt(1),F(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:n,error:r})})}get isEnabled(){return!!this.serviceWorker}},WR=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new he;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=fn,this.notificationClicks=fn,this.notificationCloses=fn,this.pushSubscriptionChanges=fn,this.subscription=fn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(F(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(F(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(F(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(F(i=>i.data)),this.pushManager=this.sw.registration.pipe(F(i=>i.pushManager));let r=this.pushManager.pipe(Ze(i=>i.getSubscription()));this.subscription=new q(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Fp));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(Ze(c=>c.subscribe(r)),nt(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fp));let n=r=>{if(r===null)throw new I(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new I(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(nt(1),Ze(n)).subscribe({next:r,error:i})})}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||e)(N(fo))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),KR=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=fn,this.unrecoverable=fn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fp));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new I(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||e)(N(fo))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Lw=new x("");function YR(){let e=b(sa);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let t=b(Lw),n=b(He),r=b(zt);n.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),n.runOutsideAngular(()=>{let i,{registrationStrategy:o}=e;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=Fw(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),Fw(+a[0])]);break;default:throw new I(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(t,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(s=>console.error(mn(5604,!1)))})})}function Fw(e){return new Promise(t=>setTimeout(t,e))}function ZR(){let e=b(sa),t=b(at),n=!0;return new fo(n&&e.enabled!==!1?navigator.serviceWorker:void 0,t)}var sa=class{enabled;updateViaCache;type;scope;registrationStrategy};function jw(e,t={}){return Ft([WR,KR,{provide:Lw,useValue:e},{provide:sa,useValue:t},{provide:fo,useFactory:ZR},Yc(YR)])}var Vw={providers:[sf(),np(Pw),Rh(),jw("ngsw-worker.js",{enabled:!Ny(),registrationStrategy:"registerWhenStable:30000"})]};var JR=(e,t)=>t.id;function QR(e,t){if(e&1){let n=De();ct(0,"div",2)(1,"span",3),v(2),St(),ct(3,"button",4),In("click",function(){let i=L(n).$implicit,o=S();return j(o.toastService.remove(i.id))}),v(4,"\xD7"),St()()}if(e&2){let n=t.$implicit;rs("toast-"+n.type),E(2),Y(n.message)}}var Mu=class e{toastService=b(ir);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-container"],[1,"toast",3,"class"],[1,"toast"],[1,"toast-message"],[1,"toast-close",3,"click"]],template:function(n,r){n&1&&(ct(0,"div",0),Je(1,QR,5,3,"div",1,JR),St()),n&2&&(E(),Qe(r.toastService.toasts()))},dependencies:[lt],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:9999;display:flex;flex-direction:column;gap:12px}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 20px;border-radius:10px;box-shadow:0 4px 16px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease;min-width:280px;max-width:400px}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.toast-message[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500}.toast-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.4rem;cursor:pointer;opacity:.7;padding:0;line-height:1}.toast-close[_ngcontent-%COMP%]:hover{opacity:1}.toast-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border-left:4px solid #28a745}.toast-success[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#155724}.toast-error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border-left:4px solid #dc3545}.toast-error[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#721c24}.toast-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460;border-left:4px solid #17a2b8}.toast-info[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#0c5460}.toast-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;border-left:4px solid #ffc107}.toast-warning[_ngcontent-%COMP%]   .toast-close[_ngcontent-%COMP%]{color:#856404}"]})};function XR(e,t){if(e&1){let n=De();ct(0,"div",1),In("click",function(){L(n);let i=S();return j(i.dialogService.cancel())}),ct(1,"div",2),In("click",function(i){return L(n),j(i.stopPropagation())}),ct(2,"div",3),v(3,"\u{1F5D1}\uFE0F"),St(),ct(4,"h3",4),v(5),St(),ct(6,"p",5),v(7),St(),ct(8,"div",6)(9,"button",7),In("click",function(){L(n);let i=S();return j(i.dialogService.cancel())}),v(10," Cancelar "),St(),ct(11,"button",8),In("click",function(){L(n);let i=S();return j(i.dialogService.confirm())}),v(12," Eliminar "),St()()()()}if(e&2){let n=S();E(5),Y(n.dialogService.data().title),E(2),Y(n.dialogService.data().message)}}var xu=class e{dialogService=b(uo);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-confirm-dialog"]],decls:1,vars:1,consts:[[1,"dialog-overlay"],[1,"dialog-overlay",3,"click"],[1,"dialog",3,"click"],[1,"dialog-icon"],[1,"dialog-title"],[1,"dialog-message"],[1,"dialog-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(n,r){n&1&&te(0,XR,13,2,"div",0),n&2&&ne(r.dialogService.isOpen()?0:-1)},dependencies:[lt],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.dialog[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;max-width:400px;width:90%;text-align:center;animation:_ngcontent-%COMP%_slideUp .3s ease;box-shadow:0 10px 40px #0003}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.dialog-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.dialog-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;color:#1a1a2e;font-weight:600}.dialog-message[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#666;font-size:1rem;line-height:1.5}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.btn-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.btn-secondary[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333;transform:translateY(-2px);box-shadow:0 4px 12px #dc35454d}"]})};var Au=class e{title=U("inventario-frontend");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Ce({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(n,r){n&1&&zn(0,"app-toast")(1,"app-confirm-dialog")(2,"router-outlet")},dependencies:[Ss,Mu,xu],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;background-color:#f5f5f5;color:#333;line-height:1.6}"]})};Sh(Au,Vw).catch(e=>console.error(e));
